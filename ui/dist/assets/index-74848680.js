(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function x(){}const ei=n=>n;function Ae(n,e){for(const t in e)n[t]=e[t];return n}function Tm(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Nd(n){return n()}function _r(){return Object.create(null)}function Te(n){n.forEach(Nd)}function kt(n){return typeof n=="function"}function _e(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let ci;function Xt(n,e){return ci||(ci=document.createElement("a")),ci.href=e,n===ci.href}function Sm(n){return Object.keys(n).length===0}function Hs(n,...e){if(n==null)return x;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Cm(n){let e;return Hs(n,t=>e=t)(),e}function Ve(n,e,t){n.$$.on_destroy.push(Hs(e,t))}function ut(n,e,t,l){if(n){const i=Fd(n,e,t,l);return n[0](i)}}function Fd(n,e,t,l){return n[1]&&l?Ae(t.ctx.slice(),n[1](l(e))):t.ctx}function ft(n,e,t,l){if(n[2]&&l){const i=n[2](l(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],r=Math.max(e.dirty.length,i.length);for(let o=0;o<r;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function ct(n,e,t,l,i,s){if(i){const r=Fd(e,t,l,s);n.p(r,i)}}function dt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function It(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function ze(n,e){const t={};e=new Set(e);for(const l in n)!e.has(l)&&l[0]!=="$"&&(t[l]=n[l]);return t}function ul(n){return n??""}function Wt(n,e,t){return n.set(t),e}function $e(n){return n&&kt(n.destroy)?n.destroy:x}function hr(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const Ld=typeof window<"u";let Ri=Ld?()=>window.performance.now():()=>Date.now(),Vs=Ld?n=>requestAnimationFrame(n):x;const yl=new Set;function qd(n){yl.forEach(e=>{e.c(n)||(yl.delete(e),e.f())}),yl.size!==0&&Vs(qd)}function ji(n){let e;return yl.size===0&&Vs(qd),{promise:new Promise(t=>{yl.add(e={c:n,f:t})}),abort(){yl.delete(e)}}}function b(n,e){n.appendChild(e)}function Pd(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function Em(n){const e=h("style");return Om(Pd(n),e),e.sheet}function Om(n,e){return b(n.head||n,e),e.sheet}function w(n,e,t){n.insertBefore(e,t||null)}function y(n){n.parentNode&&n.parentNode.removeChild(n)}function it(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function h(n){return document.createElement(n)}function B(n){return document.createTextNode(n)}function D(){return B(" ")}function ke(){return B("")}function Y(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function Ke(n){return function(e){return e.preventDefault(),n.call(this,e)}}function fn(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function p(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const Dm=["width","height"];function En(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const l in e)e[l]==null?n.removeAttribute(l):l==="style"?n.style.cssText=e[l]:l==="__value"?n.value=n[l]=e[l]:t[l]&&t[l].set&&Dm.indexOf(l)===-1?n[l]=e[l]:p(n,l,e[l])}function Am(n){let e;return{p(...t){e=t,e.forEach(l=>n.push(l))},r(){e.forEach(t=>n.splice(n.indexOf(t),1))}}}function lt(n){return n===""?null:+n}function Mm(n){return Array.from(n.childNodes)}function oe(n,e){e=""+e,n.data!==e&&(n.data=e)}function re(n,e){n.value=e??""}function Im(n,e,t,l){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,l?"important":"")}function X(n,e,t){n.classList[t?"add":"remove"](e)}function Rd(n,e,{bubbles:t=!1,cancelable:l=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,l,e),i}function gt(n,e){return new n(e)}const Oi=new Map;let Di=0;function Nm(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function Fm(n,e){const t={stylesheet:Em(e),rules:{}};return Oi.set(n,t),t}function Jl(n,e,t,l,i,s,r,o=0){const a=16.666/l;let u=`{
`;for(let g=0;g<=1;g+=a){const k=e+(t-e)*s(g);u+=g*100+`%{${r(k,1-k)}}
`}const f=u+`100% {${r(t,1-t)}}
}`,c=`__svelte_${Nm(f)}_${o}`,d=Pd(n),{stylesheet:m,rules:v}=Oi.get(d)||Fm(d,n);v[c]||(v[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const _=n.style.animation||"";return n.style.animation=`${_?`${_}, `:""}${c} ${l}ms linear ${i}ms 1 both`,Di+=1,c}function Zl(n,e){const t=(n.style.animation||"").split(", "),l=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-l.length;i&&(n.style.animation=l.join(", "),Di-=i,Di||Lm())}function Lm(){Vs(()=>{Di||(Oi.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&y(e)}),Oi.clear())})}function qm(n,e,t,l){if(!e)return x;const i=n.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return x;const{delay:s=0,duration:r=300,easing:o=ei,start:a=Ri()+s,end:u=a+r,tick:f=x,css:c}=t(n,{from:e,to:i},l);let d=!0,m=!1,v;function _(){c&&(v=Jl(n,0,1,r,s,o,c)),s||(m=!0)}function g(){c&&Zl(n,v),d=!1}return ji(k=>{if(!m&&k>=a&&(m=!0),m&&k>=u&&(f(1,0),g()),!d)return!1;if(m){const $=k-a,C=0+1*o($/r);f(C,1-C)}return!0}),_(),f(0,1),g}function Pm(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,i=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=l,jd(n,i)}}function jd(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(n),i=l.transform==="none"?"":l.transform;n.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Gl;function Ln(n){Gl=n}function ti(){if(!Gl)throw new Error("Function called outside component initialization");return Gl}function Ut(n){ti().$$.on_mount.push(n)}function Rm(n){ti().$$.after_update.push(n)}function Hi(n){ti().$$.on_destroy.push(n)}function pt(){const n=ti();return(e,t,{cancelable:l=!1}={})=>{const i=n.$$.callbacks[e];if(i){const s=Rd(e,t,{cancelable:l});return i.slice().forEach(r=>{r.call(n,s)}),!s.defaultPrevented}return!0}}function De(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const kl=[],le=[];let wl=[];const $s=[],Hd=Promise.resolve();let Ts=!1;function Vd(){Ts||(Ts=!0,Hd.then(Us))}function Kt(){return Vd(),Hd}function Be(n){wl.push(n)}function he(n){$s.push(n)}const ts=new Set;let hl=0;function Us(){if(hl!==0)return;const n=Gl;do{try{for(;hl<kl.length;){const e=kl[hl];hl++,Ln(e),jm(e.$$)}}catch(e){throw kl.length=0,hl=0,e}for(Ln(null),kl.length=0,hl=0;le.length;)le.pop()();for(let e=0;e<wl.length;e+=1){const t=wl[e];ts.has(t)||(ts.add(t),t())}wl.length=0}while(kl.length);for(;$s.length;)$s.pop()();Ts=!1,ts.clear(),Ln(n)}function jm(n){if(n.fragment!==null){n.update(),Te(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Be)}}function Hm(n){const e=[],t=[];wl.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),wl=e}let Pl;function zs(){return Pl||(Pl=Promise.resolve(),Pl.then(()=>{Pl=null})),Pl}function rl(n,e,t){n.dispatchEvent(Rd(`${e?"intro":"outro"}${t}`))}const yi=new Set;let Sn;function ue(){Sn={r:0,c:[],p:Sn}}function fe(){Sn.r||Te(Sn.c),Sn=Sn.p}function M(n,e){n&&n.i&&(yi.delete(n),n.i(e))}function I(n,e,t,l){if(n&&n.o){if(yi.has(n))return;yi.add(n),Sn.c.push(()=>{yi.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}const Bs={duration:0};function Ud(n,e,t){const l={direction:"in"};let i=e(n,t,l),s=!1,r,o,a=0;function u(){r&&Zl(n,r)}function f(){const{delay:d=0,duration:m=300,easing:v=ei,tick:_=x,css:g}=i||Bs;g&&(r=Jl(n,0,1,m,d,v,g,a++)),_(0,1);const k=Ri()+d,$=k+m;o&&o.abort(),s=!0,Be(()=>rl(n,!0,"start")),o=ji(C=>{if(s){if(C>=$)return _(1,0),rl(n,!0,"end"),u(),s=!1;if(C>=k){const T=v((C-k)/m);_(T,1-T)}}return s})}let c=!1;return{start(){c||(c=!0,Zl(n),kt(i)?(i=i(l),zs().then(f)):f())},invalidate(){c=!1},end(){s&&(u(),s=!1)}}}function Ws(n,e,t){const l={direction:"out"};let i=e(n,t,l),s=!0,r;const o=Sn;o.r+=1;function a(){const{delay:u=0,duration:f=300,easing:c=ei,tick:d=x,css:m}=i||Bs;m&&(r=Jl(n,1,0,f,u,c,m));const v=Ri()+u,_=v+f;Be(()=>rl(n,!1,"start")),ji(g=>{if(s){if(g>=_)return d(0,1),rl(n,!1,"end"),--o.r||Te(o.c),!1;if(g>=v){const k=c((g-v)/f);d(1-k,k)}}return s})}return kt(i)?zs().then(()=>{i=i(l),a()}):a(),{end(u){u&&i.tick&&i.tick(1,0),s&&(r&&Zl(n,r),s=!1)}}}function Fe(n,e,t,l){const i={direction:"both"};let s=e(n,t,i),r=l?0:1,o=null,a=null,u=null;function f(){u&&Zl(n,u)}function c(m,v){const _=m.b-r;return v*=Math.abs(_),{a:r,b:m.b,d:_,duration:v,start:m.start,end:m.start+v,group:m.group}}function d(m){const{delay:v=0,duration:_=300,easing:g=ei,tick:k=x,css:$}=s||Bs,C={start:Ri()+v,b:m};m||(C.group=Sn,Sn.r+=1),o||a?a=C:($&&(f(),u=Jl(n,r,m,_,v,g,$)),m&&k(0,1),o=c(C,_),Be(()=>rl(n,m,"start")),ji(T=>{if(a&&T>a.start&&(o=c(a,_),a=null,rl(n,o.b,"start"),$&&(f(),u=Jl(n,r,o.b,o.duration,0,g,s.css))),o){if(T>=o.end)k(r=o.b,1-r),rl(n,o.b,"end"),a||(o.b?f():--o.group.r||Te(o.group.c)),o=null;else if(T>=o.start){const S=T-o.start;r=o.a+o.d*g(S/o.duration),k(r,1-r)}}return!!(o||a)}))}return{run(m){kt(s)?zs().then(()=>{s=s(i),d(m)}):d(m)},end(){f(),o=a=null}}}function br(n,e){const t=e.token={};function l(i,s,r,o){if(e.token!==t)return;e.resolved=o;let a=e.ctx;r!==void 0&&(a=a.slice(),a[r]=o);const u=i&&(e.current=i)(a);let f=!1;e.block&&(e.blocks?e.blocks.forEach((c,d)=>{d!==s&&c&&(ue(),I(c,1,1,()=>{e.blocks[d]===c&&(e.blocks[d]=null)}),fe())}):e.block.d(1),u.c(),M(u,1),u.m(e.mount(),e.anchor),f=!0),e.block=u,e.blocks&&(e.blocks[s]=u),f&&Us()}if(Tm(n)){const i=ti();if(n.then(s=>{Ln(i),l(e.then,1,e.value,s),Ln(null)},s=>{if(Ln(i),l(e.catch,2,e.error,s),Ln(null),!e.hasCatch)throw s}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,n),!0;e.resolved=n}}function Vm(n,e,t){const l=e.slice(),{resolved:i}=n;n.current===n.then&&(l[n.value]=i),n.current===n.catch&&(l[n.error]=i),n.block.p(l,t)}function dl(n,e){n.d(1),e.delete(n.key)}function Ot(n,e){I(n,1,1,()=>{e.delete(n.key)})}function Um(n,e){n.f(),Ot(n,e)}function rt(n,e,t,l,i,s,r,o,a,u,f,c){let d=n.length,m=s.length,v=d;const _={};for(;v--;)_[n[v].key]=v;const g=[],k=new Map,$=new Map,C=[];for(v=m;v--;){const O=c(i,s,v),A=t(O);let N=r.get(A);N?l&&C.push(()=>N.p(O,e)):(N=u(A,O),N.c()),k.set(A,g[v]=N),A in _&&$.set(A,Math.abs(v-_[A]))}const T=new Set,S=new Set;function E(O){M(O,1),O.m(o,f),r.set(O.key,O),f=O.first,m--}for(;d&&m;){const O=g[m-1],A=n[d-1],N=O.key,F=A.key;O===A?(f=O.first,d--,m--):k.has(F)?!r.has(N)||T.has(N)?E(O):S.has(F)?d--:$.get(N)>$.get(F)?(S.add(N),E(O)):(T.add(F),d--):(a(A,r),d--)}for(;d--;){const O=n[d];k.has(O.key)||a(O,r)}for(;m;)E(g[m-1]);return Te(C),g}function mt(n,e){const t={},l={},i={$$scope:1};let s=n.length;for(;s--;){const r=n[s],o=e[s];if(o){for(const a in r)a in o||(l[a]=1);for(const a in o)i[a]||(t[a]=o[a],i[a]=1);n[s]=o}else for(const a in r)i[a]=1}for(const r in l)r in t||(t[r]=void 0);return t}function Nt(n){return typeof n=="object"&&n!==null?n:{}}function me(n,e,t){const l=n.$$.props[e];l!==void 0&&(n.$$.bound[l]=t,t(n.$$.ctx[l]))}function U(n){n&&n.c()}function H(n,e,t,l){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),l||Be(()=>{const r=n.$$.on_mount.map(Nd).filter(kt);n.$$.on_destroy?n.$$.on_destroy.push(...r):Te(r),n.$$.on_mount=[]}),s.forEach(Be)}function V(n,e){const t=n.$$;t.fragment!==null&&(Hm(t.after_update),Te(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function zm(n,e){n.$$.dirty[0]===-1&&(kl.push(n),Vd(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function be(n,e,t,l,i,s,r,o=[-1]){const a=Gl;Ln(n);const u=n.$$={fragment:null,ctx:[],props:s,update:x,not_equal:i,bound:_r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:_r(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(c,d,...m)=>{const v=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=v)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](v),f&&zm(n,c)),d}):[],u.update(),f=!0,Te(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const c=Mm(e.target);u.fragment&&u.fragment.l(c),c.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&M(n.$$.fragment),H(n,e.target,e.anchor,e.customElement),Us()}Ln(a)}class ge{$destroy(){V(this,1),this.$destroy=x}$on(e,t){if(!kt(t))return x;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const i=l.indexOf(t);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!Sm(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class pl extends Error{}class Bm extends pl{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Wm extends pl{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Km extends pl{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class zl extends pl{}class zd extends pl{constructor(e){super(`Invalid unit ${e}`)}}class hn extends pl{}class Bn extends pl{constructor(){super("Zone is an abstract class")}}const Se="numeric",$n="short",un="long",Ss={year:Se,month:Se,day:Se},Bd={year:Se,month:$n,day:Se},Ym={year:Se,month:$n,day:Se,weekday:$n},Wd={year:Se,month:un,day:Se},Kd={year:Se,month:un,day:Se,weekday:un},Yd={hour:Se,minute:Se},Jd={hour:Se,minute:Se,second:Se},Zd={hour:Se,minute:Se,second:Se,timeZoneName:$n},Gd={hour:Se,minute:Se,second:Se,timeZoneName:un},Qd={hour:Se,minute:Se,hourCycle:"h23"},Xd={hour:Se,minute:Se,second:Se,hourCycle:"h23"},xd={hour:Se,minute:Se,second:Se,hourCycle:"h23",timeZoneName:$n},ep={hour:Se,minute:Se,second:Se,hourCycle:"h23",timeZoneName:un},tp={year:Se,month:Se,day:Se,hour:Se,minute:Se},np={year:Se,month:Se,day:Se,hour:Se,minute:Se,second:Se},lp={year:Se,month:$n,day:Se,hour:Se,minute:Se},ip={year:Se,month:$n,day:Se,hour:Se,minute:Se,second:Se},Jm={year:Se,month:$n,day:Se,weekday:$n,hour:Se,minute:Se},sp={year:Se,month:un,day:Se,hour:Se,minute:Se,timeZoneName:$n},rp={year:Se,month:un,day:Se,hour:Se,minute:Se,second:Se,timeZoneName:$n},op={year:Se,month:un,day:Se,weekday:un,hour:Se,minute:Se,timeZoneName:un},ap={year:Se,month:un,day:Se,weekday:un,hour:Se,minute:Se,second:Se,timeZoneName:un};function Ze(n){return typeof n>"u"}function ol(n){return typeof n=="number"}function Vi(n){return typeof n=="number"&&n%1===0}function Zm(n){return typeof n=="string"}function Gm(n){return Object.prototype.toString.call(n)==="[object Date]"}function up(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Qm(n){return Array.isArray(n)?n:[n]}function gr(n,e,t){if(n.length!==0)return n.reduce((l,i)=>{const s=[e(i),i];return l&&t(l[0],s[0])===l[0]?l:s},null)[1]}function Xm(n,e){return e.reduce((t,l)=>(t[l]=n[l],t),{})}function El(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function qn(n,e,t){return Vi(n)&&n>=e&&n<=t}function xm(n,e){return n-e*Math.floor(n/e)}function Ct(n,e=2){const t=n<0;let l;return t?l="-"+(""+-n).padStart(e,"0"):l=(""+n).padStart(e,"0"),l}function Wn(n){if(!(Ze(n)||n===null||n===""))return parseInt(n,10)}function el(n){if(!(Ze(n)||n===null||n===""))return parseFloat(n)}function Ks(n){if(!(Ze(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Ys(n,e,t=!1){const l=10**e;return(t?Math.trunc:Math.round)(n*l)/l}function ni(n){return n%4===0&&(n%100!==0||n%400===0)}function Wl(n){return ni(n)?366:365}function Ai(n,e){const t=xm(e-1,12)+1,l=n+(e-t)/12;return t===2?ni(l)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Js(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Mi(n){const e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,l=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||l===3?53:52}function Cs(n){return n>99?n:n>60?1900+n:2e3+n}function fp(n,e,t,l=null){const i=new Date(n),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};l&&(s.timeZone=l);const r={timeZoneName:e,...s},o=new Intl.DateTimeFormat(t,r).formatToParts(i).find(a=>a.type.toLowerCase()==="timezonename");return o?o.value:null}function Ui(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const l=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-l:l;return t*60+i}function cp(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new hn(`Invalid unit value ${n}`);return e}function Ii(n,e){const t={};for(const l in n)if(El(n,l)){const i=n[l];if(i==null)continue;t[e(l)]=cp(i)}return t}function Kl(n,e){const t=Math.trunc(Math.abs(n/60)),l=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return`${i}${Ct(t,2)}:${Ct(l,2)}`;case"narrow":return`${i}${t}${l>0?`:${l}`:""}`;case"techie":return`${i}${Ct(t,2)}${Ct(l,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function zi(n){return Xm(n,["hour","minute","second","millisecond"])}const dp=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,e_=["January","February","March","April","May","June","July","August","September","October","November","December"],pp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t_=["J","F","M","A","M","J","J","A","S","O","N","D"];function mp(n){switch(n){case"narrow":return[...t_];case"short":return[...pp];case"long":return[...e_];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const _p=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],hp=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n_=["M","T","W","T","F","S","S"];function bp(n){switch(n){case"narrow":return[...n_];case"short":return[...hp];case"long":return[..._p];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const gp=["AM","PM"],l_=["Before Christ","Anno Domini"],i_=["BC","AD"],s_=["B","A"];function vp(n){switch(n){case"narrow":return[...s_];case"short":return[...i_];case"long":return[...l_];default:return null}}function r_(n){return gp[n.hour<12?0:1]}function o_(n,e){return bp(e)[n.weekday-1]}function a_(n,e){return mp(e)[n.month-1]}function u_(n,e){return vp(e)[n.year<0?0:1]}function f_(n,e,t="always",l=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){const c=n==="days";switch(e){case 1:return c?"tomorrow":`next ${i[n][0]}`;case-1:return c?"yesterday":`last ${i[n][0]}`;case 0:return c?"today":`this ${i[n][0]}`}}const r=Object.is(e,-0)||e<0,o=Math.abs(e),a=o===1,u=i[n],f=l?a?u[1]:u[2]||u[1]:a?i[n][0]:n;return r?`${o} ${f} ago`:`in ${o} ${f}`}function vr(n,e){let t="";for(const l of n)l.literal?t+=l.val:t+=e(l.val);return t}const c_={D:Ss,DD:Bd,DDD:Wd,DDDD:Kd,t:Yd,tt:Jd,ttt:Zd,tttt:Gd,T:Qd,TT:Xd,TTT:xd,TTTT:ep,f:tp,ff:lp,fff:sp,ffff:op,F:np,FF:ip,FFF:rp,FFFF:ap};class nn{static create(e,t={}){return new nn(e,t)}static parseFormat(e){let t=null,l="",i=!1;const s=[];for(let r=0;r<e.length;r++){const o=e.charAt(r);o==="'"?(l.length>0&&s.push({literal:i,val:l}),t=null,l="",i=!i):i||o===t?l+=o:(l.length>0&&s.push({literal:!1,val:l}),l=o,t=o)}return l.length>0&&s.push({literal:i,val:l}),s}static macroTokenToFormatOpts(e){return c_[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Ct(e,t);const l={...this.opts};return t>0&&(l.padTo=t),this.loc.numberFormatter(l).format(e)}formatDateTimeFromString(e,t){const l=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(m,v)=>this.loc.extract(e,m,v),r=m=>e.isOffsetFixed&&e.offset===0&&m.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,m.format):"",o=()=>l?r_(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(m,v)=>l?a_(e,m):s(v?{month:m}:{month:m,day:"numeric"},"month"),u=(m,v)=>l?o_(e,m):s(v?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),f=m=>{const v=nn.macroTokenToFormatOpts(m);return v?this.formatWithSystemDefault(e,v):m},c=m=>l?u_(e,m):s({era:m},"era"),d=m=>{switch(m){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return r({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return r({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return r({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(m)}};return vr(nn.parseFormat(t),d)}formatDurationFromString(e,t){const l=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=a=>u=>{const f=l(u);return f?this.num(a.get(f),u.length):u},s=nn.parseFormat(t),r=s.reduce((a,{literal:u,val:f})=>u?a:a.concat(f),[]),o=e.shiftTo(...r.map(l).filter(a=>a));return vr(s,i(o))}}class wn{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class li{get type(){throw new Bn}get name(){throw new Bn}get ianaName(){return this.name}get isUniversal(){throw new Bn}offsetName(e,t){throw new Bn}formatOffset(e,t){throw new Bn}offset(e){throw new Bn}equals(e){throw new Bn}get isValid(){throw new Bn}}let ns=null;class Zs extends li{static get instance(){return ns===null&&(ns=new Zs),ns}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:l}){return fp(e,t,l)}formatOffset(e,t){return Kl(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let wi={};function d_(n){return wi[n]||(wi[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),wi[n]}const p_={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function m_(n,e){const t=n.format(e).replace(/\u200E/g,""),l=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,s,r,o,a,u,f]=l;return[r,i,s,o,a,u,f]}function __(n,e){const t=n.formatToParts(e),l=[];for(let i=0;i<t.length;i++){const{type:s,value:r}=t[i],o=p_[s];s==="era"?l[o]=r:Ze(o)||(l[o]=parseInt(r,10))}return l}let di={};class Rn extends li{static create(e){return di[e]||(di[e]=new Rn(e)),di[e]}static resetCache(){di={},wi={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Rn.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:l}){return fp(e,t,l,this.name)}formatOffset(e,t){return Kl(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const l=d_(this.name);let[i,s,r,o,a,u,f]=l.formatToParts?__(l,t):m_(l,t);o==="BC"&&(i=-Math.abs(i)+1);const d=Js({year:i,month:s,day:r,hour:a===24?0:a,minute:u,second:f,millisecond:0});let m=+t;const v=m%1e3;return m-=v>=0?v:1e3+v,(d-m)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let ls=null;class Qt extends li{static get utcInstance(){return ls===null&&(ls=new Qt(0)),ls}static instance(e){return e===0?Qt.utcInstance:new Qt(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Qt(Ui(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Kl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Kl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Kl(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class h_ extends li{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Kn(n,e){if(Ze(n)||n===null)return e;if(n instanceof li)return n;if(Zm(n)){const t=n.toLowerCase();return t==="local"||t==="system"?e:t==="utc"||t==="gmt"?Qt.utcInstance:Qt.parseSpecifier(t)||Rn.create(n)}else return ol(n)?Qt.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new h_(n)}let kr=()=>Date.now(),yr="system",wr=null,$r=null,Tr=null,Sr;class Mt{static get now(){return kr}static set now(e){kr=e}static set defaultZone(e){yr=e}static get defaultZone(){return Kn(yr,Zs.instance)}static get defaultLocale(){return wr}static set defaultLocale(e){wr=e}static get defaultNumberingSystem(){return $r}static set defaultNumberingSystem(e){$r=e}static get defaultOutputCalendar(){return Tr}static set defaultOutputCalendar(e){Tr=e}static get throwOnInvalid(){return Sr}static set throwOnInvalid(e){Sr=e}static resetCaches(){ht.resetCache(),Rn.resetCache()}}let Cr={};function b_(n,e={}){const t=JSON.stringify([n,e]);let l=Cr[t];return l||(l=new Intl.ListFormat(n,e),Cr[t]=l),l}let Es={};function Os(n,e={}){const t=JSON.stringify([n,e]);let l=Es[t];return l||(l=new Intl.DateTimeFormat(n,e),Es[t]=l),l}let Ds={};function g_(n,e={}){const t=JSON.stringify([n,e]);let l=Ds[t];return l||(l=new Intl.NumberFormat(n,e),Ds[t]=l),l}let As={};function v_(n,e={}){const{base:t,...l}=e,i=JSON.stringify([n,l]);let s=As[i];return s||(s=new Intl.RelativeTimeFormat(n,e),As[i]=s),s}let Bl=null;function k_(){return Bl||(Bl=new Intl.DateTimeFormat().resolvedOptions().locale,Bl)}function y_(n){const e=n.indexOf("-u-");if(e===-1)return[n];{let t;const l=n.substring(0,e);try{t=Os(n).resolvedOptions()}catch{t=Os(l).resolvedOptions()}const{numberingSystem:i,calendar:s}=t;return[l,i,s]}}function w_(n,e,t){return(t||e)&&(n+="-u",t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function $_(n){const e=[];for(let t=1;t<=12;t++){const l=je.utc(2016,t,1);e.push(n(l))}return e}function T_(n){const e=[];for(let t=1;t<=7;t++){const l=je.utc(2016,11,13+t);e.push(n(l))}return e}function pi(n,e,t,l,i){const s=n.listingMode(t);return s==="error"?null:s==="en"?l(e):i(e)}function S_(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class C_{constructor(e,t,l){this.padTo=l.padTo||0,this.floor=l.floor||!1;const{padTo:i,floor:s,...r}=l;if(!t||Object.keys(r).length>0){const o={useGrouping:!1,...l};l.padTo>0&&(o.minimumIntegerDigits=l.padTo),this.inf=g_(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Ys(e,3);return Ct(t,this.padTo)}}}class E_{constructor(e,t,l){this.opts=l;let i;if(e.zone.isUniversal){const r=-1*(e.offset/60),o=r>=0?`Etc/GMT+${r}`:`Etc/GMT${r}`;e.offset!==0&&Rn.create(o).valid?(i=o,this.dt=e):(i="UTC",l.timeZoneName?this.dt=e:this.dt=e.offset===0?e:je.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);const s={...this.opts};i&&(s.timeZone=i),this.dtf=Os(t,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class O_{constructor(e,t,l){this.opts={style:"long",...l},!t&&up()&&(this.rtf=v_(e,l))}format(e,t){return this.rtf?this.rtf.format(e,t):f_(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class ht{static fromOpts(e){return ht.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,l,i=!1){const s=e||Mt.defaultLocale,r=s||(i?"en-US":k_()),o=t||Mt.defaultNumberingSystem,a=l||Mt.defaultOutputCalendar;return new ht(r,o,a,s)}static resetCache(){Bl=null,Es={},Ds={},As={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:l}={}){return ht.create(e,t,l)}constructor(e,t,l,i){const[s,r,o]=y_(e);this.locale=s,this.numberingSystem=t||r||null,this.outputCalendar=l||o||null,this.intl=w_(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=S_(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ht.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,l=!0){return pi(this,e,l,mp,()=>{const i=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=$_(r=>this.extract(r,i,"month"))),this.monthsCache[s][e]})}weekdays(e,t=!1,l=!0){return pi(this,e,l,bp,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=T_(r=>this.extract(r,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(e=!0){return pi(this,void 0,e,()=>gp,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[je.utc(2016,11,13,9),je.utc(2016,11,13,19)].map(l=>this.extract(l,t,"dayperiod"))}return this.meridiemCache})}eras(e,t=!0){return pi(this,e,t,vp,()=>{const l={era:e};return this.eraCache[e]||(this.eraCache[e]=[je.utc(-40,1,1),je.utc(2017,1,1)].map(i=>this.extract(i,l,"era"))),this.eraCache[e]})}extract(e,t,l){const i=this.dtFormatter(e,t),s=i.formatToParts(),r=s.find(o=>o.type.toLowerCase()===l);return r?r.value:null}numberFormatter(e={}){return new C_(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new E_(e,this.intl,t)}relFormatter(e={}){return new O_(this.intl,this.isEnglish(),e)}listFormatter(e={}){return b_(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function Ml(...n){const e=n.reduce((t,l)=>t+l.source,"");return RegExp(`^${e}$`)}function Il(...n){return e=>n.reduce(([t,l,i],s)=>{const[r,o,a]=s(e,i);return[{...t,...r},o||l,a]},[{},null,1]).slice(0,2)}function Nl(n,...e){if(n==null)return[null,null];for(const[t,l]of e){const i=t.exec(n);if(i)return l(i)}return[null,null]}function kp(...n){return(e,t)=>{const l={};let i;for(i=0;i<n.length;i++)l[n[i]]=Wn(e[t+i]);return[l,null,t+i]}}const yp=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,D_=`(?:${yp.source}?(?:\\[(${dp.source})\\])?)?`,Gs=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,wp=RegExp(`${Gs.source}${D_}`),Qs=RegExp(`(?:T${wp.source})?`),A_=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,M_=/(\d{4})-?W(\d\d)(?:-?(\d))?/,I_=/(\d{4})-?(\d{3})/,N_=kp("weekYear","weekNumber","weekDay"),F_=kp("year","ordinal"),L_=/(\d{4})-(\d\d)-(\d\d)/,$p=RegExp(`${Gs.source} ?(?:${yp.source}|(${dp.source}))?`),q_=RegExp(`(?: ${$p.source})?`);function $l(n,e,t){const l=n[e];return Ze(l)?t:Wn(l)}function P_(n,e){return[{year:$l(n,e),month:$l(n,e+1,1),day:$l(n,e+2,1)},null,e+3]}function Fl(n,e){return[{hours:$l(n,e,0),minutes:$l(n,e+1,0),seconds:$l(n,e+2,0),milliseconds:Ks(n[e+3])},null,e+4]}function ii(n,e){const t=!n[e]&&!n[e+1],l=Ui(n[e+1],n[e+2]),i=t?null:Qt.instance(l);return[{},i,e+3]}function si(n,e){const t=n[e]?Rn.create(n[e]):null;return[{},t,e+1]}const R_=RegExp(`^T?${Gs.source}$`),j_=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function H_(n){const[e,t,l,i,s,r,o,a,u]=n,f=e[0]==="-",c=a&&a[0]==="-",d=(m,v=!1)=>m!==void 0&&(v||m&&f)?-m:m;return[{years:d(el(t)),months:d(el(l)),weeks:d(el(i)),days:d(el(s)),hours:d(el(r)),minutes:d(el(o)),seconds:d(el(a),a==="-0"),milliseconds:d(Ks(u),c)}]}const V_={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Xs(n,e,t,l,i,s,r){const o={year:e.length===2?Cs(Wn(e)):Wn(e),month:pp.indexOf(t)+1,day:Wn(l),hour:Wn(i),minute:Wn(s)};return r&&(o.second=Wn(r)),n&&(o.weekday=n.length>3?_p.indexOf(n)+1:hp.indexOf(n)+1),o}const U_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function z_(n){const[,e,t,l,i,s,r,o,a,u,f,c]=n,d=Xs(e,i,l,t,s,r,o);let m;return a?m=V_[a]:u?m=0:m=Ui(f,c),[d,new Qt(m)]}function B_(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const W_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,K_=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Y_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Er(n){const[,e,t,l,i,s,r,o]=n;return[Xs(e,i,l,t,s,r,o),Qt.utcInstance]}function J_(n){const[,e,t,l,i,s,r,o]=n;return[Xs(e,o,t,l,i,s,r),Qt.utcInstance]}const Z_=Ml(A_,Qs),G_=Ml(M_,Qs),Q_=Ml(I_,Qs),X_=Ml(wp),Tp=Il(P_,Fl,ii,si),x_=Il(N_,Fl,ii,si),eh=Il(F_,Fl,ii,si),th=Il(Fl,ii,si);function nh(n){return Nl(n,[Z_,Tp],[G_,x_],[Q_,eh],[X_,th])}function lh(n){return Nl(B_(n),[U_,z_])}function ih(n){return Nl(n,[W_,Er],[K_,Er],[Y_,J_])}function sh(n){return Nl(n,[j_,H_])}const rh=Il(Fl);function oh(n){return Nl(n,[R_,rh])}const ah=Ml(L_,q_),uh=Ml($p),fh=Il(Fl,ii,si);function ch(n){return Nl(n,[ah,Tp],[uh,fh])}const dh="Invalid Duration",Sp={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ph={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Sp},pn=146097/400,bl=146097/4800,mh={years:{quarters:4,months:12,weeks:pn/7,days:pn,hours:pn*24,minutes:pn*24*60,seconds:pn*24*60*60,milliseconds:pn*24*60*60*1e3},quarters:{months:3,weeks:pn/28,days:pn/4,hours:pn*24/4,minutes:pn*24*60/4,seconds:pn*24*60*60/4,milliseconds:pn*24*60*60*1e3/4},months:{weeks:bl/7,days:bl,hours:bl*24,minutes:bl*24*60,seconds:bl*24*60*60,milliseconds:bl*24*60*60*1e3},...Sp},il=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],_h=il.slice(0).reverse();function tl(n,e,t=!1){const l={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new Qe(l)}function hh(n){return n<0?Math.floor(n):Math.ceil(n)}function Cp(n,e,t,l,i){const s=n[i][t],r=e[t]/s,o=Math.sign(r)===Math.sign(l[i]),a=!o&&l[i]!==0&&Math.abs(r)<=1?hh(r):Math.trunc(r);l[i]+=a,e[t]-=a*s}function bh(n,e){_h.reduce((t,l)=>Ze(e[l])?t:(t&&Cp(n,e,t,e,l),l),null)}class Qe{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||ht.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?mh:ph,this.isLuxonDuration=!0}static fromMillis(e,t){return Qe.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new hn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Qe({values:Ii(e,Qe.normalizeUnit),loc:ht.fromObject(t),conversionAccuracy:t.conversionAccuracy})}static fromDurationLike(e){if(ol(e))return Qe.fromMillis(e);if(Qe.isDuration(e))return e;if(typeof e=="object")return Qe.fromObject(e);throw new hn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[l]=sh(e);return l?Qe.fromObject(l,t):Qe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[l]=oh(e);return l?Qe.fromObject(l,t):Qe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new hn("need to specify a reason the Duration is invalid");const l=e instanceof wn?e:new wn(e,t);if(Mt.throwOnInvalid)throw new Km(l);return new Qe({invalid:l})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new zd(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const l={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?nn.create(this.loc,l).formatDurationFromString(this,e):dh}toHuman(e={}){const t=il.map(l=>{const i=this.values[l];return Ze(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:l.slice(0,-1)}).format(i)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Ys(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const l=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||l.seconds!==0||l.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||l.milliseconds!==0)&&(i+=".SSS"));let s=l.toFormat(i);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Qe.fromDurationLike(e),l={};for(const i of il)(El(t.values,i)||El(this.values,i))&&(l[i]=t.get(i)+this.get(i));return tl(this,{values:l},!0)}minus(e){if(!this.isValid)return this;const t=Qe.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const l of Object.keys(this.values))t[l]=cp(e(this.values[l],l));return tl(this,{values:t},!0)}get(e){return this[Qe.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Ii(e,Qe.normalizeUnit)};return tl(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:l}={}){const i=this.loc.clone({locale:e,numberingSystem:t}),s={loc:i};return l&&(s.conversionAccuracy=l),tl(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return bh(this.matrix,e),tl(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(r=>Qe.normalizeUnit(r));const t={},l={},i=this.toObject();let s;for(const r of il)if(e.indexOf(r)>=0){s=r;let o=0;for(const u in l)o+=this.matrix[u][r]*l[u],l[u]=0;ol(i[r])&&(o+=i[r]);const a=Math.trunc(o);t[r]=a,l[r]=(o*1e3-a*1e3)/1e3;for(const u in i)il.indexOf(u)>il.indexOf(r)&&Cp(this.matrix,i,u,t,r)}else ol(i[r])&&(l[r]=i[r]);for(const r in l)l[r]!==0&&(t[s]+=r===s?l[r]:l[r]/this.matrix[s][r]);return tl(this,{values:t},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return tl(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(l,i){return l===void 0||l===0?i===void 0||i===0:l===i}for(const l of il)if(!t(this.values[l],e.values[l]))return!1;return!0}}const Rl="Invalid Interval";function gh(n,e){return!n||!n.isValid?bt.invalid("missing or invalid start"):!e||!e.isValid?bt.invalid("missing or invalid end"):e<n?bt.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class bt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new hn("need to specify a reason the Interval is invalid");const l=e instanceof wn?e:new wn(e,t);if(Mt.throwOnInvalid)throw new Wm(l);return new bt({invalid:l})}static fromDateTimes(e,t){const l=Vl(e),i=Vl(t),s=gh(l,i);return s??new bt({start:l,end:i})}static after(e,t){const l=Qe.fromDurationLike(t),i=Vl(e);return bt.fromDateTimes(i,i.plus(l))}static before(e,t){const l=Qe.fromDurationLike(t),i=Vl(e);return bt.fromDateTimes(i.minus(l),i)}static fromISO(e,t){const[l,i]=(e||"").split("/",2);if(l&&i){let s,r;try{s=je.fromISO(l,t),r=s.isValid}catch{r=!1}let o,a;try{o=je.fromISO(i,t),a=o.isValid}catch{a=!1}if(r&&a)return bt.fromDateTimes(s,o);if(r){const u=Qe.fromISO(i,t);if(u.isValid)return bt.after(s,u)}else if(a){const u=Qe.fromISO(l,t);if(u.isValid)return bt.before(o,u)}}return bt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),l=this.end.startOf(e);return Math.floor(l.diff(t,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?bt.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Vl).filter(r=>this.contains(r)).sort(),l=[];let{s:i}=this,s=0;for(;i<this.e;){const r=t[s]||this.e,o=+r>+this.e?this.e:r;l.push(bt.fromDateTimes(i,o)),i=o,s+=1}return l}splitBy(e){const t=Qe.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:l}=this,i=1,s;const r=[];for(;l<this.e;){const o=this.start.plus(t.mapUnits(a=>a*i));s=+o>+this.e?this.e:o,r.push(bt.fromDateTimes(l,s)),l=s,i+=1}return r}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,l=this.e<e.e?this.e:e.e;return t>=l?null:bt.fromDateTimes(t,l)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,l=this.e>e.e?this.e:e.e;return bt.fromDateTimes(t,l)}static merge(e){const[t,l]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],r)=>s?s.overlaps(r)||s.abutsStart(r)?[i,s.union(r)]:[i.concat([s]),r]:[i,r],[[],null]);return l&&t.push(l),t}static xor(e){let t=null,l=0;const i=[],s=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),r=Array.prototype.concat(...s),o=r.sort((a,u)=>a.time-u.time);for(const a of o)l+=a.type==="s"?1:-1,l===1?t=a.time:(t&&+t!=+a.time&&i.push(bt.fromDateTimes(t,a.time)),t=null);return bt.merge(i)}difference(...e){return bt.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Rl}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Rl}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Rl}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Rl}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Rl}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Qe.invalid(this.invalidReason)}mapEndpoints(e){return bt.fromDateTimes(e(this.s),e(this.e))}}class mi{static hasDST(e=Mt.defaultZone){const t=je.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Rn.isValidZone(e)}static normalizeZone(e){return Kn(e,Mt.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:l=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||ht.create(t,l,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:l=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||ht.create(t,l,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:l=null,locObj:i=null}={}){return(i||ht.create(t,l,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:l=null,locObj:i=null}={}){return(i||ht.create(t,l,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ht.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ht.create(t,null,"gregory").eras(e)}static features(){return{relative:up()}}}function Or(n,e){const t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),l=t(e)-t(n);return Math.floor(Qe.fromMillis(l).as("days"))}function vh(n,e,t){const l=[["years",(o,a)=>a.year-o.year],["quarters",(o,a)=>a.quarter-o.quarter],["months",(o,a)=>a.month-o.month+(a.year-o.year)*12],["weeks",(o,a)=>{const u=Or(o,a);return(u-u%7)/7}],["days",Or]],i={};let s,r;for(const[o,a]of l)if(t.indexOf(o)>=0){s=o;let u=a(n,e);r=n.plus({[o]:u}),r>e?(n=n.plus({[o]:u-1}),u-=1):n=r,i[o]=u}return[n,i,r,s]}function kh(n,e,t,l){let[i,s,r,o]=vh(n,e,t);const a=e-i,u=t.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(r<e&&(r=i.plus({[o]:1})),r!==i&&(s[o]=(s[o]||0)+a/(r-i)));const f=Qe.fromObject(s,l);return u.length>0?Qe.fromMillis(a,l).shiftTo(...u).plus(f):f}const xs={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Dr={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},yh=xs.hanidec.replace(/[\[|\]]/g,"").split("");function wh(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const l=n.charCodeAt(t);if(n[t].search(xs.hanidec)!==-1)e+=yh.indexOf(n[t]);else for(const i in Dr){const[s,r]=Dr[i];l>=s&&l<=r&&(e+=l-s)}}return parseInt(e,10)}else return e}function vn({numberingSystem:n},e=""){return new RegExp(`${xs[n||"latn"]}${e}`)}const $h="missing Intl.DateTimeFormat.formatToParts support";function et(n,e=t=>t){return{regex:n,deser:([t])=>e(wh(t))}}const Th=String.fromCharCode(160),Ep=`[ ${Th}]`,Op=new RegExp(Ep,"g");function Sh(n){return n.replace(/\./g,"\\.?").replace(Op,Ep)}function Ar(n){return n.replace(/\./g,"").replace(Op," ").toLowerCase()}function kn(n,e){return n===null?null:{regex:RegExp(n.map(Sh).join("|")),deser:([t])=>n.findIndex(l=>Ar(t)===Ar(l))+e}}function Mr(n,e){return{regex:n,deser:([,t,l])=>Ui(t,l),groups:e}}function is(n){return{regex:n,deser:([e])=>e}}function Ch(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Eh(n,e){const t=vn(e),l=vn(e,"{2}"),i=vn(e,"{3}"),s=vn(e,"{4}"),r=vn(e,"{6}"),o=vn(e,"{1,2}"),a=vn(e,"{1,3}"),u=vn(e,"{1,6}"),f=vn(e,"{1,9}"),c=vn(e,"{2,4}"),d=vn(e,"{4,6}"),m=g=>({regex:RegExp(Ch(g.val)),deser:([k])=>k,literal:!0}),_=(g=>{if(n.literal)return m(g);switch(g.val){case"G":return kn(e.eras("short",!1),0);case"GG":return kn(e.eras("long",!1),0);case"y":return et(u);case"yy":return et(c,Cs);case"yyyy":return et(s);case"yyyyy":return et(d);case"yyyyyy":return et(r);case"M":return et(o);case"MM":return et(l);case"MMM":return kn(e.months("short",!0,!1),1);case"MMMM":return kn(e.months("long",!0,!1),1);case"L":return et(o);case"LL":return et(l);case"LLL":return kn(e.months("short",!1,!1),1);case"LLLL":return kn(e.months("long",!1,!1),1);case"d":return et(o);case"dd":return et(l);case"o":return et(a);case"ooo":return et(i);case"HH":return et(l);case"H":return et(o);case"hh":return et(l);case"h":return et(o);case"mm":return et(l);case"m":return et(o);case"q":return et(o);case"qq":return et(l);case"s":return et(o);case"ss":return et(l);case"S":return et(a);case"SSS":return et(i);case"u":return is(f);case"uu":return is(o);case"uuu":return et(t);case"a":return kn(e.meridiems(),0);case"kkkk":return et(s);case"kk":return et(c,Cs);case"W":return et(o);case"WW":return et(l);case"E":case"c":return et(t);case"EEE":return kn(e.weekdays("short",!1,!1),1);case"EEEE":return kn(e.weekdays("long",!1,!1),1);case"ccc":return kn(e.weekdays("short",!0,!1),1);case"cccc":return kn(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Mr(new RegExp(`([+-]${o.source})(?::(${l.source}))?`),2);case"ZZZ":return Mr(new RegExp(`([+-]${o.source})(${l.source})?`),2);case"z":return is(/[a-z_+-/]{1,256}?/i);default:return m(g)}})(n)||{invalidReason:$h};return _.token=n,_}const Oh={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Dh(n,e,t){const{type:l,value:i}=n;if(l==="literal")return{literal:!0,val:i};const s=t[l];let r=Oh[l];if(typeof r=="object"&&(r=r[s]),r)return{literal:!1,val:r}}function Ah(n){return[`^${n.map(t=>t.regex).reduce((t,l)=>`${t}(${l.source})`,"")}$`,n]}function Mh(n,e,t){const l=n.match(e);if(l){const i={};let s=1;for(const r in t)if(El(t,r)){const o=t[r],a=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(l.slice(s,s+a))),s+=a}return[l,i]}else return[l,{}]}function Ih(n){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,l;return Ze(n.z)||(t=Rn.create(n.z)),Ze(n.Z)||(t||(t=new Qt(n.Z)),l=n.Z),Ze(n.q)||(n.M=(n.q-1)*3+1),Ze(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Ze(n.u)||(n.S=Ks(n.u)),[Object.keys(n).reduce((s,r)=>{const o=e(r);return o&&(s[o]=n[r]),s},{}),t,l]}let ss=null;function Nh(){return ss||(ss=je.fromMillis(1555555555555)),ss}function Fh(n,e){if(n.literal)return n;const t=nn.macroTokenToFormatOpts(n.val);if(!t)return n;const s=nn.create(e,t).formatDateTimeParts(Nh()).map(r=>Dh(r,e,t));return s.includes(void 0)?n:s}function Lh(n,e){return Array.prototype.concat(...n.map(t=>Fh(t,e)))}function Dp(n,e,t){const l=Lh(nn.parseFormat(t),n),i=l.map(r=>Eh(r,n)),s=i.find(r=>r.invalidReason);if(s)return{input:e,tokens:l,invalidReason:s.invalidReason};{const[r,o]=Ah(i),a=RegExp(r,"i"),[u,f]=Mh(e,a,o),[c,d,m]=f?Ih(f):[null,null,void 0];if(El(f,"a")&&El(f,"H"))throw new zl("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:l,regex:a,rawMatches:u,matches:f,result:c,zone:d,specificOffset:m}}}function qh(n,e,t){const{result:l,zone:i,specificOffset:s,invalidReason:r}=Dp(n,e,t);return[l,i,s,r]}const Ap=[0,31,59,90,120,151,181,212,243,273,304,334],Mp=[0,31,60,91,121,152,182,213,244,274,305,335];function bn(n,e){return new wn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function Ip(n,e,t){const l=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&l.setUTCFullYear(l.getUTCFullYear()-1900);const i=l.getUTCDay();return i===0?7:i}function Np(n,e,t){return t+(ni(n)?Mp:Ap)[e-1]}function Fp(n,e){const t=ni(n)?Mp:Ap,l=t.findIndex(s=>s<e),i=e-t[l];return{month:l+1,day:i}}function Ms(n){const{year:e,month:t,day:l}=n,i=Np(e,t,l),s=Ip(e,t,l);let r=Math.floor((i-s+10)/7),o;return r<1?(o=e-1,r=Mi(o)):r>Mi(e)?(o=e+1,r=1):o=e,{weekYear:o,weekNumber:r,weekday:s,...zi(n)}}function Ir(n){const{weekYear:e,weekNumber:t,weekday:l}=n,i=Ip(e,1,4),s=Wl(e);let r=t*7+l-i-3,o;r<1?(o=e-1,r+=Wl(o)):r>s?(o=e+1,r-=Wl(e)):o=e;const{month:a,day:u}=Fp(o,r);return{year:o,month:a,day:u,...zi(n)}}function rs(n){const{year:e,month:t,day:l}=n,i=Np(e,t,l);return{year:e,ordinal:i,...zi(n)}}function Nr(n){const{year:e,ordinal:t}=n,{month:l,day:i}=Fp(e,t);return{year:e,month:l,day:i,...zi(n)}}function Ph(n){const e=Vi(n.weekYear),t=qn(n.weekNumber,1,Mi(n.weekYear)),l=qn(n.weekday,1,7);return e?t?l?!1:bn("weekday",n.weekday):bn("week",n.week):bn("weekYear",n.weekYear)}function Rh(n){const e=Vi(n.year),t=qn(n.ordinal,1,Wl(n.year));return e?t?!1:bn("ordinal",n.ordinal):bn("year",n.year)}function Lp(n){const e=Vi(n.year),t=qn(n.month,1,12),l=qn(n.day,1,Ai(n.year,n.month));return e?t?l?!1:bn("day",n.day):bn("month",n.month):bn("year",n.year)}function qp(n){const{hour:e,minute:t,second:l,millisecond:i}=n,s=qn(e,0,23)||e===24&&t===0&&l===0&&i===0,r=qn(t,0,59),o=qn(l,0,59),a=qn(i,0,999);return s?r?o?a?!1:bn("millisecond",i):bn("second",l):bn("minute",t):bn("hour",e)}const os="Invalid DateTime",Fr=864e13;function _i(n){return new wn("unsupported zone",`the zone "${n.name}" is not supported`)}function as(n){return n.weekData===null&&(n.weekData=Ms(n.c)),n.weekData}function jl(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new je({...t,...e,old:t})}function Pp(n,e,t){let l=n-e*60*1e3;const i=t.offset(l);if(e===i)return[l,e];l-=(i-e)*60*1e3;const s=t.offset(l);return i===s?[l,i]:[n-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Lr(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function $i(n,e,t){return Pp(Js(n),e,t)}function qr(n,e){const t=n.o,l=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...n.c,year:l,month:i,day:Math.min(n.c.day,Ai(l,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},r=Qe.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Js(s);let[a,u]=Pp(o,t,n.zone);return r!==0&&(a+=r,u=n.zone.offset(a)),{ts:a,o:u}}function Hl(n,e,t,l,i,s){const{setZone:r,zone:o}=t;if(n&&Object.keys(n).length!==0){const a=e||o,u=je.fromObject(n,{...t,zone:a,specificOffset:s});return r?u:u.setZone(o)}else return je.invalid(new wn("unparsable",`the input "${i}" can't be parsed as ${l}`))}function hi(n,e,t=!0){return n.isValid?nn.create(ht.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function us(n,e){const t=n.c.year>9999||n.c.year<0;let l="";return t&&n.c.year>=0&&(l+="+"),l+=Ct(n.c.year,t?6:4),e?(l+="-",l+=Ct(n.c.month),l+="-",l+=Ct(n.c.day)):(l+=Ct(n.c.month),l+=Ct(n.c.day)),l}function Pr(n,e,t,l,i,s){let r=Ct(n.c.hour);return e?(r+=":",r+=Ct(n.c.minute),(n.c.second!==0||!t)&&(r+=":")):r+=Ct(n.c.minute),(n.c.second!==0||!t)&&(r+=Ct(n.c.second),(n.c.millisecond!==0||!l)&&(r+=".",r+=Ct(n.c.millisecond,3))),i&&(n.isOffsetFixed&&n.offset===0&&!s?r+="Z":n.o<0?(r+="-",r+=Ct(Math.trunc(-n.o/60)),r+=":",r+=Ct(Math.trunc(-n.o%60))):(r+="+",r+=Ct(Math.trunc(n.o/60)),r+=":",r+=Ct(Math.trunc(n.o%60)))),s&&(r+="["+n.zone.ianaName+"]"),r}const Rp={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},jh={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Hh={ordinal:1,hour:0,minute:0,second:0,millisecond:0},jp=["year","month","day","hour","minute","second","millisecond"],Vh=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Uh=["year","ordinal","hour","minute","second","millisecond"];function Rr(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new zd(n);return e}function jr(n,e){const t=Kn(e.zone,Mt.defaultZone),l=ht.fromObject(e),i=Mt.now();let s,r;if(Ze(n.year))s=i;else{for(const u of jp)Ze(n[u])&&(n[u]=Rp[u]);const o=Lp(n)||qp(n);if(o)return je.invalid(o);const a=t.offset(i);[s,r]=$i(n,a,t)}return new je({ts:s,zone:t,loc:l,o:r})}function Hr(n,e,t){const l=Ze(t.round)?!0:t.round,i=(r,o)=>(r=Ys(r,l||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(r,o)),s=r=>t.calendary?e.hasSame(n,r)?0:e.startOf(r).diff(n.startOf(r),r).get(r):e.diff(n,r).get(r);if(t.unit)return i(s(t.unit),t.unit);for(const r of t.units){const o=s(r);if(Math.abs(o)>=1)return i(o,r)}return i(n>e?-0:0,t.units[t.units.length-1])}function Vr(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class je{constructor(e){const t=e.zone||Mt.defaultZone;let l=e.invalid||(Number.isNaN(e.ts)?new wn("invalid input"):null)||(t.isValid?null:_i(t));this.ts=Ze(e.ts)?Mt.now():e.ts;let i=null,s=null;if(!l)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,s]=[e.old.c,e.old.o];else{const o=t.offset(this.ts);i=Lr(this.ts,o),l=Number.isNaN(i.year)?new wn("invalid input"):null,i=l?null:i,s=l?null:o}this._zone=t,this.loc=e.loc||ht.create(),this.invalid=l,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new je({})}static local(){const[e,t]=Vr(arguments),[l,i,s,r,o,a,u]=t;return jr({year:l,month:i,day:s,hour:r,minute:o,second:a,millisecond:u},e)}static utc(){const[e,t]=Vr(arguments),[l,i,s,r,o,a,u]=t;return e.zone=Qt.utcInstance,jr({year:l,month:i,day:s,hour:r,minute:o,second:a,millisecond:u},e)}static fromJSDate(e,t={}){const l=Gm(e)?e.valueOf():NaN;if(Number.isNaN(l))return je.invalid("invalid input");const i=Kn(t.zone,Mt.defaultZone);return i.isValid?new je({ts:l,zone:i,loc:ht.fromObject(t)}):je.invalid(_i(i))}static fromMillis(e,t={}){if(ol(e))return e<-Fr||e>Fr?je.invalid("Timestamp out of range"):new je({ts:e,zone:Kn(t.zone,Mt.defaultZone),loc:ht.fromObject(t)});throw new hn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(ol(e))return new je({ts:e*1e3,zone:Kn(t.zone,Mt.defaultZone),loc:ht.fromObject(t)});throw new hn("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const l=Kn(t.zone,Mt.defaultZone);if(!l.isValid)return je.invalid(_i(l));const i=Mt.now(),s=Ze(t.specificOffset)?l.offset(i):t.specificOffset,r=Ii(e,Rr),o=!Ze(r.ordinal),a=!Ze(r.year),u=!Ze(r.month)||!Ze(r.day),f=a||u,c=r.weekYear||r.weekNumber,d=ht.fromObject(t);if((f||o)&&c)throw new zl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new zl("Can't mix ordinal dates with month/day");const m=c||r.weekday&&!f;let v,_,g=Lr(i,s);m?(v=Vh,_=jh,g=Ms(g)):o?(v=Uh,_=Hh,g=rs(g)):(v=jp,_=Rp);let k=!1;for(const A of v){const N=r[A];Ze(N)?k?r[A]=_[A]:r[A]=g[A]:k=!0}const $=m?Ph(r):o?Rh(r):Lp(r),C=$||qp(r);if(C)return je.invalid(C);const T=m?Ir(r):o?Nr(r):r,[S,E]=$i(T,s,l),O=new je({ts:S,zone:l,o:E,loc:d});return r.weekday&&f&&e.weekday!==O.weekday?je.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${O.toISO()}`):O}static fromISO(e,t={}){const[l,i]=nh(e);return Hl(l,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[l,i]=lh(e);return Hl(l,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[l,i]=ih(e);return Hl(l,i,t,"HTTP",t)}static fromFormat(e,t,l={}){if(Ze(e)||Ze(t))throw new hn("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=l,r=ht.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,a,u,f]=qh(r,e,t);return f?je.invalid(f):Hl(o,a,l,`format ${t}`,e,u)}static fromString(e,t,l={}){return je.fromFormat(e,t,l)}static fromSQL(e,t={}){const[l,i]=ch(e);return Hl(l,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new hn("need to specify a reason the DateTime is invalid");const l=e instanceof wn?e:new wn(e,t);if(Mt.throwOnInvalid)throw new Bm(l);return new je({invalid:l})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?as(this).weekYear:NaN}get weekNumber(){return this.isValid?as(this).weekNumber:NaN}get weekday(){return this.isValid?as(this).weekday:NaN}get ordinal(){return this.isValid?rs(this.c).ordinal:NaN}get monthShort(){return this.isValid?mi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?mi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?mi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?mi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return ni(this.year)}get daysInMonth(){return Ai(this.year,this.month)}get daysInYear(){return this.isValid?Wl(this.year):NaN}get weeksInWeekYear(){return this.isValid?Mi(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:l,calendar:i}=nn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:l,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(Qt.instance(e),t)}toLocal(){return this.setZone(Mt.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:l=!1}={}){if(e=Kn(e,Mt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||l){const s=e.offset(this.ts),r=this.toObject();[i]=$i(r,s,e)}return jl(this,{ts:i,zone:e})}else return je.invalid(_i(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:l}={}){const i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:l});return jl(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Ii(e,Rr),l=!Ze(t.weekYear)||!Ze(t.weekNumber)||!Ze(t.weekday),i=!Ze(t.ordinal),s=!Ze(t.year),r=!Ze(t.month)||!Ze(t.day),o=s||r,a=t.weekYear||t.weekNumber;if((o||i)&&a)throw new zl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(r&&i)throw new zl("Can't mix ordinal dates with month/day");let u;l?u=Ir({...Ms(this.c),...t}):Ze(t.ordinal)?(u={...this.toObject(),...t},Ze(t.day)&&(u.day=Math.min(Ai(u.year,u.month),u.day))):u=Nr({...rs(this.c),...t});const[f,c]=$i(u,this.o,this.zone);return jl(this,{ts:f,o:c})}plus(e){if(!this.isValid)return this;const t=Qe.fromDurationLike(e);return jl(this,qr(this,t))}minus(e){if(!this.isValid)return this;const t=Qe.fromDurationLike(e).negate();return jl(this,qr(this,t))}startOf(e){if(!this.isValid)return this;const t={},l=Qe.normalizeUnit(e);switch(l){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(l==="weeks"&&(t.weekday=1),l==="quarters"){const i=Math.ceil(this.month/3);t.month=(i-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?nn.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):os}toLocaleString(e=Ss,t={}){return this.isValid?nn.create(this.loc.clone(t),e).formatDateTime(this):os}toLocaleParts(e={}){return this.isValid?nn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:l=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const r=e==="extended";let o=us(this,r);return o+="T",o+=Pr(this,r,t,l,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?us(this,e==="extended"):null}toISOWeekDate(){return hi(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:l=!0,includePrefix:i=!1,extendedZone:s=!1,format:r="extended"}={}){return this.isValid?(i?"T":"")+Pr(this,r==="extended",t,e,l,s):null}toRFC2822(){return hi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return hi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?us(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:l=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(l&&(i+=" "),t?i+="z":e&&(i+="ZZ")),hi(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():os}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",l={}){if(!this.isValid||!e.isValid)return Qe.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...l},s=Qm(t).map(Qe.normalizeUnit),r=e.valueOf()>this.valueOf(),o=r?this:e,a=r?e:this,u=kh(o,a,s,i);return r?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(je.now(),e,t)}until(e){return this.isValid?bt.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const l=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t)<=l&&l<=i.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||je.fromObject({},{zone:this.zone}),l=e.padding?this<t?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),Hr(t,this.plus(l),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?Hr(e.base||je.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(je.isDateTime))throw new hn("min requires all arguments be DateTimes");return gr(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(je.isDateTime))throw new hn("max requires all arguments be DateTimes");return gr(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,l={}){const{locale:i=null,numberingSystem:s=null}=l,r=ht.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return Dp(r,e,t)}static fromStringExplain(e,t,l={}){return je.fromFormatExplain(e,t,l)}static get DATE_SHORT(){return Ss}static get DATE_MED(){return Bd}static get DATE_MED_WITH_WEEKDAY(){return Ym}static get DATE_FULL(){return Wd}static get DATE_HUGE(){return Kd}static get TIME_SIMPLE(){return Yd}static get TIME_WITH_SECONDS(){return Jd}static get TIME_WITH_SHORT_OFFSET(){return Zd}static get TIME_WITH_LONG_OFFSET(){return Gd}static get TIME_24_SIMPLE(){return Qd}static get TIME_24_WITH_SECONDS(){return Xd}static get TIME_24_WITH_SHORT_OFFSET(){return xd}static get TIME_24_WITH_LONG_OFFSET(){return ep}static get DATETIME_SHORT(){return tp}static get DATETIME_SHORT_WITH_SECONDS(){return np}static get DATETIME_MED(){return lp}static get DATETIME_MED_WITH_SECONDS(){return ip}static get DATETIME_MED_WITH_WEEKDAY(){return Jm}static get DATETIME_FULL(){return sp}static get DATETIME_FULL_WITH_SECONDS(){return rp}static get DATETIME_HUGE(){return op}static get DATETIME_HUGE_WITH_SECONDS(){return ap}}function Vl(n){if(je.isDateTime(n))return n;if(n&&n.valueOf&&ol(n.valueOf()))return je.fromJSDate(n);if(n&&typeof n=="object")return je.fromObject(n);throw new hn(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const zh=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],Bh=[".mp4",".avi",".mov",".3gp",".wmv"],Wh=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],Kh=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"];class j{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static clone(e){return typeof structuredClone<"u"?structuredClone(e):JSON.parse(JSON.stringify(e))}static isEmpty(e){return e===""||e===null||e==="00000000-0000-0000-0000-000000000000"||e==="0001-01-01 00:00:00.000Z"||e==="0001-01-01"||typeof e>"u"||Array.isArray(e)&&e.length===0||j.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||e.isContentEditable}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return j.isInput(e)||t==="button"||t==="a"||t==="details"||e.tabIndex>=0}static hasNonEmptyProps(e){for(let t in e)if(!j.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!j.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let l=e.length-1;l>=0;l--)if(e[l]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let l=e.length-1;l>=0;l--)if(e[l]==t){e.splice(l,1);break}}static pushUnique(e,t){j.inArray(e,t)||e.push(t)}static findByKey(e,t,l){e=Array.isArray(e)?e:[];for(let i in e)if(e[i][t]==l)return e[i];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const l={};for(let i in e)l[e[i][t]]=l[e[i][t]]||[],l[e[i][t]].push(e[i]);return l}static removeByKey(e,t,l){for(let i in e)if(e[i][t]==l){e.splice(i,1);break}}static pushOrReplaceByKey(e,t,l="id"){for(let i=e.length-1;i>=0;i--)if(e[i][l]==t[l]){e[i]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const l={};for(const i of e)l[i[t]]=i;return Object.values(l)}static filterRedactedProps(e,t="******"){const l=JSON.parse(JSON.stringify(e||{}));for(let i in l)typeof l[i]=="object"&&l[i]!==null?l[i]=j.filterRedactedProps(l[i],t):l[i]===t&&delete l[i];return l}static getNestedVal(e,t,l=null,i="."){let s=e||{},r=(t||"").split(i);for(const o of r){if(!j.isObject(s)&&!Array.isArray(s)||typeof s[o]>"u")return l;s=s[o]}return s}static setByPath(e,t,l,i="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let s=e,r=t.split(i),o=r.pop();for(const a of r)(!j.isObject(s)&&!Array.isArray(s)||!j.isObject(s[a])&&!Array.isArray(s[a]))&&(s[a]={}),s=s[a];s[o]=l}static deleteByPath(e,t,l="."){let i=e||{},s=(t||"").split(l),r=s.pop();for(const o of s)(!j.isObject(i)&&!Array.isArray(i)||!j.isObject(i[o])&&!Array.isArray(i[o]))&&(i[o]={}),i=i[o];Array.isArray(i)?i.splice(r,1):j.isObject(i)&&delete i[r],s.length>0&&(Array.isArray(i)&&!i.length||j.isObject(i)&&!Object.keys(i).length)&&(Array.isArray(e)&&e.length>0||j.isObject(e)&&Object.keys(e).length>0)&&j.deleteByPath(e,s.join(l),l)}static randomString(e){e=e||10;let t="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=l.charAt(Math.floor(Math.random()*l.length));return t}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let l=e[e.length-1];l!=="."&&l!=="?"&&l!=="!"&&(e+=".")}return e}static trimQuotedValue(e){return typeof e=="string"&&(e[0]=='"'||e[0]=="'"||e[0]=="`")&&e[0]==e[e.length-1]?e.slice(1,-1):e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,l=!0){return e=e||"",e.length<=t?e:e.substring(0,t)+(l?"...":"")}static truncateObject(e){const t={};for(let l in e){let i=e[l];typeof i=="string"&&(i=j.truncate(i,150,!0)),t[l]=i}return t}static slugify(e,t="_",l=[".","=","-"]){if(e==="")return"";const i={a:/а|à|á|å|â/gi,b:/б/gi,c:/ц|ç/gi,d:/д/gi,e:/е|è|é|ê|ẽ|ë/gi,f:/ф/gi,g:/г/gi,h:/х/gi,i:/й|и|ì|í|î/gi,j:/ж/gi,k:/к/gi,l:/л/gi,m:/м/gi,n:/н|ñ/gi,o:/о|ò|ó|ô|ø/gi,p:/п/gi,q:/я/gi,r:/р/gi,s:/с/gi,t:/т/gi,u:/ю|ù|ú|ů|û/gi,v:/в/gi,w:/в/gi,x:/ь/gi,y:/ъ/gi,z:/з/gi,ae:/ä|æ/gi,oe:/ö/gi,ue:/ü/gi,Ae:/Ä/gi,Ue:/Ü/gi,Oe:/Ö/gi,ss:/ß/gi,and:/&/gi};for(let s in i)e=e.replace(i[s],s);return e.replace(new RegExp("["+l.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const l=(e||"").split(t),i=[];for(let s of l)s=s.trim(),j.isEmpty(s)||i.push(s);return i}static joinNonEmpty(e,t=", "){const l=[];for(let i of e)i=typeof i=="string"?i.trim():"",j.isEmpty(i)||l.push(i);return l.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static formattedFileSize(e){const t=e?Math.floor(Math.log(e)/Math.log(1024)):0;return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","KB","MB","GB","TB"][t]}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ss'Z'",24:"yyyy-MM-dd HH:mm:ss.SSS'Z'"},l=t[e.length]||t[19];return je.fromFormat(e,l,{zone:"UTC"})}return je.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return j.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return j.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(l=>{console.warn("Failed to copy.",l)})}static download(e,t){const l=document.createElement("a");l.setAttribute("href",e),l.setAttribute("download",t),l.click(),l.remove()}static downloadJson(e,t){const l="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2));t=t.endsWith(".json")?t:t+".json",j.download(l,t)}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const l=decodeURIComponent(atob(t));return JSON.parse(l)||{}}catch(l){console.warn("Failed to parse JWT payload data.",l)}return{}}static hasImageExtension(e){return!!zh.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return!!Bh.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return!!Wh.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return!!Kh.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return j.hasImageExtension(e)?"image":j.hasDocumentExtension(e)?"document":j.hasVideoExtension(e)?"video":j.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,l=100){return new Promise(i=>{let s=new FileReader;s.onload=function(r){let o=new Image;o.onload=function(){let a=document.createElement("canvas"),u=a.getContext("2d"),f=o.width,c=o.height;return a.width=t,a.height=l,u.drawImage(o,f>c?(f-c)/2:0,0,f>c?c:f,f>c?c:f,0,0,t,l),i(a.toDataURL(e.type))},o.src=r.target.result},s.readAsDataURL(e)})}static addValueToFormData(e,t,l){if(!(typeof l>"u"))if(j.isEmpty(l))e.append(t,"");else if(Array.isArray(l))for(const i of l)j.addValueToFormData(e,t,i);else l instanceof File?e.append(t,l):l instanceof Date?e.append(t,l.toISOString()):j.isObject(l)?e.append(t,JSON.stringify(l)):e.append(t,""+l)}static dummyCollectionRecord(e){var r,o,a,u,f,c,d;const t=(e==null?void 0:e.schema)||[],l={id:"RECORD_ID",collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name};e!=null&&e.isAuth&&(l.username="username123",l.verified=!1,l.emailVisibility=!0,l.email="test@example.com"),(!(e!=null&&e.$isView)||j.extractColumnsFromQuery((r=e==null?void 0:e.options)==null?void 0:r.query).includes("created"))&&(l.created="2022-01-01 01:00:00.123Z"),(!(e!=null&&e.$isView)||j.extractColumnsFromQuery((o=e==null?void 0:e.options)==null?void 0:o.query).includes("updated"))&&(l.updated="2022-01-01 23:59:59.456Z");for(const m of t){let v=null;m.type==="number"?v=123:m.type==="date"?v="2022-01-01 10:00:00.123Z":m.type==="bool"?v=!0:m.type==="email"?v="test@example.com":m.type==="url"?v="https://example.com":m.type==="json"?v="JSON":m.type==="file"?(v="filename.jpg",((a=m.options)==null?void 0:a.maxSelect)!==1&&(v=[v])):m.type==="select"?(v=(f=(u=m.options)==null?void 0:u.values)==null?void 0:f[0],((c=m.options)==null?void 0:c.maxSelect)!==1&&(v=[v])):m.type==="relation"?(v="RELATION_RECORD_ID",((d=m.options)==null?void 0:d.maxSelect)!==1&&(v=[v])):v="test",l[m.name]=v}return l}static dummyCollectionSchemaData(e){var i,s,r,o;const t=(e==null?void 0:e.schema)||[],l={};for(const a of t){let u=null;if(a.type==="number")u=123;else if(a.type==="date")u="2022-01-01 10:00:00.123Z";else if(a.type==="bool")u=!0;else if(a.type==="email")u="test@example.com";else if(a.type==="url")u="https://example.com";else if(a.type==="json")u="JSON";else{if(a.type==="file")continue;a.type==="select"?(u=(s=(i=a.options)==null?void 0:i.values)==null?void 0:s[0],((r=a.options)==null?void 0:r.maxSelect)!==1&&(u=[u])):a.type==="relation"?(u="RELATION_RECORD_ID",((o=a.options)==null?void 0:o.maxSelect)!==1&&(u=[u])):u="test"}l[a.name]=u}return l}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"user":return"ri-user-line";default:return"ri-star-s-line"}}static getFieldValueType(e){var t;switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"file":return"File";case"select":case"relation":return((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)===1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){var t;return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,l=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let u in e)if(u!=="schema"&&JSON.stringify(e[u])!==JSON.stringify(t[u]))return!0;const i=Array.isArray(e.schema)?e.schema:[],s=Array.isArray(t.schema)?t.schema:[],r=i.filter(u=>(u==null?void 0:u.id)&&!j.findByKey(s,"id",u.id)),o=s.filter(u=>(u==null?void 0:u.id)&&!j.findByKey(i,"id",u.id)),a=s.filter(u=>{const f=j.isObject(u)&&j.findByKey(i,"id",u.id);if(!f)return!1;for(let c in f)if(JSON.stringify(u[c])!=JSON.stringify(f[c]))return!0;return!1});return!!(o.length||a.length||l&&r.length)}static sortCollections(e=[]){const t=[],l=[],i=[];for(const r of e)r.type==="auth"?t.push(r):r.type==="base"?l.push(r):i.push(r);function s(r,o){return r.name>o.name?1:r.name<o.name?-1:0}return[].concat(t.sort(s),l.sort(s),i.sort(s))}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample","directionality"],toolbar:"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image table codesample direction | code fullscreen",file_picker_types:"image",file_picker_callback:(e,t,l)=>{const i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept","image/*"),i.addEventListener("change",s=>{const r=s.target.files[0],o=new FileReader;o.addEventListener("load",()=>{if(!tinymce)return;const a="blobid"+new Date().getTime(),u=tinymce.activeEditor.editorUpload.blobCache,f=o.result.split(",")[1],c=u.create(a,r,f);u.add(c),e(c.blobUri(),{title:r.name})}),o.readAsDataURL(r)}),i.click()},setup:e=>{e.on("keydown",l=>{(l.ctrlKey||l.metaKey)&&l.code=="KeyS"&&e.formElement&&(l.preventDefault(),l.stopPropagation(),e.formElement.dispatchEvent(new KeyboardEvent("keydown",l)))});const t="tinymce_last_direction";e.on("init",()=>{var i;const l=(i=window==null?void 0:window.localStorage)==null?void 0:i.getItem(t);!e.isDirty()&&e.getContent()==""&&l=="rtl"&&e.execCommand("mceDirectionRTL")}),e.ui.registry.addMenuButton("direction",{icon:"visualchars",fetch:l=>{l([{type:"menuitem",text:"LTR content",icon:"ltr",onAction:()=>{var s;(s=window==null?void 0:window.localStorage)==null||s.setItem(t,"ltr"),tinymce.activeEditor.execCommand("mceDirectionLTR")}},{type:"menuitem",text:"RTL content",icon:"rtl",onAction:()=>{var s;(s=window==null?void 0:window.localStorage)==null||s.setItem(t,"rtl"),tinymce.activeEditor.execCommand("mceDirectionRTL")}}])}})}}}static displayValue(e,t,l="N/A"){e=e||{},t=t||[];let i=[];for(const r of t){let o=e[r];typeof o>"u"||(o=j.stringifyValue(o,l),i.push(o))}if(i.length>0)return i.join(", ");const s=["title","name","slug","email","username","label","heading","message","key","id"];for(const r of s){let o=j.stringifyValue(e[r],"");if(o)return o}return l}static stringifyValue(e,t="N/A"){if(j.isEmpty(e))return t;if(typeof e=="boolean")return e?"True":"False";if(typeof e=="string")return e=e.indexOf("<")>=0?j.plainText(e):e,j.truncate(e)||t;if(Array.isArray(e))return e.join(",");if(typeof e=="object")try{return j.truncate(JSON.stringify(e))||t}catch{return t}return""+e}static extractColumnsFromQuery(e){var r;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const l=e.match(/select\s+([\s\S]+)\s+from/),i=((r=l==null?void 0:l[1])==null?void 0:r.split(","))||[],s=[];for(let o of i){const a=o.trim().split(" ").pop();a!=""&&a!=t&&s.push(a.replace(/[\'\"\`\[\]\s]/g,""))}return s}static getAllCollectionIdentifiers(e,t=""){if(!e)return[];let l=[t+"id"];if(e.$isView)for(let s of j.extractColumnsFromQuery(e.options.query))j.pushUnique(l,t+s);else e.$isAuth?(l.push(t+"username"),l.push(t+"email"),l.push(t+"emailVisibility"),l.push(t+"verified"),l.push(t+"created"),l.push(t+"updated")):(l.push(t+"created"),l.push(t+"updated"));const i=e.schema||[];for(const s of i)j.pushUnique(l,t+s.name);return l}static parseIndex(e){var a,u,f,c,d;const t={unique:!1,optional:!1,schemaName:"",indexName:"",tableName:"",columns:[],where:""},i=/create\s+(unique\s+)?\s*index\s*(if\s+not\s+exists\s+)?(\S*)\s+on\s+(\S*)\s*\(([\s\S]*)\)(?:\s*where\s+([\s\S]*))?/gmi.exec((e||"").trim());if((i==null?void 0:i.length)!=7)return t;const s=/^[\"\'\`\[\{}]|[\"\'\`\]\}]$/gm;t.unique=((a=i[1])==null?void 0:a.trim().toLowerCase())==="unique",t.optional=!j.isEmpty((u=i[2])==null?void 0:u.trim());const r=(i[3]||"").split(".");r.length==2?(t.schemaName=r[0].replace(s,""),t.indexName=r[1].replace(s,"")):(t.schemaName="",t.indexName=r[0].replace(s,"")),t.tableName=(i[4]||"").replace(s,"");const o=(i[5]||"").replace(/,(?=[^\(]*\))/gmi,"{PB_TEMP}").split(",");for(let m of o){m=m.trim().replaceAll("{PB_TEMP}",",");const _=/^([\s\S]+?)(?:\s+collate\s+([\w]+))?(?:\s+(asc|desc))?$/gmi.exec(m);if((_==null?void 0:_.length)!=4)continue;const g=(c=(f=_[1])==null?void 0:f.trim())==null?void 0:c.replace(s,"");g&&t.columns.push({name:g,collate:_[2]||"",sort:((d=_[3])==null?void 0:d.toUpperCase())||""})}return t.where=i[6]||"",t}static buildIndex(e){let t="CREATE ";e.unique&&(t+="UNIQUE "),t+="INDEX ",e.optional&&(t+="IF NOT EXISTS "),e.schemaName&&(t+=`\`${e.schemaName}\`.`),t+=`\`${e.indexName||"idx_"+j.randomString(7)}\` `,t+=`ON \`${e.tableName}\` (`;const l=e.columns.filter(i=>!!(i!=null&&i.name));return l.length>1&&(t+=`
  `),t+=l.map(i=>{let s="";return i.name.includes("(")||i.name.includes(" ")?s+=i.name:s+="`"+i.name+"`",i.collate&&(s+=" COLLATE "+i.collate),i.sort&&(s+=" "+i.sort.toUpperCase()),s}).join(`,
  `),l.length>1&&(t+=`
`),t+=")",e.where&&(t+=` WHERE ${e.where}`),t}static replaceIndexTableName(e,t){const l=j.parseIndex(e);return l.tableName=t,j.buildIndex(l)}static replaceIndexColumn(e,t,l){if(t===l)return e;const i=j.parseIndex(e);let s=!1;for(let r of i.columns)r.name===t&&(r.name=l,s=!0);return s?j.buildIndex(i):e}static normalizeSearchFilter(e,t){if(e=(e||"").trim(),!e||!t.length)return e;const l=["=","!=","~","!~",">",">=","<","<="];for(const i of l)if(e.includes(i))return e;return e=isNaN(e)&&e!="true"&&e!="false"?`"${e.replace(/^[\"\'\`]|[\"\'\`]$/gm,"")}"`:e,t.map(i=>`${i}~${e}`).join("||")}}let Is,nl;const Ns="app-tooltip";function Ur(n){return typeof n=="string"?{text:n,position:"bottom",hideOnClick:null}:n||{}}function Zn(){return nl=nl||document.querySelector("."+Ns),nl||(nl=document.createElement("div"),nl.classList.add(Ns),document.body.appendChild(nl)),nl}function Hp(n,e){let t=Zn();if(!t.classList.contains("active")||!(e!=null&&e.text)){Fs();return}t.textContent=e.text,t.className=Ns+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let l=t.offsetHeight,i=t.offsetWidth,s=n.getBoundingClientRect(),r=0,o=0,a=5;e.position=="left"?(r=s.top+s.height/2-l/2,o=s.left-i-a):e.position=="right"?(r=s.top+s.height/2-l/2,o=s.right+a):e.position=="top"?(r=s.top-l-a,o=s.left+s.width/2-i/2):e.position=="top-left"?(r=s.top-l-a,o=s.left):e.position=="top-right"?(r=s.top-l-a,o=s.right-i):e.position=="bottom-left"?(r=s.top+s.height+a,o=s.left):e.position=="bottom-right"?(r=s.top+s.height+a,o=s.right-i):(r=s.top+s.height+a,o=s.left+s.width/2-i/2),o+i>document.documentElement.clientWidth&&(o=document.documentElement.clientWidth-i),o=o>=0?o:0,r+l>document.documentElement.clientHeight&&(r=document.documentElement.clientHeight-l),r=r>=0?r:0,t.style.top=r+"px",t.style.left=o+"px"}function Fs(){clearTimeout(Is),Zn().classList.remove("active"),Zn().activeNode=void 0}function Yh(n,e){Zn().activeNode=n,clearTimeout(Is),Is=setTimeout(()=>{Zn().classList.add("active"),Hp(n,e)},isNaN(e.delay)?0:e.delay)}function Pe(n,e){let t=Ur(e);function l(){Yh(n,t)}function i(){Fs()}return n.addEventListener("mouseenter",l),n.addEventListener("mouseleave",i),n.addEventListener("blur",i),(t.hideOnClick===!0||t.hideOnClick===null&&j.isFocusable(n))&&n.addEventListener("click",i),Zn(),{update(s){var r,o;t=Ur(s),(o=(r=Zn())==null?void 0:r.activeNode)!=null&&o.contains(n)&&Hp(n,t)},destroy(){var s,r;(r=(s=Zn())==null?void 0:s.activeNode)!=null&&r.contains(n)&&Fs(),n.removeEventListener("mouseenter",l),n.removeEventListener("mouseleave",i),n.removeEventListener("blur",i),n.removeEventListener("click",i)}}}function Bi(n){const e=n-1;return e*e*e+1}function Ls(n,{delay:e=0,duration:t=400,easing:l=ei}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:l,css:s=>`opacity: ${s*i}`}}function On(n,{delay:e=0,duration:t=400,easing:l=Bi,x:i=0,y:s=0,opacity:r=0}={}){const o=getComputedStyle(n),a=+o.opacity,u=o.transform==="none"?"":o.transform,f=a*(1-r),[c,d]=hr(i),[m,v]=hr(s);return{delay:e,duration:t,easing:l,css:(_,g)=>`
			transform: ${u} translate(${(1-_)*c}${d}, ${(1-_)*m}${v});
			opacity: ${a-f*g}`}}function Ge(n,{delay:e=0,duration:t=400,easing:l=Bi,axis:i="y"}={}){const s=getComputedStyle(n),r=+s.opacity,o=i==="y"?"height":"width",a=parseFloat(s[o]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),c=parseFloat(s[`padding${f[0]}`]),d=parseFloat(s[`padding${f[1]}`]),m=parseFloat(s[`margin${f[0]}`]),v=parseFloat(s[`margin${f[1]}`]),_=parseFloat(s[`border${f[0]}Width`]),g=parseFloat(s[`border${f[1]}Width`]);return{delay:e,duration:t,easing:l,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*r};${o}: ${k*a}px;padding-${u[0]}: ${k*c}px;padding-${u[1]}: ${k*d}px;margin-${u[0]}: ${k*m}px;margin-${u[1]}: ${k*v}px;border-${u[0]}-width: ${k*_}px;border-${u[1]}-width: ${k*g}px;`}}function Ht(n,{delay:e=0,duration:t=400,easing:l=Bi,start:i=0,opacity:s=0}={}){const r=getComputedStyle(n),o=+r.opacity,a=r.transform==="none"?"":r.transform,u=1-i,f=o*(1-s);return{delay:e,duration:t,easing:l,css:(c,d)=>`
			transform: ${a} scale(${1-u*d});
			opacity: ${o-f*d}
		`}}const Jh=n=>({}),zr=n=>({}),Zh=n=>({}),Br=n=>({});function Wr(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C=n[4]&&!n[2]&&Kr(n);const T=n[19].header,S=ut(T,n,n[18],Br);let E=n[4]&&n[2]&&Yr(n);const O=n[19].default,A=ut(O,n,n[18],null),N=n[19].footer,F=ut(N,n,n[18],zr);return{c(){e=h("div"),t=h("div"),i=D(),s=h("div"),r=h("div"),C&&C.c(),o=D(),S&&S.c(),a=D(),E&&E.c(),u=D(),f=h("div"),A&&A.c(),c=D(),d=h("div"),F&&F.c(),p(t,"class","overlay"),p(r,"class","overlay-panel-section panel-header"),p(f,"class","overlay-panel-section panel-content"),p(d,"class","overlay-panel-section panel-footer"),p(s,"class",m="overlay-panel "+n[1]+" "+n[8]),X(s,"popup",n[2]),p(e,"class","overlay-panel-container"),X(e,"padded",n[2]),X(e,"active",n[0])},m(L,P){w(L,e,P),b(e,t),b(e,i),b(e,s),b(s,r),C&&C.m(r,null),b(r,o),S&&S.m(r,null),b(r,a),E&&E.m(r,null),b(s,u),b(s,f),A&&A.m(f,null),n[21](f),b(s,c),b(s,d),F&&F.m(d,null),g=!0,k||($=[Y(t,"click",Ke(n[20])),Y(f,"scroll",n[22])],k=!0)},p(L,P){n=L,n[4]&&!n[2]?C?C.p(n,P):(C=Kr(n),C.c(),C.m(r,o)):C&&(C.d(1),C=null),S&&S.p&&(!g||P[0]&262144)&&ct(S,T,n,n[18],g?ft(T,n[18],P,Zh):dt(n[18]),Br),n[4]&&n[2]?E?E.p(n,P):(E=Yr(n),E.c(),E.m(r,null)):E&&(E.d(1),E=null),A&&A.p&&(!g||P[0]&262144)&&ct(A,O,n,n[18],g?ft(O,n[18],P,null):dt(n[18]),null),F&&F.p&&(!g||P[0]&262144)&&ct(F,N,n,n[18],g?ft(N,n[18],P,Jh):dt(n[18]),zr),(!g||P[0]&258&&m!==(m="overlay-panel "+n[1]+" "+n[8]))&&p(s,"class",m),(!g||P[0]&262)&&X(s,"popup",n[2]),(!g||P[0]&4)&&X(e,"padded",n[2]),(!g||P[0]&1)&&X(e,"active",n[0])},i(L){g||(L&&Be(()=>{g&&(l||(l=Fe(t,Ls,{duration:gl,opacity:0},!0)),l.run(1))}),M(S,L),M(A,L),M(F,L),Be(()=>{g&&(_&&_.end(1),v=Ud(s,On,n[2]?{duration:gl,y:-10}:{duration:gl,x:50}),v.start())}),g=!0)},o(L){L&&(l||(l=Fe(t,Ls,{duration:gl,opacity:0},!1)),l.run(0)),I(S,L),I(A,L),I(F,L),v&&v.invalidate(),_=Ws(s,On,n[2]?{duration:gl,y:10}:{duration:gl,x:50}),g=!1},d(L){L&&y(e),L&&l&&l.end(),C&&C.d(),S&&S.d(L),E&&E.d(),A&&A.d(L),n[21](null),F&&F.d(L),L&&_&&_.end(),k=!1,Te($)}}}function Kr(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<i class="ri-close-line"></i>',p(e,"type","button"),p(e,"class","overlay-close")},m(i,s){w(i,e,s),t||(l=Y(e,"click",Ke(n[5])),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function Yr(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<i class="ri-close-line txt-lg"></i>',p(e,"type","button"),p(e,"class","btn btn-sm btn-circle btn-transparent btn-close m-l-auto")},m(i,s){w(i,e,s),t||(l=Y(e,"click",Ke(n[5])),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function Gh(n){let e,t,l,i,s=n[0]&&Wr(n);return{c(){e=h("div"),s&&s.c(),p(e,"class","overlay-panel-wrapper"),p(e,"tabindex","-1")},m(r,o){w(r,e,o),s&&s.m(e,null),n[23](e),t=!0,l||(i=[Y(window,"resize",n[10]),Y(window,"keydown",n[9])],l=!0)},p(r,o){r[0]?s?(s.p(r,o),o[0]&1&&M(s,1)):(s=Wr(r),s.c(),M(s,1),s.m(e,null)):s&&(ue(),I(s,1,1,()=>{s=null}),fe())},i(r){t||(M(s),t=!0)},o(r){I(s),t=!1},d(r){r&&y(e),s&&s.d(),n[23](null),l=!1,Te(i)}}}let ll,fs=[];function Vp(){return ll=ll||document.querySelector(".overlays"),ll||(ll=document.createElement("div"),ll.classList.add("overlays"),document.body.appendChild(ll)),ll}let gl=150;function Jr(){return 1e3+Vp().querySelectorAll(".overlay-panel-container.active").length}function Qh(n,e,t){let{$$slots:l={},$$scope:i}=e,{class:s=""}=e,{active:r=!1}=e,{popup:o=!1}=e,{overlayClose:a=!0}=e,{btnClose:u=!0}=e,{escClose:f=!0}=e,{beforeOpen:c=void 0}=e,{beforeHide:d=void 0}=e;const m=pt(),v="op_"+j.randomString(10);let _,g,k,$,C="",T=r;function S(){typeof c=="function"&&c()===!1||t(0,r=!0)}function E(){typeof d=="function"&&d()===!1||t(0,r=!1)}function O(){return r}async function A(Z){t(17,T=Z),Z?(k=document.activeElement,m("show"),_==null||_.focus()):(clearTimeout($),m("hide"),k==null||k.focus()),await Kt(),N()}function N(){_&&(r?t(6,_.style.zIndex=Jr(),_):t(6,_.style="",_))}function F(){j.pushUnique(fs,v),document.body.classList.add("overlay-active")}function L(){j.removeByValue(fs,v),fs.length||document.body.classList.remove("overlay-active")}function P(Z){r&&f&&Z.code=="Escape"&&!j.isInput(Z.target)&&_&&_.style.zIndex==Jr()&&(Z.preventDefault(),E())}function R(Z){r&&q(g)}function q(Z,se){se&&t(8,C=""),Z&&($||($=setTimeout(()=>{if(clearTimeout($),$=null,!Z)return;if(Z.scrollHeight-Z.offsetHeight>0)t(8,C="scrollable");else{t(8,C="");return}Z.scrollTop==0?t(8,C+=" scroll-top-reached"):Z.scrollTop+Z.offsetHeight==Z.scrollHeight&&t(8,C+=" scroll-bottom-reached")},100)))}Ut(()=>(Vp().appendChild(_),()=>{var Z;clearTimeout($),L(),(Z=_==null?void 0:_.classList)==null||Z.add("hidden"),setTimeout(()=>{_==null||_.remove()},0)}));const z=()=>a?E():!0;function K(Z){le[Z?"unshift":"push"](()=>{g=Z,t(7,g)})}const Q=Z=>q(Z.target);function J(Z){le[Z?"unshift":"push"](()=>{_=Z,t(6,_)})}return n.$$set=Z=>{"class"in Z&&t(1,s=Z.class),"active"in Z&&t(0,r=Z.active),"popup"in Z&&t(2,o=Z.popup),"overlayClose"in Z&&t(3,a=Z.overlayClose),"btnClose"in Z&&t(4,u=Z.btnClose),"escClose"in Z&&t(12,f=Z.escClose),"beforeOpen"in Z&&t(13,c=Z.beforeOpen),"beforeHide"in Z&&t(14,d=Z.beforeHide),"$$scope"in Z&&t(18,i=Z.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131073&&T!=r&&A(r),n.$$.dirty[0]&128&&q(g,!0),n.$$.dirty[0]&64&&_&&N(),n.$$.dirty[0]&1&&(r?F():L())},[r,s,o,a,u,E,_,g,C,P,R,q,f,c,d,S,O,T,i,l,z,K,Q,J]}class Yt extends ge{constructor(e){super(),be(this,e,Qh,Gh,_e,{class:1,active:0,popup:2,overlayClose:3,btnClose:4,escClose:12,beforeOpen:13,beforeHide:14,show:15,hide:5,isActive:16},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[5]}get isActive(){return this.$$.ctx[16]}}const vl=[];function Up(n,e){return{subscribe:cn(n,e).subscribe}}function cn(n,e=x){let t;const l=new Set;function i(o){if(_e(n,o)&&(n=o,t)){const a=!vl.length;for(const u of l)u[1](),vl.push(u,n);if(a){for(let u=0;u<vl.length;u+=2)vl[u][0](vl[u+1]);vl.length=0}}}function s(o){i(o(n))}function r(o,a=x){const u=[o,a];return l.add(u),l.size===1&&(t=e(i)||x),o(n),()=>{l.delete(u),l.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:r}}function zp(n,e,t){const l=!Array.isArray(n),i=l?[n]:n,s=e.length<2;return Up(t,r=>{let o=!1;const a=[];let u=0,f=x;const c=()=>{if(u)return;f();const m=e(l?a[0]:a,r);s?r(m):f=kt(m)?m:x},d=i.map((m,v)=>Hs(m,_=>{a[v]=_,u&=~(1<<v),o&&c()},()=>{u|=1<<v}));return o=!0,c(),function(){Te(d),f(),o=!1}})}const er=cn({});function Gt(n,e,t){er.set({text:n,yesCallback:e,noCallback:t})}function Bp(){er.set({})}function Xh(n){var i;let e,t=((i=n[1])==null?void 0:i.text)+"",l;return{c(){e=h("h4"),l=B(t),p(e,"class","block center txt-break"),p(e,"slot","header")},m(s,r){w(s,e,r),b(e,l)},p(s,r){var o;r&2&&t!==(t=((o=s[1])==null?void 0:o.text)+"")&&oe(l,t)},d(s){s&&y(e)}}}function xh(n){let e,t,l,i,s,r,o;return{c(){e=h("button"),t=h("span"),t.textContent="No",l=D(),i=h("button"),s=h("span"),s.textContent="Yes",p(t,"class","txt"),e.autofocus=!0,p(e,"type","button"),p(e,"class","btn btn-transparent btn-expanded-sm"),e.disabled=n[2],p(s,"class","txt"),p(i,"type","button"),p(i,"class","btn btn-danger btn-expanded"),i.disabled=n[2],X(i,"btn-loading",n[2])},m(a,u){w(a,e,u),b(e,t),w(a,l,u),w(a,i,u),b(i,s),e.focus(),r||(o=[Y(e,"click",n[4]),Y(i,"click",n[5])],r=!0)},p(a,u){u&4&&(e.disabled=a[2]),u&4&&(i.disabled=a[2]),u&4&&X(i,"btn-loading",a[2])},d(a){a&&y(e),a&&y(l),a&&y(i),r=!1,Te(o)}}}function e1(n){let e,t,l={class:"confirm-popup hide-content overlay-panel-sm",overlayClose:!n[2],escClose:!n[2],btnClose:!1,popup:!0,$$slots:{footer:[xh],header:[Xh]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[6](e),e.$on("hide",n[7]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&4&&(r.overlayClose=!i[2]),s&4&&(r.escClose=!i[2]),s&271&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[6](null),V(e,i)}}}function t1(n,e,t){let l;Ve(n,er,c=>t(1,l=c));let i,s=!1,r=!1;const o=()=>{t(3,r=!1),i==null||i.hide()},a=async()=>{l!=null&&l.yesCallback&&(t(2,s=!0),await Promise.resolve(l.yesCallback()),t(2,s=!1)),t(3,r=!0),i==null||i.hide()};function u(c){le[c?"unshift":"push"](()=>{i=c,t(0,i)})}const f=async()=>{!r&&(l!=null&&l.noCallback)&&l.noCallback(),await Kt(),t(3,r=!1),Bp()};return n.$$.update=()=>{n.$$.dirty&3&&l!=null&&l.text&&(t(3,r=!1),i==null||i.show())},[i,l,s,r,o,a,u,f]}class n1 extends ge{constructor(e){super(),be(this,e,t1,e1,_e,{})}}function l1(n,{from:e,to:t},l={}){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform,[r,o]=i.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*r/t.width-(t.left+r),u=e.top+e.height*o/t.height-(t.top+o),{delay:f=0,duration:c=m=>Math.sqrt(m)*120,easing:d=Bi}=l;return{delay:f,duration:kt(c)?c(Math.sqrt(a*a+u*u)):c,easing:d,css:(m,v)=>{const _=v*a,g=v*u,k=m+v*e.width/t.width,$=m+v*e.height/t.height;return`transform: ${s} translate(${_}px, ${g}px) scale(${k}, ${$});`}}}const Wi=cn([]);function Ni(n,e=4e3){return Ki(n,"info",e)}function wt(n,e=3e3){return Ki(n,"success",e)}function Ol(n,e=4500){return Ki(n,"error",e)}function i1(n,e=4500){return Ki(n,"warning",e)}function Ki(n,e,t){t=t||4e3;const l={message:n,type:e,duration:t,timeout:setTimeout(()=>{Wp(l)},t)};Wi.update(i=>(nr(i,l.message),j.pushOrReplaceByKey(i,l,"message"),i))}function Wp(n){Wi.update(e=>(nr(e,n),e))}function tr(){Wi.update(n=>{for(let e of n)nr(n,e);return[]})}function nr(n,e){let t;typeof e=="string"?t=j.findByKey(n,"message",e):t=e,t&&(clearTimeout(t.timeout),j.removeByKey(n,"message",t.message))}function Zr(n,e,t){const l=n.slice();return l[2]=e[t],l}function s1(n){let e;return{c(){e=h("i"),p(e,"class","ri-alert-line")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function r1(n){let e;return{c(){e=h("i"),p(e,"class","ri-error-warning-line")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function o1(n){let e;return{c(){e=h("i"),p(e,"class","ri-checkbox-circle-line")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function a1(n){let e;return{c(){e=h("i"),p(e,"class","ri-information-line")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Gr(n,e){let t,l,i,s,r=e[2].message+"",o,a,u,f,c,d,m,v=x,_,g,k;function $(E,O){return E[2].type==="info"?a1:E[2].type==="success"?o1:E[2].type==="warning"?r1:s1}let C=$(e),T=C(e);function S(){return e[1](e[2])}return{key:n,first:null,c(){t=h("div"),l=h("div"),T.c(),i=D(),s=h("div"),o=B(r),a=D(),u=h("button"),u.innerHTML='<i class="ri-close-line"></i>',f=D(),p(l,"class","icon"),p(s,"class","content"),p(u,"type","button"),p(u,"class","close"),p(t,"class","alert txt-break"),X(t,"alert-info",e[2].type=="info"),X(t,"alert-success",e[2].type=="success"),X(t,"alert-danger",e[2].type=="error"),X(t,"alert-warning",e[2].type=="warning"),this.first=t},m(E,O){w(E,t,O),b(t,l),T.m(l,null),b(t,i),b(t,s),b(s,o),b(t,a),b(t,u),b(t,f),_=!0,g||(k=Y(u,"click",Ke(S)),g=!0)},p(E,O){e=E,C!==(C=$(e))&&(T.d(1),T=C(e),T&&(T.c(),T.m(l,null))),(!_||O&1)&&r!==(r=e[2].message+"")&&oe(o,r),(!_||O&1)&&X(t,"alert-info",e[2].type=="info"),(!_||O&1)&&X(t,"alert-success",e[2].type=="success"),(!_||O&1)&&X(t,"alert-danger",e[2].type=="error"),(!_||O&1)&&X(t,"alert-warning",e[2].type=="warning")},r(){m=t.getBoundingClientRect()},f(){Pm(t),v(),jd(t,m)},a(){v(),v=qm(t,m,l1,{duration:150})},i(E){_||(Be(()=>{_&&(d&&d.end(1),c=Ud(t,Ge,{duration:150}),c.start())}),_=!0)},o(E){c&&c.invalidate(),d=Ws(t,Ls,{duration:150}),_=!1},d(E){E&&y(t),T.d(),E&&d&&d.end(),g=!1,k()}}}function u1(n){let e,t=[],l=new Map,i,s=n[0];const r=o=>o[2].message;for(let o=0;o<s.length;o+=1){let a=Zr(n,s,o),u=r(a);l.set(u,t[o]=Gr(u,a))}return{c(){e=h("div");for(let o=0;o<t.length;o+=1)t[o].c();p(e,"class","toasts-wrapper")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);i=!0},p(o,[a]){if(a&1){s=o[0],ue();for(let u=0;u<t.length;u+=1)t[u].r();t=rt(t,a,r,1,o,s,l,e,Um,Gr,null,Zr);for(let u=0;u<t.length;u+=1)t[u].a();fe()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)M(t[a]);i=!0}},o(o){for(let a=0;a<t.length;a+=1)I(t[a]);i=!1},d(o){o&&y(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function f1(n,e,t){let l;return Ve(n,Wi,s=>t(0,l=s)),[l,s=>Wp(s)]}class c1 extends ge{constructor(e){super(),be(this,e,f1,u1,_e,{})}}function Qr(n){let e,t,l;const i=n[17].default,s=ut(i,n,n[16],null);return{c(){e=h("div"),s&&s.c(),p(e,"class",n[1]),X(e,"active",n[0])},m(r,o){w(r,e,o),s&&s.m(e,null),n[18](e),l=!0},p(r,o){s&&s.p&&(!l||o&65536)&&ct(s,i,r,r[16],l?ft(i,r[16],o,null):dt(r[16]),null),(!l||o&2)&&p(e,"class",r[1]),(!l||o&3)&&X(e,"active",r[0])},i(r){l||(M(s,r),r&&Be(()=>{l&&(t||(t=Fe(e,On,{duration:150,y:3},!0)),t.run(1))}),l=!0)},o(r){I(s,r),r&&(t||(t=Fe(e,On,{duration:150,y:3},!1)),t.run(0)),l=!1},d(r){r&&y(e),s&&s.d(r),n[18](null),r&&t&&t.end()}}}function d1(n){let e,t,l,i,s=n[0]&&Qr(n);return{c(){e=h("div"),s&&s.c(),p(e,"class","toggler-container"),p(e,"tabindex","-1")},m(r,o){w(r,e,o),s&&s.m(e,null),n[19](e),t=!0,l||(i=[Y(window,"mousedown",n[5]),Y(window,"click",n[6]),Y(window,"keydown",n[4]),Y(window,"focusin",n[7])],l=!0)},p(r,[o]){r[0]?s?(s.p(r,o),o&1&&M(s,1)):(s=Qr(r),s.c(),M(s,1),s.m(e,null)):s&&(ue(),I(s,1,1,()=>{s=null}),fe())},i(r){t||(M(s),t=!0)},o(r){I(s),t=!1},d(r){r&&y(e),s&&s.d(),n[19](null),l=!1,Te(i)}}}function p1(n,e,t){let{$$slots:l={},$$scope:i}=e,{trigger:s=void 0}=e,{active:r=!1}=e,{escClose:o=!0}=e,{autoScroll:a=!0}=e,{closableClass:u="closable"}=e,{class:f=""}=e,c,d,m,v,_=!1;const g=pt();function k(){t(0,r=!1),_=!1,clearTimeout(v)}function $(){t(0,r=!0),clearTimeout(v),v=setTimeout(()=>{a&&(d!=null&&d.scrollIntoViewIfNeeded?d==null||d.scrollIntoViewIfNeeded():d!=null&&d.scrollIntoView&&(d==null||d.scrollIntoView({behavior:"smooth",block:"nearest"})))},180)}function C(){r?k():$()}function T(z){return!c||z.classList.contains(u)||(m==null?void 0:m.contains(z))&&!c.contains(z)||c.contains(z)&&z.closest&&z.closest("."+u)}function S(z){(!r||T(z.target))&&(z.preventDefault(),z.stopPropagation(),C())}function E(z){(z.code==="Enter"||z.code==="Space")&&(!r||T(z.target))&&(z.preventDefault(),z.stopPropagation(),C())}function O(z){r&&o&&z.code==="Escape"&&(z.preventDefault(),k())}function A(z){r&&!(c!=null&&c.contains(z.target))?_=!0:_&&(_=!1)}function N(z){var K;r&&_&&!(c!=null&&c.contains(z.target))&&!(m!=null&&m.contains(z.target))&&!((K=z.target)!=null&&K.closest(".flatpickr-calendar"))&&k()}function F(z){A(z),N(z)}function L(z){P(),c==null||c.addEventListener("click",S),t(15,m=z||(c==null?void 0:c.parentNode)),m==null||m.addEventListener("click",S),m==null||m.addEventListener("keydown",E)}function P(){clearTimeout(v),c==null||c.removeEventListener("click",S),m==null||m.removeEventListener("click",S),m==null||m.removeEventListener("keydown",E)}Ut(()=>(L(),()=>P()));function R(z){le[z?"unshift":"push"](()=>{d=z,t(3,d)})}function q(z){le[z?"unshift":"push"](()=>{c=z,t(2,c)})}return n.$$set=z=>{"trigger"in z&&t(8,s=z.trigger),"active"in z&&t(0,r=z.active),"escClose"in z&&t(9,o=z.escClose),"autoScroll"in z&&t(10,a=z.autoScroll),"closableClass"in z&&t(11,u=z.closableClass),"class"in z&&t(1,f=z.class),"$$scope"in z&&t(16,i=z.$$scope)},n.$$.update=()=>{var z,K;n.$$.dirty&260&&c&&L(s),n.$$.dirty&32769&&(r?((z=m==null?void 0:m.classList)==null||z.add("active"),g("show")):((K=m==null?void 0:m.classList)==null||K.remove("active"),g("hide")))},[r,f,c,d,O,A,N,F,s,o,a,u,k,$,C,m,i,l,R,q]}class gn extends ge{constructor(e){super(),be(this,e,p1,d1,_e,{trigger:8,active:0,escClose:9,autoScroll:10,closableClass:11,class:1,hide:12,show:13,toggle:14})}get hide(){return this.$$.ctx[12]}get show(){return this.$$.ctx[13]}get toggle(){return this.$$.ctx[14]}}const lr=cn({});function qs(n){lr.set(n||{})}const vt=cn(""),Fi=cn(""),Dl=cn(!1),Hn=cn({});function jt(n){Hn.set(n||{})}function Dn(n){Hn.update(e=>(j.deleteByPath(e,n),e))}var Ps=function(n,e){return Ps=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i])},Ps(n,e)};function Vt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Ps(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Rs=function(){return Rs=Object.assign||function(e){for(var t,l=1,i=arguments.length;l<i;l++)for(var s in t=arguments[l])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Rs.apply(this,arguments)};function Pt(n,e,t,l){return new(t||(t=Promise))(function(i,s){function r(u){try{a(l.next(u))}catch(f){s(f)}}function o(u){try{a(l.throw(u))}catch(f){s(f)}}function a(u){u.done?i(u.value):function(c){return c instanceof t?c:new t(function(d){d(c)})}(u.value).then(r,o)}a((l=l.apply(n,e||[])).next())})}function Rt(n,e){var t,l,i,s,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(a){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(t=1,l&&(i=2&c[0]?l.return:c[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,c[1])).done)return i;switch(l=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,l=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(n,r)}catch(d){c=[6,d],l=0}finally{t=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([a,u])}}}var Kp,Yn=function(n){function e(t){var l,i,s,r,o=this;return(o=n.call(this,"ClientResponseError")||this).url="",o.status=0,o.response={},o.isAbort=!1,o.originalError=null,Object.setPrototypeOf(o,e.prototype),t!==null&&typeof t=="object"&&(o.url=typeof t.url=="string"?t.url:"",o.status=typeof t.status=="number"?t.status:0,o.isAbort=!!t.isAbort,o.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?o.response=t.response:t.data!==null&&typeof t.data=="object"?o.response=t.data:o.response={}),o.originalError||t instanceof e||(o.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(o.isAbort=!0),o.name="ClientResponseError "+o.status,o.message=(l=o.response)===null||l===void 0?void 0:l.message,o.message||(o.isAbort?o.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((r=(s=(i=o.originalError)===null||i===void 0?void 0:i.cause)===null||s===void 0?void 0:s.message)===null||r===void 0)&&r.includes("ECONNREFUSED ::1")?o.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":o.message="Something went wrong while processing your request."),o}return Vt(e,n),Object.defineProperty(e.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return Rs({},this)},e}(Error),bi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Xr(n,e,t){var l=Object.assign({},t||{}),i=l.encode||_1;if(!bi.test(n))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!bi.test(s))throw new TypeError("argument val is invalid");var r=n+"="+s;if(l.maxAge!=null){var o=l.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");r+="; Max-Age="+Math.floor(o)}if(l.domain){if(!bi.test(l.domain))throw new TypeError("option domain is invalid");r+="; Domain="+l.domain}if(l.path){if(!bi.test(l.path))throw new TypeError("option path is invalid");r+="; Path="+l.path}if(l.expires){if(!function(u){return Object.prototype.toString.call(u)==="[object Date]"||u instanceof Date}(l.expires)||isNaN(l.expires.valueOf()))throw new TypeError("option expires is invalid");r+="; Expires="+l.expires.toUTCString()}if(l.httpOnly&&(r+="; HttpOnly"),l.secure&&(r+="; Secure"),l.priority)switch(typeof l.priority=="string"?l.priority.toLowerCase():l.priority){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(l.sameSite)switch(typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}function m1(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function _1(n){return encodeURIComponent(n)}function Yp(n){if(n)try{var e=decodeURIComponent(Kp(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Jp(n,e){e===void 0&&(e=0);var t=Yp(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Kp=typeof atob=="function"?atob:function(n){var e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,l,i=0,s=0,r="";l=e.charAt(s++);~l&&(t=i%4?64*t+l:l,i++%4)?r+=String.fromCharCode(255&t>>(-2*i&6)):0)l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(l);return r};var ri=function(){function n(e){e===void 0&&(e={}),this.$load(e||{})}return n.prototype.load=function(e){return this.$load(e)},n.prototype.$load=function(e){for(var t=0,l=Object.entries(e);t<l.length;t++){var i=l[t],s=i[0],r=i[1];this[s]=r}this.id=e.id!==void 0?e.id:"",this.created=e.created!==void 0?e.created:"",this.updated=e.updated!==void 0?e.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var e=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(e)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),Pn=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this._loadExpand(t.expand)},e.prototype._loadExpand=function(t){for(var l in t=t||{},this.expand={},t)Array.isArray(t[l])?this.expand[l]=t[l].map(function(i){return new e(i||{})}):this.expand[l]=new e(t[l]||{})},e}(ri),fl=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},e}(ri),xr="pb_auth",h1=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Jp(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(e,t){this.baseToken=e||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new Pn(t):new fl(t):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(e,t){t===void 0&&(t=xr);var l=function(r,o){var a={};if(typeof r!="string")return a;for(var u=Object.assign({},o||{}).decode||m1,f=0;f<r.length;){var c=r.indexOf("=",f);if(c===-1)break;var d=r.indexOf(";",f);if(d===-1)d=r.length;else if(d<c){f=r.lastIndexOf(";",c-1)+1;continue}var m=r.slice(f,c).trim();if(a[m]===void 0){var v=r.slice(c+1,d).trim();v.charCodeAt(0)===34&&(v=v.slice(1,-1));try{a[m]=u(v)}catch{a[m]=v}}f=d+1}return a}(e||"")[t]||"",i={};try{(typeof(i=JSON.parse(l))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},n.prototype.exportToCookie=function(e,t){var l,i,s;t===void 0&&(t=xr);var r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},o=Yp(this.token);o!=null&&o.exp?r.expires=new Date(1e3*o.exp):r.expires=new Date("1970-01-01"),e=Object.assign({},r,e);var a={token:this.token,model:((l=this.model)===null||l===void 0?void 0:l.export())||null},u=Xr(t,JSON.stringify(a),e),f=typeof Blob<"u"?new Blob([u]).size:u.length;return a.model&&f>4096&&(a.model={id:(i=a==null?void 0:a.model)===null||i===void 0?void 0:i.id,email:(s=a==null?void 0:a.model)===null||s===void 0?void 0:s.email},this.model instanceof Pn&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),u=Xr(t,JSON.stringify(a),e)),u},n.prototype.onChange=function(e,t){var l=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(e),t&&e(this.token,this.model),function(){for(var i=l._onChangeCallbacks.length-1;i>=0;i--)if(l._onChangeCallbacks[i]==e)return delete l._onChangeCallbacks[i],void l._onChangeCallbacks.splice(i,1)}},n.prototype.triggerChange=function(){for(var e=0,t=this._onChangeCallbacks;e<t.length;e++){var l=t[e];l&&l(this.token,this.model)}},n}(),Zp=function(n){function e(t){t===void 0&&(t="pocketbase_auth");var l=n.call(this)||this;return l.storageFallback={},l.storageKey=t,l}return Vt(e,n),Object.defineProperty(e.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t,l=this._storageGet(this.storageKey)||{};return l===null||typeof l!="object"||l.model===null||typeof l.model!="object"?null:((t=l.model)===null||t===void 0?void 0:t.collectionId)===void 0?new fl(l.model):new Pn(l.model)},enumerable:!1,configurable:!0}),e.prototype.save=function(t,l){this._storageSet(this.storageKey,{token:t,model:l}),n.prototype.save.call(this,t,l)},e.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},e.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var l=window.localStorage.getItem(t)||"";try{return JSON.parse(l)}catch{return l}}return this.storageFallback[t]},e.prototype._storageSet=function(t,l){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=l;typeof l!="string"&&(i=JSON.stringify(l)),window.localStorage.setItem(t,i)}else this.storageFallback[t]=l},e.prototype._storageRemove=function(t){var l;typeof window<"u"&&(window!=null&&window.localStorage)&&((l=window.localStorage)===null||l===void 0||l.removeItem(t)),delete this.storageFallback[t]},e}(h1),ml=function(e){this.client=e},b1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(l){return l||{}})},e.prototype.update=function(t,l){return t===void 0&&(t={}),l===void 0&&(l={}),this.client.send("/api/settings",{method:"PATCH",params:l,body:t}).then(function(i){return i||{}})},e.prototype.testS3=function(t,l){t===void 0&&(t="storage"),l===void 0&&(l={});var i={filesystem:t};return this.client.send("/api/settings/test/s3",{method:"POST",params:l,body:i}).then(function(){return!0})},e.prototype.testEmail=function(t,l,i){i===void 0&&(i={});var s={email:t,template:l};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:s}).then(function(){return!0})},e.prototype.generateAppleClientSecret=function(t,l,i,s,r,o,a){return o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({clientId:t,teamId:l,keyId:i,privateKey:s,duration:r},o),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:o})},e}(ml),Gp=function(e,t,l,i,s){this.page=e>0?e:1,this.perPage=t>=0?t:0,this.totalItems=l>=0?l:0,this.totalPages=i>=0?i:0,this.items=s||[]},ir=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.getFullList=function(t,l){if(typeof t=="number")return this._getFullList(this.baseCrudPath,t,l);var i=Object.assign({},t,l),s=500;return i.batch&&(s=i.batch,delete i.batch),this._getFullList(this.baseCrudPath,s,i)},e.prototype.getList=function(t,l,i){return t===void 0&&(t=1),l===void 0&&(l=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,t,l,i)},e.prototype.getFirstListItem=function(t,l){return l===void 0&&(l={}),this._getFirstListItem(this.baseCrudPath,t,l)},e.prototype.getOne=function(t,l){return l===void 0&&(l={}),this._getOne(this.baseCrudPath,t,l)},e.prototype.create=function(t,l){return t===void 0&&(t={}),l===void 0&&(l={}),this._create(this.baseCrudPath,t,l)},e.prototype.update=function(t,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),this._update(this.baseCrudPath,t,l,i)},e.prototype.delete=function(t,l){return l===void 0&&(l={}),this._delete(this.baseCrudPath,t,l)},e}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype._getFullList=function(t,l,i){var s=this;l===void 0&&(l=500),i===void 0&&(i={}),i=Object.assign({skipTotal:1},i);var r=[],o=function(a){return Pt(s,void 0,void 0,function(){return Rt(this,function(u){return[2,this._getList(t,a,l||500,i).then(function(f){var c=f.items;return r=r.concat(c),c.length==f.perPage?o(a+1):r})]})})};return o(1)},e.prototype._getList=function(t,l,i,s){var r=this;return l===void 0&&(l=1),i===void 0&&(i=30),s===void 0&&(s={}),s=Object.assign({page:l,perPage:i},s),this.client.send(t,{method:"GET",params:s}).then(function(o){var a=[];if(o!=null&&o.items){o.items=o.items||[];for(var u=0,f=o.items;u<f.length;u++){var c=f[u];a.push(r.decode(c))}}return new Gp((o==null?void 0:o.page)||1,(o==null?void 0:o.perPage)||0,(o==null?void 0:o.totalItems)||0,(o==null?void 0:o.totalPages)||0,a)})},e.prototype._getOne=function(t,l,i){var s=this;return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(l),{method:"GET",params:i}).then(function(r){return s.decode(r)})},e.prototype._getFirstListItem=function(t,l,i){return i===void 0&&(i={}),i=Object.assign({filter:l,skipTotal:1,$cancelKey:"one_by_filter_"+t+"_"+l},i),this._getList(t,1,1,i).then(function(s){var r;if(!(!((r=s==null?void 0:s.items)===null||r===void 0)&&r.length))throw new Yn({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return s.items[0]})},e.prototype._create=function(t,l,i){var s=this;return l===void 0&&(l={}),i===void 0&&(i={}),this.client.send(t,{method:"POST",params:i,body:l}).then(function(r){return s.decode(r)})},e.prototype._update=function(t,l,i,s){var r=this;return i===void 0&&(i={}),s===void 0&&(s={}),this.client.send(t+"/"+encodeURIComponent(l),{method:"PATCH",params:s,body:i}).then(function(o){return r.decode(o)})},e.prototype._delete=function(t,l,i){return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(l),{method:"DELETE",params:i}).then(function(){return!0})},e}(ml)),g1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.decode=function(t){return new fl(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),e.prototype.update=function(t,l,i){var s=this;return l===void 0&&(l={}),i===void 0&&(i={}),n.prototype.update.call(this,t,l,i).then(function(r){var o,a;return s.client.authStore.model&&((o=s.client.authStore.model)===null||o===void 0?void 0:o.collectionId)===void 0&&((a=s.client.authStore.model)===null||a===void 0?void 0:a.id)===(r==null?void 0:r.id)&&s.client.authStore.save(s.client.authStore.token,r),r})},e.prototype.delete=function(t,l){var i=this;return l===void 0&&(l={}),n.prototype.delete.call(this,t,l).then(function(s){var r,o;return s&&i.client.authStore.model&&((r=i.client.authStore.model)===null||r===void 0?void 0:r.collectionId)===void 0&&((o=i.client.authStore.model)===null||o===void 0?void 0:o.id)===t&&i.client.authStore.clear(),s})},e.prototype.authResponse=function(t){var l=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,l),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:l})},e.prototype.authWithPassword=function(t,l,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:t,password:l},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(this.authResponse.bind(this))},e.prototype.authRefresh=function(t,l){return t===void 0&&(t={}),l===void 0&&(l={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:l,body:t}).then(this.authResponse.bind(this))},e.prototype.requestPasswordReset=function(t,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({email:t},l),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:l}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,l,i,s,r){return s===void 0&&(s={}),r===void 0&&(r={}),s=Object.assign({token:t,password:l,passwordConfirm:i},s),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:r,body:s}).then(function(){return!0})},e}(ir),v1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},e}(ri),k1=function(n){function e(t,l){var i=n.call(this,t)||this;return i.collectionIdOrName=l,i}return Vt(e,n),e.prototype.decode=function(t){return new Pn(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),e.prototype.subscribeOne=function(t,l){return Pt(this,void 0,void 0,function(){return Rt(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,l)]})})},e.prototype.subscribe=function(t,l){return Pt(this,void 0,void 0,function(){var i;return Rt(this,function(s){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!l)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,t!=="*"&&(i+="/"+t),[2,this.client.realtime.subscribe(i,l)]})})},e.prototype.unsubscribe=function(t){return Pt(this,void 0,void 0,function(){return Rt(this,function(l){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},e.prototype.getFullList=function(t,l){if(typeof t=="number")return n.prototype.getFullList.call(this,t,l);var i=Object.assign({},t,l);return n.prototype.getFullList.call(this,i)},e.prototype.getList=function(t,l,i){return t===void 0&&(t=1),l===void 0&&(l=30),i===void 0&&(i={}),n.prototype.getList.call(this,t,l,i)},e.prototype.getFirstListItem=function(t,l){return l===void 0&&(l={}),n.prototype.getFirstListItem.call(this,t,l)},e.prototype.getOne=function(t,l){return l===void 0&&(l={}),n.prototype.getOne.call(this,t,l)},e.prototype.create=function(t,l){return t===void 0&&(t={}),l===void 0&&(l={}),n.prototype.create.call(this,t,l)},e.prototype.update=function(t,l,i){var s=this;return l===void 0&&(l={}),i===void 0&&(i={}),n.prototype.update.call(this,t,l,i).then(function(r){var o,a,u;return((o=s.client.authStore.model)===null||o===void 0?void 0:o.id)!==(r==null?void 0:r.id)||((a=s.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==s.collectionIdOrName&&((u=s.client.authStore.model)===null||u===void 0?void 0:u.collectionName)!==s.collectionIdOrName||s.client.authStore.save(s.client.authStore.token,r),r})},e.prototype.delete=function(t,l){var i=this;return l===void 0&&(l={}),n.prototype.delete.call(this,t,l).then(function(s){var r,o,a;return!s||((r=i.client.authStore.model)===null||r===void 0?void 0:r.id)!==t||((o=i.client.authStore.model)===null||o===void 0?void 0:o.collectionId)!==i.collectionIdOrName&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==i.collectionIdOrName||i.client.authStore.clear(),s})},e.prototype.authResponse=function(t){var l=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,l),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:l})},e.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(l){return Object.assign({},l,{usernamePassword:!!(l!=null&&l.usernamePassword),emailPassword:!!(l!=null&&l.emailPassword),authProviders:Array.isArray(l==null?void 0:l.authProviders)?l==null?void 0:l.authProviders:[]})})},e.prototype.authWithPassword=function(t,l,i,s){var r=this;return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:t,password:l},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(function(o){return r.authResponse(o)})},e.prototype.authWithOAuth2Code=function(t,l,i,s,r,o,a){var u=this;return r===void 0&&(r={}),o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({provider:t,code:l,codeVerifier:i,redirectUrl:s,createData:r},o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:o}).then(function(f){return u.authResponse(f)})},e.prototype.authWithOAuth2=function(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];return Pt(this,void 0,void 0,function(){var i,s,r,o,a=this;return Rt(this,function(u){switch(u.label){case 0:return t.length>1||typeof(t==null?void 0:t[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{})]):(i=(t==null?void 0:t[0])||{},[4,this.listAuthMethods()]);case 1:if(s=u.sent(),!(r=s.authProviders.find(function(f){return f.name===i.provider})))throw new Yn(new Error('Missing or invalid provider "'.concat(i.provider,'".')));return o=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(f,c){return Pt(a,void 0,void 0,function(){var d,m,v,_,g,k=this;return Rt(this,function($){switch($.label){case 0:return $.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(C){return Pt(k,void 0,void 0,function(){var T,S,E;return Rt(this,function(O){switch(O.label){case 0:T=this.client.realtime.clientId,O.label=1;case 1:if(O.trys.push([1,3,,4]),d(),!C.state||T!==C.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(r.name,C.code,r.codeVerifier,o,i.createData,i.body,i.query)];case 2:return S=O.sent(),f(S),[3,4];case 3:return E=O.sent(),c(new Yn(E)),[3,4];case 4:return[2]}})})})];case 1:return d=$.sent(),m={state:this.client.realtime.clientId},!((g=i.scopes)===null||g===void 0)&&g.length&&(m.scope=i.scopes.join(" ")),v=this._replaceQueryParams(r.authUrl+o,m),[4,i.urlCallback?i.urlCallback(v):this._defaultUrlCallback(v)];case 2:return $.sent(),[3,4];case 3:return _=$.sent(),c(new Yn(_)),[3,4];case 4:return[2]}})})})]}})})},e.prototype.authRefresh=function(t,l){var i=this;return t===void 0&&(t={}),l===void 0&&(l={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:l,body:t}).then(function(s){return i.authResponse(s)})},e.prototype.requestPasswordReset=function(t,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({email:t},l),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:l}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,l,i,s,r){return s===void 0&&(s={}),r===void 0&&(r={}),s=Object.assign({token:t,password:l,passwordConfirm:i},s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:r,body:s}).then(function(){return!0})},e.prototype.requestVerification=function(t,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({email:t},l),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:l}).then(function(){return!0})},e.prototype.confirmVerification=function(t,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({token:t},l),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:l}).then(function(){return!0})},e.prototype.requestEmailChange=function(t,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({newEmail:t},l),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:l}).then(function(){return!0})},e.prototype.confirmEmailChange=function(t,l,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({token:t,password:l},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.listExternalAuths=function(t,l){return l===void 0&&(l={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:l}).then(function(i){var s=[];if(Array.isArray(i))for(var r=0,o=i;r<o.length;r++){var a=o[r];s.push(new v1(a))}return s})},e.prototype.unlinkExternalAuth=function(t,l,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(l),{method:"DELETE",params:i}).then(function(){return!0})},e.prototype._replaceQueryParams=function(t,l){l===void 0&&(l={});var i=t,s="";t.indexOf("?")>=0&&(i=t.substring(0,t.indexOf("?")),s=t.substring(t.indexOf("?")+1));for(var r={},o=0,a=s.split("&");o<a.length;o++){var u=a[o];if(u!=""){var f=u.split("=");r[decodeURIComponent(f[0].replace(/\+/g," "))]=decodeURIComponent((f[1]||"").replace(/\+/g," "))}}for(var c in l)l.hasOwnProperty(c)&&(l[c]==null?delete r[c]:r[c]=l[c]);for(var c in s="",r)r.hasOwnProperty(c)&&(s!=""&&(s+="&"),s+=encodeURIComponent(c.replace(/%20/g,"+"))+"="+encodeURIComponent(r[c].replace(/%20/g,"+")));return s!=""?i+"?"+s:i},e.prototype._defaultUrlCallback=function(t){if(typeof window>"u"||!(window!=null&&window.open))throw new Yn(new Error("Not in a browser context - please pass a custom urlCallback function."));var l=1024,i=768,s=window.innerWidth,r=window.innerHeight,o=s/2-(l=l>s?s:l)/2,a=r/2-(i=i>r?r:i)/2;window.open(t,"oauth2-popup","width="+l+",height="+i+",top="+a+",left="+o+",resizable,menubar=no")},e}(ir),sn=function(e){e===void 0&&(e={}),this.id=e.id!==void 0?e.id:"",this.name=e.name!==void 0?e.name:"",this.type=e.type!==void 0?e.type:"text",this.system=!!e.system,this.required=!!e.required,this.options=typeof e.options=="object"&&e.options!==null?e.options:{}},ln=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0&&t.options!==null?t.options:{},this.indexes=Array.isArray(t.indexes)?t.indexes:[],this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var l=0,i=t.schema;l<i.length;l++){var s=i[l];this.schema.push(new sn(s))}},Object.defineProperty(e.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),e}(ri),y1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.decode=function(t){return new ln(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),e.prototype.import=function(t,l,i){return l===void 0&&(l=!1),i===void 0&&(i={}),Pt(this,void 0,void 0,function(){return Rt(this,function(s){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:t,deleteMissing:l}}).then(function(){return!0})]})})},e}(ir),eo=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},e}(ri),w1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.getRequestsList=function(t,l,i){return t===void 0&&(t=1),l===void 0&&(l=30),i===void 0&&(i={}),i=Object.assign({page:t,perPage:l},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(s){var r=[];if(s!=null&&s.items){s.items=(s==null?void 0:s.items)||[];for(var o=0,a=s.items;o<a.length;o++){var u=a[o];r.push(new eo(u))}}return new Gp((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,r)})},e.prototype.getRequest=function(t,l){return l===void 0&&(l={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:l}).then(function(i){return new eo(i)})},e.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(l){return l})},e}(ml),$1=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return Vt(e,n),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t,l){var i;return Pt(this,void 0,void 0,function(){var s,r=this;return Rt(this,function(o){switch(o.label){case 0:if(!t)throw new Error("topic must be set.");return s=function(a){var u,f=a;try{u=JSON.parse(f==null?void 0:f.data)}catch{}l(u||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(s),this.isConnected?[3,2]:[4,this.connect()];case 1:return o.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return o.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(t,s),o.label=5;case 5:return[2,function(){return Pt(r,void 0,void 0,function(){return Rt(this,function(a){return[2,this.unsubscribeByTopicAndListener(t,s)]})})}]}})})},e.prototype.unsubscribe=function(t){var l;return Pt(this,void 0,void 0,function(){var i,s,r;return Rt(this,function(o){switch(o.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(i=0,s=this.subscriptions[t];i<s.length;i++)r=s[i],(l=this.eventSource)===null||l===void 0||l.removeEventListener(t,r);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByPrefix=function(t){var l;return Pt(this,void 0,void 0,function(){var i,s,r,o,a;return Rt(this,function(u){switch(u.label){case 0:for(s in i=!1,this.subscriptions)if(s.startsWith(t)){for(i=!0,r=0,o=this.subscriptions[s];r<o.length;r++)a=o[r],(l=this.eventSource)===null||l===void 0||l.removeEventListener(s,a);delete this.subscriptions[s]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return u.sent(),[3,3];case 2:this.disconnect(),u.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByTopicAndListener=function(t,l){var i;return Pt(this,void 0,void 0,function(){var s,r;return Rt(this,function(o){switch(o.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(s=!1,r=this.subscriptions[t].length-1;r>=0;r--)this.subscriptions[t][r]===l&&(s=!0,delete this.subscriptions[t][r],this.subscriptions[t].splice(r,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,l));return s?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.hasSubscriptionListeners=function(t){var l,i;if(this.subscriptions=this.subscriptions||{},t)return!!(!((l=this.subscriptions[t])===null||l===void 0)&&l.length);for(var s in this.subscriptions)if(!((i=this.subscriptions[s])===null||i===void 0)&&i.length)return!0;return!1},e.prototype.submitSubscriptions=function(){return Pt(this,void 0,void 0,function(){return Rt(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:this.getSubscriptionsCancelKey()}}).catch(function(l){if(!(l!=null&&l.isAbort))throw l})]):[2]})})},e.prototype.getSubscriptionsCancelKey=function(){return"realtime_"+this.clientId},e.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var l in this.subscriptions)this.subscriptions[l].length&&t.push(l);return t},e.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var l=0,i=this.subscriptions[t];l<i.length;l++){var s=i[l];this.eventSource.addEventListener(t,s)}},e.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var l=0,i=this.subscriptions[t];l<i.length;l++){var s=i[l];this.eventSource.removeEventListener(t,s)}},e.prototype.connect=function(){return Pt(this,void 0,void 0,function(){var t=this;return Rt(this,function(l){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,s){t.pendingConnects.push({resolve:i,reject:s}),t.pendingConnects.length>1||t.initConnect()})]})})},e.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(l){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(l){var i=l;t.clientId=i==null?void 0:i.lastEventId,t.submitSubscriptions().then(function(){return Pt(t,void 0,void 0,function(){var s;return Rt(this,function(r){switch(r.label){case 0:s=3,r.label=1;case 1:return this.hasUnsentSubscriptions()&&s>0?(s--,[4,this.submitSubscriptions()]):[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var s=0,r=t.pendingConnects;s<r.length;s++)r[s].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(s){t.clientId="",t.connectErrorHandler(s)})})},e.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var l=0,i=t;l<i.length;l++){var s=i[l];if(!this.lastSentTopics.includes(s))return!0}return!1},e.prototype.connectErrorHandler=function(t){var l=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,s=this.pendingConnects;i<s.length;i++)s[i].reject(new Yn(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);var r=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){l.initConnect()},r)},e.prototype.disconnect=function(t){var l;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(l=this.eventSource)===null||l===void 0||l.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var i=0,s=this.pendingConnects;i<s.length;i++)s[i].resolve();this.pendingConnects=[]}},e}(ml),T1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},e}(ml),S1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.getUrl=function(t,l,i){i===void 0&&(i={});var s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(t.collectionId||t.collectionName)),s.push(encodeURIComponent(t.id)),s.push(encodeURIComponent(l));var r=this.client.buildUrl(s.join("/"));if(Object.keys(i).length){i.download===!1&&delete i.download;var o=new URLSearchParams(i);r+=(r.includes("?")?"&":"?")+o}return r},e.prototype.getToken=function(t){return t===void 0&&(t={}),this.client.send("/api/files/token",{method:"POST",params:t}).then(function(l){return(l==null?void 0:l.token)||""})},e}(ml),C1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Vt(e,n),e.prototype.getFullList=function(t){return t===void 0&&(t={}),this.client.send("/api/backups",{method:"GET",params:t})},e.prototype.create=function(t,l){l===void 0&&(l={});var i={name:t};return this.client.send("/api/backups",{method:"POST",params:l,body:i}).then(function(){return!0})},e.prototype.delete=function(t,l){return l===void 0&&(l={}),this.client.send("/api/backups/".concat(encodeURIComponent(t)),{method:"DELETE",params:l}).then(function(){return!0})},e.prototype.restore=function(t,l){return l===void 0&&(l={}),this.client.send("/api/backups/".concat(encodeURIComponent(t),"/restore"),{method:"POST",params:l}).then(function(){return!0})},e.prototype.getDownloadUrl=function(t,l){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(l),"?token=").concat(encodeURIComponent(t)))},e}(ml),Yi=function(){function n(e,t,l){e===void 0&&(e="/"),l===void 0&&(l="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=l,this.authStore=t||new Zp,this.admins=new g1(this),this.collections=new y1(this),this.files=new S1(this),this.logs=new w1(this),this.settings=new b1(this),this.realtime=new $1(this),this.health=new T1(this),this.backups=new C1(this)}return n.prototype.collection=function(e){return this.recordServices[e]||(this.recordServices[e]=new k1(this,e)),this.recordServices[e]},n.prototype.autoCancellation=function(e){return this.enableAutoCancellation=!!e,this},n.prototype.cancelRequest=function(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this},n.prototype.cancelAllRequests=function(){for(var e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this},n.prototype.send=function(e,t){var l,i,s,r,o,a,u,f;return Pt(this,void 0,void 0,function(){var c,d,m,v,_,g,k,$,C,T=this;return Rt(this,function(S){switch(S.label){case 0:return c=Object.assign({method:"GET"},t),this.isFormData(c.body)||(c.body&&typeof c.body!="string"&&(c.body=JSON.stringify(c.body)),((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l["Content-Type"])===void 0&&(c.headers=Object.assign({},c.headers,{"Content-Type":"application/json"}))),((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(c.headers=Object.assign({},c.headers,{"Accept-Language":this.lang})),!((s=this.authStore)===null||s===void 0)&&s.token&&((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r.Authorization)===void 0&&(c.headers=Object.assign({},c.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((o=c.params)===null||o===void 0?void 0:o.$autoCancel)!==!1&&(d=((a=c.params)===null||a===void 0?void 0:a.$cancelKey)||(c.method||"GET")+e,this.cancelRequest(d),m=new AbortController,this.cancelControllers[d]=m,c.signal=m.signal),(u=c.params)===null||u===void 0||delete u.$autoCancel,(f=c.params)===null||f===void 0||delete f.$cancelKey,v=this.buildUrl(e),c.params!==void 0&&((_=this.serializeQueryParams(c.params))&&(v+=(v.includes("?")?"&":"?")+_),delete c.params),this.beforeSend?($=(k=Object).assign,C=[{}],[4,this.beforeSend(v,c)]):[3,2];case 1:(g=$.apply(k,C.concat([S.sent()]))).url!==void 0||g.options!==void 0?(v=g.url||v,c=g.options||c):Object.keys(g).length&&(c=g,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),S.label=2;case 2:return[2,fetch(v,c).then(function(E){return Pt(T,void 0,void 0,function(){var O;return Rt(this,function(A){switch(A.label){case 0:O={},A.label=1;case 1:return A.trys.push([1,3,,4]),[4,E.json()];case 2:return O=A.sent(),[3,4];case 3:return A.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(E,O)]:[3,6];case 5:O=A.sent(),A.label=6;case 6:if(E.status>=400)throw new Yn({url:E.url,status:E.status,data:O});return[2,O]}})})}).catch(function(E){throw new Yn(E)})]}})})},n.prototype.getFileUrl=function(e,t,l){return l===void 0&&(l={}),this.files.getUrl(e,t,l)},n.prototype.buildUrl=function(e){var t,l=this.baseUrl;return typeof window>"u"||!window.location||l.startsWith("https://")||l.startsWith("http://")||(l=!((t=window.location.origin)===null||t===void 0)&&t.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(l+=window.location.pathname||"/",l+=l.endsWith("/")?"":"/"),l+=this.baseUrl),e&&(l+=l.endsWith("/")?"":"/",l+=e.startsWith("/")?e.substring(1):e),l},n.prototype.isFormData=function(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)},n.prototype.serializeQueryParams=function(e){var t=[];for(var l in e)if(e[l]!==null){var i=e[l],s=encodeURIComponent(l);if(Array.isArray(i))for(var r=0,o=i;r<o.length;r++){var a=o[r];t.push(s+"="+encodeURIComponent(a))}else i instanceof Date?t.push(s+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(s+"="+encodeURIComponent(JSON.stringify(i))):t.push(s+"="+encodeURIComponent(i))}return t.join("&")},n}();function yt(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let t=0;t<n.conditions.length;t++)if(!n.conditions[t]||typeof n.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}function Qp(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,l,i,s,r=[],o="",a=n.split("/");for(a[0]||a.shift();i=a.shift();)t=i[0],t==="*"?(r.push("wild"),o+="/(.*)"):t===":"?(l=i.indexOf("?",1),s=i.indexOf(".",1),r.push(i.substring(1,~l?l:~s?s:i.length)),o+=~l&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~l?"?":"")+"\\"+i.substring(s))):o+="/"+i;return{keys:r,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function E1(n){let e,t,l;const i=[n[2]];var s=n[0];function r(o){let a={};for(let u=0;u<i.length;u+=1)a=Ae(a,i[u]);return{props:a}}return s&&(e=gt(s,r()),e.$on("routeEvent",n[7])),{c(){e&&U(e.$$.fragment),t=ke()},m(o,a){e&&H(e,o,a),w(o,t,a),l=!0},p(o,a){const u=a&4?mt(i,[Nt(o[2])]):{};if(a&1&&s!==(s=o[0])){if(e){ue();const f=e;I(f.$$.fragment,1,0,()=>{V(f,1)}),fe()}s?(e=gt(s,r()),e.$on("routeEvent",o[7]),U(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){l||(e&&M(e.$$.fragment,o),l=!0)},o(o){e&&I(e.$$.fragment,o),l=!1},d(o){o&&y(t),e&&V(e,o)}}}function O1(n){let e,t,l;const i=[{params:n[1]},n[2]];var s=n[0];function r(o){let a={};for(let u=0;u<i.length;u+=1)a=Ae(a,i[u]);return{props:a}}return s&&(e=gt(s,r()),e.$on("routeEvent",n[6])),{c(){e&&U(e.$$.fragment),t=ke()},m(o,a){e&&H(e,o,a),w(o,t,a),l=!0},p(o,a){const u=a&6?mt(i,[a&2&&{params:o[1]},a&4&&Nt(o[2])]):{};if(a&1&&s!==(s=o[0])){if(e){ue();const f=e;I(f.$$.fragment,1,0,()=>{V(f,1)}),fe()}s?(e=gt(s,r()),e.$on("routeEvent",o[6]),U(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){l||(e&&M(e.$$.fragment,o),l=!0)},o(o){e&&I(e.$$.fragment,o),l=!1},d(o){o&&y(t),e&&V(e,o)}}}function D1(n){let e,t,l,i;const s=[O1,E1],r=[];function o(a,u){return a[1]?0:1}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(a,u){r[e].m(a,u),w(a,l,u),i=!0},p(a,[u]){let f=e;e=o(a),e===f?r[e].p(a,u):(ue(),I(r[f],1,1,()=>{r[f]=null}),fe(),t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),M(t,1),t.m(l.parentNode,l))},i(a){i||(M(t),i=!0)},o(a){I(t),i=!1},d(a){r[e].d(a),a&&y(l)}}}function to(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let l="";return t>-1&&(l=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:l}}const Ji=Up(null,function(e){e(to());const t=()=>{e(to())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});zp(Ji,n=>n.location);const sr=zp(Ji,n=>n.querystring),no=cn(void 0);async function Gn(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await Kt();const e=(n.charAt(0)=="#"?"":"#")+n;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Zt(n,e){if(e=io(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return lo(n,e),{update(t){t=io(t),lo(n,t)}}}function A1(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function lo(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",l=>{l.preventDefault(),e.disabled||M1(l.currentTarget.getAttribute("href"))})}function io(n){return n&&typeof n=="string"?{href:n}:n||{}}function M1(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function I1(n,e,t){let{routes:l={}}=e,{prefix:i=""}=e,{restoreScrollState:s=!1}=e;class r{constructor(S,E){if(!E||typeof E!="function"&&(typeof E!="object"||E._sveltesparouter!==!0))throw Error("Invalid component object");if(!S||typeof S=="string"&&(S.length<1||S.charAt(0)!="/"&&S.charAt(0)!="*")||typeof S=="object"&&!(S instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:O,keys:A}=Qp(S);this.path=S,typeof E=="object"&&E._sveltesparouter===!0?(this.component=E.component,this.conditions=E.conditions||[],this.userData=E.userData,this.props=E.props||{}):(this.component=()=>Promise.resolve(E),this.conditions=[],this.props={}),this._pattern=O,this._keys=A}match(S){if(i){if(typeof i=="string")if(S.startsWith(i))S=S.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const N=S.match(i);if(N&&N[0])S=S.substr(N[0].length)||"/";else return null}}const E=this._pattern.exec(S);if(E===null)return null;if(this._keys===!1)return E;const O={};let A=0;for(;A<this._keys.length;){try{O[this._keys[A]]=decodeURIComponent(E[A+1]||"")||null}catch{O[this._keys[A]]=null}A++}return O}async checkConditions(S){for(let E=0;E<this.conditions.length;E++)if(!await this.conditions[E](S))return!1;return!0}}const o=[];l instanceof Map?l.forEach((T,S)=>{o.push(new r(S,T))}):Object.keys(l).forEach(T=>{o.push(new r(T,l[T]))});let a=null,u=null,f={};const c=pt();async function d(T,S){await Kt(),c(T,S)}let m=null,v=null;s&&(v=T=>{T.state&&(T.state.__svelte_spa_router_scrollY||T.state.__svelte_spa_router_scrollX)?m=T.state:m=null},window.addEventListener("popstate",v),Rm(()=>{A1(m)}));let _=null,g=null;const k=Ji.subscribe(async T=>{_=T;let S=0;for(;S<o.length;){const E=o[S].match(T.location);if(!E){S++;continue}const O={route:o[S].path,location:T.location,querystring:T.querystring,userData:o[S].userData,params:E&&typeof E=="object"&&Object.keys(E).length?E:null};if(!await o[S].checkConditions(O)){t(0,a=null),g=null,d("conditionsFailed",O);return}d("routeLoading",Object.assign({},O));const A=o[S].component;if(g!=A){A.loading?(t(0,a=A.loading),g=A,t(1,u=A.loadingParams),t(2,f={}),d("routeLoaded",Object.assign({},O,{component:a,name:a.name,params:u}))):(t(0,a=null),g=null);const N=await A();if(T!=_)return;t(0,a=N&&N.default||N),g=A}E&&typeof E=="object"&&Object.keys(E).length?t(1,u=E):t(1,u=null),t(2,f=o[S].props),d("routeLoaded",Object.assign({},O,{component:a,name:a.name,params:u})).then(()=>{no.set(u)});return}t(0,a=null),g=null,no.set(void 0)});Hi(()=>{k(),v&&window.removeEventListener("popstate",v)});function $(T){De.call(this,n,T)}function C(T){De.call(this,n,T)}return n.$$set=T=>{"routes"in T&&t(3,l=T.routes),"prefix"in T&&t(4,i=T.prefix),"restoreScrollState"in T&&t(5,s=T.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=s?"manual":"auto")},[a,u,f,l,i,s,$,C]}class N1 extends ge{constructor(e){super(),be(this,e,I1,D1,_e,{routes:3,prefix:4,restoreScrollState:5})}}const An=cn([]),jn=cn({}),Li=cn(!1),Xp=cn({});function F1(n){An.update(e=>{const t=j.findByKey(e,"id",n);return t?jn.set(t):e.length&&jn.set(e[0]),e})}function L1(n){jn.update(e=>j.isEmpty(e==null?void 0:e.id)||e.id===n.id?n:e),An.update(e=>(j.pushOrReplaceByKey(e,n,"id"),rr(),j.sortCollections(e)))}function q1(n){An.update(e=>(j.removeByKey(e,"id",n.id),jn.update(t=>t.id===n.id?e[0]:t),rr(),e))}async function P1(n=null){Li.set(!0);try{let e=await ce.collections.getFullList(200,{sort:"+name"});e=j.sortCollections(e),An.set(e);const t=n&&j.findByKey(e,"id",n);t?jn.set(t):e.length&&jn.set(e[0]),rr()}catch(e){ce.error(e)}Li.set(!1)}function rr(){Xp.update(n=>(An.update(e=>{var t;for(let l of e)n[l.id]=!!((t=l.schema)!=null&&t.find(i=>{var s;return i.type=="file"&&((s=i.options)==null?void 0:s.protected)}));return e}),n))}const cs="pb_admin_file_token";Yi.prototype.logout=function(n=!0){this.authStore.clear(),n&&Gn("/login")};Yi.prototype.error=function(n,e=!0,t=""){if(!n||!(n instanceof Error)||n.isAbort)return;const l=(n==null?void 0:n.status)<<0||400,i=(n==null?void 0:n.data)||{},s=i.message||n.message||t;if(e&&s&&Ol(s),j.isEmpty(i.data)||jt(i.data),l===401)return this.cancelAllRequests(),this.logout();if(l===403)return this.cancelAllRequests(),Gn("/")};Yi.prototype.getAdminFileToken=async function(n=""){let e=!0;if(n){const l=Cm(Xp);e=typeof l[n]<"u"?l[n]:!0}if(!e)return"";let t=localStorage.getItem(cs)||"";return(!t||Jp(t,10))&&(t&&localStorage.removeItem(cs),this._adminFileTokenRequest||(this._adminFileTokenRequest=this.files.getToken()),t=await this._adminFileTokenRequest,localStorage.setItem(cs,t),this._adminFileTokenRequest=null),t};class R1 extends Zp{save(e,t){super.save(e,t),t instanceof fl&&qs(t)}clear(){super.clear(),qs(null)}}const ce=new Yi("../",new R1("pb_admin_auth"));ce.authStore.model instanceof fl&&qs(ce.authStore.model);const j1=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],H1=(n,e)=>{j1.forEach(t=>{n.on(t,l=>{e(t.toLowerCase(),{eventName:t,event:l,editor:n})})})};function V1(n){let e;return{c(){e=h("textarea"),p(e,"id",n[0]),Im(e,"visibility","hidden")},m(t,l){w(t,e,l),n[18](e)},p(t,l){l&1&&p(e,"id",t[0])},d(t){t&&y(e),n[18](null)}}}function U1(n){let e;return{c(){e=h("div"),p(e,"id",n[0])},m(t,l){w(t,e,l),n[17](e)},p(t,l){l&1&&p(e,"id",t[0])},d(t){t&&y(e),n[17](null)}}}function z1(n){let e;function t(s,r){return s[1]?U1:V1}let l=t(n),i=l(n);return{c(){e=h("div"),i.c(),p(e,"class",n[2])},m(s,r){w(s,e,r),i.m(e,null),n[19](e)},p(s,[r]){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e,null))),r&4&&p(e,"class",s[2])},i:x,o:x,d(s){s&&y(e),i.d(),n[19](null)}}}const xp=n=>n+"_"+Math.floor(Math.random()*1e9)+String(Date.now()),B1=()=>{let n={listeners:[],scriptId:xp("tiny-script"),scriptLoaded:!1,injected:!1};const e=(l,i,s,r)=>{n.injected=!0;const o=i.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.src=s,o.onload=()=>{r()},i.head&&i.head.appendChild(o)};return{load:(l,i,s)=>{n.scriptLoaded?s():(n.listeners.push(s),n.injected||e(n.scriptId,l,i,()=>{n.listeners.forEach(r=>r()),n.scriptLoaded=!0}))}}};let W1=B1();function K1(n,e,t){var l;let{id:i=xp("tinymce-svelte")}=e,{inline:s=void 0}=e,{disabled:r=!1}=e,{apiKey:o="no-api-key"}=e,{channel:a="6"}=e,{scriptSrc:u=void 0}=e,{conf:f={}}=e,{modelEvents:c="change input undo redo"}=e,{value:d=""}=e,{text:m=""}=e,{cssClass:v="tinymce-wrapper"}=e,_,g,k,$=d,C=r;const T=pt(),S=()=>{const L=(()=>typeof window<"u"?window:global)();return L&&L.tinymce?L.tinymce:null},E=()=>{const F=Object.assign(Object.assign({},f),{target:g,inline:s!==void 0?s:f.inline!==void 0?f.inline:!1,readonly:r,setup:L=>{t(14,k=L),L.on("init",()=>{L.setContent(d),L.on(c,()=>{t(15,$=L.getContent()),$!==d&&(t(5,d=$),t(6,m=L.getContent({format:"text"})))})}),H1(L,T),typeof f.setup=="function"&&f.setup(L)}});t(4,g.style.visibility="",g),S().init(F)};Ut(()=>{if(S()!==null)E();else{const F=u||`https://cdn.tiny.cloud/1/${o}/tinymce/${a}/tinymce.min.js`;W1.load(_.ownerDocument,F,()=>{E()})}}),Hi(()=>{var F;k&&((F=S())===null||F===void 0||F.remove(k))});function O(F){le[F?"unshift":"push"](()=>{g=F,t(4,g)})}function A(F){le[F?"unshift":"push"](()=>{g=F,t(4,g)})}function N(F){le[F?"unshift":"push"](()=>{_=F,t(3,_)})}return n.$$set=F=>{"id"in F&&t(0,i=F.id),"inline"in F&&t(1,s=F.inline),"disabled"in F&&t(7,r=F.disabled),"apiKey"in F&&t(8,o=F.apiKey),"channel"in F&&t(9,a=F.channel),"scriptSrc"in F&&t(10,u=F.scriptSrc),"conf"in F&&t(11,f=F.conf),"modelEvents"in F&&t(12,c=F.modelEvents),"value"in F&&t(5,d=F.value),"text"in F&&t(6,m=F.text),"cssClass"in F&&t(2,v=F.cssClass)},n.$$.update=()=>{n.$$.dirty&123040&&(k&&$!==d&&(k.setContent(d),t(6,m=k.getContent({format:"text"}))),k&&r!==C&&(t(16,C=r),typeof(t(13,l=k.mode)===null||l===void 0?void 0:l.set)=="function"?k.mode.set(r?"readonly":"design"):k.setMode(r?"readonly":"design")))},[i,s,v,_,g,d,m,r,o,a,u,f,c,l,k,$,C,O,A,N]}class or extends ge{constructor(e){super(),be(this,e,K1,z1,_e,{id:0,inline:1,disabled:7,apiKey:8,channel:9,scriptSrc:10,conf:11,modelEvents:12,value:5,text:6,cssClass:2})}}const Ti=[];let em;function tm(n){const e=n.pattern.test(em);so(n,n.className,e),so(n,n.inactiveClassName,!e)}function so(n,e,t){(e||"").split(" ").forEach(l=>{l&&(n.node.classList.remove(l),t&&n.node.classList.add(l))})}Ji.subscribe(n=>{em=n.location+(n.querystring?"?"+n.querystring:""),Ti.map(tm)});function yn(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?Qp(e.path):{pattern:e.path},l={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return Ti.push(l),tm(l),{destroy(){Ti.splice(Ti.indexOf(l),1)}}}const Y1="modulepreload",J1=function(n,e){return new URL(n,e).href},ro={},Xe=function(e,t,l){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=J1(s,l),s in ro)return;ro[s]=!0;const r=s.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(!!l)for(let f=i.length-1;f>=0;f--){const c=i[f];if(c.href===s&&(!r||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const u=document.createElement("link");if(u.rel=r?"stylesheet":Y1,r||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),r)return new Promise((f,c)=>{u.addEventListener("load",f),u.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s})};function Z1(n){let e,t,l,i,s,r,o,a,u,f,c,d;const m=n[3].default,v=ut(m,n,n[2],null);return{c(){e=h("div"),t=h("main"),v&&v.c(),l=D(),i=h("footer"),s=h("a"),s.innerHTML=`<i class="ri-book-open-line txt-sm"></i> 
            <span class="txt">Docs</span>`,r=D(),o=h("span"),o.textContent="|",a=D(),u=h("a"),f=h("span"),f.textContent="PostgresBase v0.17.4",p(t,"class","page-content"),p(s,"href","https://pocketbase.io/docs/"),p(s,"target","_blank"),p(s,"rel","noopener noreferrer"),p(o,"class","delimiter"),p(f,"class","txt"),p(u,"href","https://github.com/pocketbase/pocketbase/releases"),p(u,"target","_blank"),p(u,"rel","noopener noreferrer"),p(u,"title","Releases"),p(i,"class","page-footer"),p(e,"class",c="page-wrapper "+n[1]),X(e,"center-content",n[0])},m(_,g){w(_,e,g),b(e,t),v&&v.m(t,null),b(e,l),b(e,i),b(i,s),b(i,r),b(i,o),b(i,a),b(i,u),b(u,f),d=!0},p(_,[g]){v&&v.p&&(!d||g&4)&&ct(v,m,_,_[2],d?ft(m,_[2],g,null):dt(_[2]),null),(!d||g&2&&c!==(c="page-wrapper "+_[1]))&&p(e,"class",c),(!d||g&3)&&X(e,"center-content",_[0])},i(_){d||(M(v,_),d=!0)},o(_){I(v,_),d=!1},d(_){_&&y(e),v&&v.d(_)}}}function G1(n,e,t){let{$$slots:l={},$$scope:i}=e,{center:s=!1}=e,{class:r=""}=e;return n.$$set=o=>{"center"in o&&t(0,s=o.center),"class"in o&&t(1,r=o.class),"$$scope"in o&&t(2,i=o.$$scope)},[s,r,i,l]}class dn extends ge{constructor(e){super(),be(this,e,G1,Z1,_e,{center:0,class:1})}}function oo(n){let e,t,l;return{c(){e=h("div"),e.innerHTML=`<figure class="logo"><img src="./images/logo.png" alt="PostgresBase logo" width="40" height="40"/> 
                    <span class="txt">Postgres<strong>Base</strong></span></figure>`,t=D(),l=h("div"),p(e,"class","block txt-center m-b-lg"),p(l,"class","clearfix")},m(i,s){w(i,e,s),w(i,t,s),w(i,l,s)},d(i){i&&y(e),i&&y(t),i&&y(l)}}}function Q1(n){let e,t,l,i=!n[0]&&oo();const s=n[1].default,r=ut(s,n,n[2],null);return{c(){e=h("div"),i&&i.c(),t=D(),r&&r.c(),p(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(o,a){w(o,e,a),i&&i.m(e,null),b(e,t),r&&r.m(e,null),l=!0},p(o,a){o[0]?i&&(i.d(1),i=null):i||(i=oo(),i.c(),i.m(e,t)),r&&r.p&&(!l||a&4)&&ct(r,s,o,o[2],l?ft(s,o[2],a,null):dt(o[2]),null)},i(o){l||(M(r,o),l=!0)},o(o){I(r,o),l=!1},d(o){o&&y(e),i&&i.d(),r&&r.d(o)}}}function X1(n){let e,t;return e=new dn({props:{class:"full-page",center:!0,$$slots:{default:[Q1]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&5&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function x1(n,e,t){let{$$slots:l={},$$scope:i}=e,{nobranding:s=!1}=e;return n.$$set=r=>{"nobranding"in r&&t(0,s=r.nobranding),"$$scope"in r&&t(2,i=r.$$scope)},[s,l,i]}class nm extends ge{constructor(e){super(),be(this,e,x1,X1,_e,{nobranding:0})}}function ao(n,e,t){const l=n.slice();return l[12]=e[t],l}const e0=n=>({}),uo=n=>({uniqueId:n[4]});function t0(n){let e,t,l=n[3],i=[];for(let r=0;r<l.length;r+=1)i[r]=fo(ao(n,l,r));const s=r=>I(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ke()},m(r,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,o);w(r,e,o),t=!0},p(r,o){if(o&8){l=r[3];let a;for(a=0;a<l.length;a+=1){const u=ao(r,l,a);i[a]?(i[a].p(u,o),M(i[a],1)):(i[a]=fo(u),i[a].c(),M(i[a],1),i[a].m(e.parentNode,e))}for(ue(),a=l.length;a<i.length;a+=1)s(a);fe()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)M(i[o]);t=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)I(i[o]);t=!1},d(r){it(i,r),r&&y(e)}}}function n0(n){let e,t,l,i,s,r,o;return{c(){e=h("div"),t=h("i"),p(t,"class","ri-error-warning-fill txt-danger"),p(e,"class","form-field-addon")},m(a,u){w(a,e,u),b(e,t),s=!0,r||(o=$e(l=Pe.call(null,t,{position:"left",text:n[3].map(qi).join(`
`)})),r=!0)},p(a,u){l&&kt(l.update)&&u&8&&l.update.call(null,{position:"left",text:a[3].map(qi).join(`
`)})},i(a){s||(a&&Be(()=>{s&&(i||(i=Fe(t,Ht,{duration:150,start:.7},!0)),i.run(1))}),s=!0)},o(a){a&&(i||(i=Fe(t,Ht,{duration:150,start:.7},!1)),i.run(0)),s=!1},d(a){a&&y(e),a&&i&&i.end(),r=!1,o()}}}function fo(n){let e,t,l=qi(n[12])+"",i,s,r,o;return{c(){e=h("div"),t=h("pre"),i=B(l),s=D(),p(e,"class","help-block help-block-error")},m(a,u){w(a,e,u),b(e,t),b(t,i),b(e,s),o=!0},p(a,u){(!o||u&8)&&l!==(l=qi(a[12])+"")&&oe(i,l)},i(a){o||(a&&Be(()=>{o&&(r||(r=Fe(e,Ge,{duration:150},!0)),r.run(1))}),o=!0)},o(a){a&&(r||(r=Fe(e,Ge,{duration:150},!1)),r.run(0)),o=!1},d(a){a&&y(e),a&&r&&r.end()}}}function l0(n){let e,t,l,i,s,r,o;const a=n[9].default,u=ut(a,n,n[8],uo),f=[n0,t0],c=[];function d(m,v){return m[0]&&m[3].length?0:1}return l=d(n),i=c[l]=f[l](n),{c(){e=h("div"),u&&u.c(),t=D(),i.c(),p(e,"class",n[1]),X(e,"error",n[3].length)},m(m,v){w(m,e,v),u&&u.m(e,null),b(e,t),c[l].m(e,null),n[11](e),s=!0,r||(o=Y(e,"click",n[10]),r=!0)},p(m,[v]){u&&u.p&&(!s||v&256)&&ct(u,a,m,m[8],s?ft(a,m[8],v,e0):dt(m[8]),uo);let _=l;l=d(m),l===_?c[l].p(m,v):(ue(),I(c[_],1,1,()=>{c[_]=null}),fe(),i=c[l],i?i.p(m,v):(i=c[l]=f[l](m),i.c()),M(i,1),i.m(e,null)),(!s||v&2)&&p(e,"class",m[1]),(!s||v&10)&&X(e,"error",m[3].length)},i(m){s||(M(u,m),M(i),s=!0)},o(m){I(u,m),I(i),s=!1},d(m){m&&y(e),u&&u.d(m),c[l].d(),n[11](null),r=!1,o()}}}const co="Invalid value";function qi(n){return typeof n=="object"?(n==null?void 0:n.message)||(n==null?void 0:n.code)||co:n||co}function i0(n,e,t){let l;Ve(n,Hn,_=>t(7,l=_));let{$$slots:i={},$$scope:s}=e;const r="field_"+j.randomString(7);let{name:o=""}=e,{inlineError:a=!1}=e,{class:u=void 0}=e,f,c=[];function d(){Dn(o)}Ut(()=>(f.addEventListener("input",d),f.addEventListener("change",d),()=>{f.removeEventListener("input",d),f.removeEventListener("change",d)}));function m(_){De.call(this,n,_)}function v(_){le[_?"unshift":"push"](()=>{f=_,t(2,f)})}return n.$$set=_=>{"name"in _&&t(5,o=_.name),"inlineError"in _&&t(0,a=_.inlineError),"class"in _&&t(1,u=_.class),"$$scope"in _&&t(8,s=_.$$scope)},n.$$.update=()=>{n.$$.dirty&160&&t(3,c=j.toArray(j.getNestedVal(l,o)))},[a,u,f,c,r,o,d,l,s,i,m,v]}class de extends ge{constructor(e){super(),be(this,e,i0,l0,_e,{name:5,inlineError:0,class:1,changed:6})}get changed(){return this.$$.ctx[6]}}function s0(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("邮箱"),i=D(),s=h("input"),p(e,"for",l=n[9]),p(s,"type","email"),p(s,"autocomplete","off"),p(s,"id",r=n[9]),s.required=!0,s.autofocus=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0]),s.focus(),o||(a=Y(s,"input",n[5]),o=!0)},p(u,f){f&512&&l!==(l=u[9])&&p(e,"for",l),f&512&&r!==(r=u[9])&&p(s,"id",r),f&1&&s.value!==u[0]&&re(s,u[0])},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function r0(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=B("Password"),i=D(),s=h("input"),o=D(),a=h("div"),a.textContent="最小五个字符",p(e,"for",l=n[9]),p(s,"type","password"),p(s,"autocomplete","new-password"),p(s,"minlength","5"),p(s,"id",r=n[9]),s.required=!0,p(a,"class","help-block")},m(c,d){w(c,e,d),b(e,t),w(c,i,d),w(c,s,d),re(s,n[1]),w(c,o,d),w(c,a,d),u||(f=Y(s,"input",n[6]),u=!0)},p(c,d){d&512&&l!==(l=c[9])&&p(e,"for",l),d&512&&r!==(r=c[9])&&p(s,"id",r),d&2&&s.value!==c[1]&&re(s,c[1])},d(c){c&&y(e),c&&y(i),c&&y(s),c&&y(o),c&&y(a),u=!1,f()}}}function o0(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("重新验证密码"),i=D(),s=h("input"),p(e,"for",l=n[9]),p(s,"type","password"),p(s,"minlength","5"),p(s,"id",r=n[9]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[2]),o||(a=Y(s,"input",n[7]),o=!0)},p(u,f){f&512&&l!==(l=u[9])&&p(e,"for",l),f&512&&r!==(r=u[9])&&p(s,"id",r),f&4&&s.value!==u[2]&&re(s,u[2])},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function a0(n){let e,t,l,i,s,r,o,a,u,f,c,d,m;return i=new de({props:{class:"form-field required",name:"email",$$slots:{default:[s0,({uniqueId:v})=>({9:v}),({uniqueId:v})=>v?512:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field required",name:"password",$$slots:{default:[r0,({uniqueId:v})=>({9:v}),({uniqueId:v})=>v?512:0]},$$scope:{ctx:n}}}),a=new de({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[o0,({uniqueId:v})=>({9:v}),({uniqueId:v})=>v?512:0]},$$scope:{ctx:n}}}),{c(){e=h("form"),t=h("div"),t.innerHTML="<h4>创建第一个管理员账号</h4>",l=D(),U(i.$$.fragment),s=D(),U(r.$$.fragment),o=D(),U(a.$$.fragment),u=D(),f=h("button"),f.innerHTML=`<span class="txt">创建并登录</span> 
        <i class="ri-arrow-right-line"></i>`,p(t,"class","content txt-center m-b-base"),p(f,"type","submit"),p(f,"class","btn btn-lg btn-block btn-next"),X(f,"btn-disabled",n[3]),X(f,"btn-loading",n[3]),p(e,"class","block"),p(e,"autocomplete","off")},m(v,_){w(v,e,_),b(e,t),b(e,l),H(i,e,null),b(e,s),H(r,e,null),b(e,o),H(a,e,null),b(e,u),b(e,f),c=!0,d||(m=Y(e,"submit",Ke(n[4])),d=!0)},p(v,[_]){const g={};_&1537&&(g.$$scope={dirty:_,ctx:v}),i.$set(g);const k={};_&1538&&(k.$$scope={dirty:_,ctx:v}),r.$set(k);const $={};_&1540&&($.$$scope={dirty:_,ctx:v}),a.$set($),(!c||_&8)&&X(f,"btn-disabled",v[3]),(!c||_&8)&&X(f,"btn-loading",v[3])},i(v){c||(M(i.$$.fragment,v),M(r.$$.fragment,v),M(a.$$.fragment,v),c=!0)},o(v){I(i.$$.fragment,v),I(r.$$.fragment,v),I(a.$$.fragment,v),c=!1},d(v){v&&y(e),V(i),V(r),V(a),d=!1,m()}}}function u0(n,e,t){const l=pt();let i="",s="",r="",o=!1;async function a(){if(!o){t(3,o=!0);try{await ce.admins.create({email:i,password:s,passwordConfirm:r}),await ce.admins.authWithPassword(i,s),l("submit")}catch(d){ce.error(d)}t(3,o=!1)}}function u(){i=this.value,t(0,i)}function f(){s=this.value,t(1,s)}function c(){r=this.value,t(2,r)}return[i,s,r,o,a,u,f,c]}class f0 extends ge{constructor(e){super(),be(this,e,u0,a0,_e,{})}}function po(n){let e,t;return e=new nm({props:{$$slots:{default:[c0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&9&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function c0(n){let e,t;return e=new f0({}),e.$on("submit",n[1]),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p:x,i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function d0(n){let e,t,l=n[0]&&po(n);return{c(){l&&l.c(),e=ke()},m(i,s){l&&l.m(i,s),w(i,e,s),t=!0},p(i,[s]){i[0]?l?(l.p(i,s),s&1&&M(l,1)):(l=po(i),l.c(),M(l,1),l.m(e.parentNode,e)):l&&(ue(),I(l,1,1,()=>{l=null}),fe())},i(i){t||(M(l),t=!0)},o(i){I(l),t=!1},d(i){l&&l.d(i),i&&y(e)}}}function p0(n,e,t){let l=!1;i();function i(){if(t(0,l=!1),new URLSearchParams(window.location.search).has("installer")){ce.logout(!1),t(0,l=!0);return}ce.authStore.isValid?Gn("/collections"):ce.logout()}return[l,async()=>{t(0,l=!1),await Kt(),window.location.search=""}]}class m0 extends ge{constructor(e){super(),be(this,e,p0,d0,_e,{})}}function _0(n){let e,t,l,i;return{c(){e=h("input"),p(e,"type","text"),p(e,"id",n[8]),p(e,"placeholder",t=n[0]||n[1])},m(s,r){w(s,e,r),n[13](e),re(e,n[7]),l||(i=Y(e,"input",n[14]),l=!0)},p(s,r){r&3&&t!==(t=s[0]||s[1])&&p(e,"placeholder",t),r&128&&e.value!==s[7]&&re(e,s[7])},i:x,o:x,d(s){s&&y(e),n[13](null),l=!1,i()}}}function h0(n){let e,t,l,i;function s(a){n[12](a)}var r=n[4];function o(a){let u={id:a[8],singleLine:!0,disableRequestKeys:!0,disableIndirectCollectionsKeys:!0,extraAutocompleteKeys:a[3],baseCollection:a[2],placeholder:a[0]||a[1]};return a[7]!==void 0&&(u.value=a[7]),{props:u}}return r&&(e=gt(r,o(n)),le.push(()=>me(e,"value",s)),e.$on("submit",n[10])),{c(){e&&U(e.$$.fragment),l=ke()},m(a,u){e&&H(e,a,u),w(a,l,u),i=!0},p(a,u){const f={};if(u&8&&(f.extraAutocompleteKeys=a[3]),u&4&&(f.baseCollection=a[2]),u&3&&(f.placeholder=a[0]||a[1]),!t&&u&128&&(t=!0,f.value=a[7],he(()=>t=!1)),u&16&&r!==(r=a[4])){if(e){ue();const c=e;I(c.$$.fragment,1,0,()=>{V(c,1)}),fe()}r?(e=gt(r,o(a)),le.push(()=>me(e,"value",s)),e.$on("submit",a[10]),U(e.$$.fragment),M(e.$$.fragment,1),H(e,l.parentNode,l)):e=null}else r&&e.$set(f)},i(a){i||(e&&M(e.$$.fragment,a),i=!0)},o(a){e&&I(e.$$.fragment,a),i=!1},d(a){a&&y(l),e&&V(e,a)}}}function mo(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<span class="txt">Search</span>',p(e,"type","submit"),p(e,"class","btn btn-expanded btn-sm btn-warning")},m(i,s){w(i,e,s),l=!0},i(i){l||(i&&Be(()=>{l&&(t||(t=Fe(e,On,{duration:150,x:5},!0)),t.run(1))}),l=!0)},o(i){i&&(t||(t=Fe(e,On,{duration:150,x:5},!1)),t.run(0)),l=!1},d(i){i&&y(e),i&&t&&t.end()}}}function _o(n){let e,t,l,i,s;return{c(){e=h("button"),e.innerHTML='<span class="txt">Clear</span>',p(e,"type","button"),p(e,"class","btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10")},m(r,o){w(r,e,o),l=!0,i||(s=Y(e,"click",n[15]),i=!0)},p:x,i(r){l||(r&&Be(()=>{l&&(t||(t=Fe(e,On,{duration:150,x:5},!0)),t.run(1))}),l=!0)},o(r){r&&(t||(t=Fe(e,On,{duration:150,x:5},!1)),t.run(0)),l=!1},d(r){r&&y(e),r&&t&&t.end(),i=!1,s()}}}function b0(n){let e,t,l,i,s,r,o,a,u,f,c;const d=[h0,_0],m=[];function v(k,$){return k[4]&&!k[5]?0:1}s=v(n),r=m[s]=d[s](n);let _=(n[0].length||n[7].length)&&n[7]!=n[0]&&mo(),g=(n[0].length||n[7].length)&&_o(n);return{c(){e=h("form"),t=h("label"),l=h("i"),i=D(),r.c(),o=D(),_&&_.c(),a=D(),g&&g.c(),p(l,"class","ri-search-line"),p(t,"for",n[8]),p(t,"class","m-l-10 txt-xl"),p(e,"class","searchbar")},m(k,$){w(k,e,$),b(e,t),b(t,l),b(e,i),m[s].m(e,null),b(e,o),_&&_.m(e,null),b(e,a),g&&g.m(e,null),u=!0,f||(c=[Y(e,"click",fn(n[11])),Y(e,"submit",Ke(n[10]))],f=!0)},p(k,[$]){let C=s;s=v(k),s===C?m[s].p(k,$):(ue(),I(m[C],1,1,()=>{m[C]=null}),fe(),r=m[s],r?r.p(k,$):(r=m[s]=d[s](k),r.c()),M(r,1),r.m(e,o)),(k[0].length||k[7].length)&&k[7]!=k[0]?_?$&129&&M(_,1):(_=mo(),_.c(),M(_,1),_.m(e,a)):_&&(ue(),I(_,1,1,()=>{_=null}),fe()),k[0].length||k[7].length?g?(g.p(k,$),$&129&&M(g,1)):(g=_o(k),g.c(),M(g,1),g.m(e,null)):g&&(ue(),I(g,1,1,()=>{g=null}),fe())},i(k){u||(M(r),M(_),M(g),u=!0)},o(k){I(r),I(_),I(g),u=!1},d(k){k&&y(e),m[s].d(),_&&_.d(),g&&g.d(),f=!1,Te(c)}}}function g0(n,e,t){const l=pt(),i="search_"+j.randomString(7);let{value:s=""}=e,{placeholder:r='Search term or filter like created > "2022-01-01"...'}=e,{autocompleteCollection:o=new ln}=e,{extraAutocompleteKeys:a=[]}=e,u,f=!1,c,d="";function m(S=!0){t(7,d=""),S&&(c==null||c.focus()),l("clear")}function v(){t(0,s=d),l("submit",s)}async function _(){u||f||(t(5,f=!0),t(4,u=(await Xe(()=>import("./FilterAutocompleteInput-b9d5937e.js"),["./FilterAutocompleteInput-b9d5937e.js","./index-fd4289fb.js"],import.meta.url)).default),t(5,f=!1))}Ut(()=>{_()});function g(S){De.call(this,n,S)}function k(S){d=S,t(7,d),t(0,s)}function $(S){le[S?"unshift":"push"](()=>{c=S,t(6,c)})}function C(){d=this.value,t(7,d),t(0,s)}const T=()=>{m(!1),v()};return n.$$set=S=>{"value"in S&&t(0,s=S.value),"placeholder"in S&&t(1,r=S.placeholder),"autocompleteCollection"in S&&t(2,o=S.autocompleteCollection),"extraAutocompleteKeys"in S&&t(3,a=S.extraAutocompleteKeys)},n.$$.update=()=>{n.$$.dirty&1&&typeof s=="string"&&t(7,d=s)},[s,r,o,a,u,f,c,d,i,m,v,g,k,$,C,T]}class ar extends ge{constructor(e){super(),be(this,e,g0,b0,_e,{value:0,placeholder:1,autocompleteCollection:2,extraAutocompleteKeys:3})}}function v0(n){let e,t,l,i,s,r;return{c(){e=h("button"),t=h("i"),p(t,"class","ri-refresh-line svelte-1bvelc2"),p(e,"type","button"),p(e,"aria-label","Refresh"),p(e,"class",l="btn btn-transparent btn-circle "+n[1]+" svelte-1bvelc2"),X(e,"refreshing",n[2])},m(o,a){w(o,e,a),b(e,t),s||(r=[$e(i=Pe.call(null,e,n[0])),Y(e,"click",n[3])],s=!0)},p(o,[a]){a&2&&l!==(l="btn btn-transparent btn-circle "+o[1]+" svelte-1bvelc2")&&p(e,"class",l),i&&kt(i.update)&&a&1&&i.update.call(null,o[0]),a&6&&X(e,"refreshing",o[2])},i:x,o:x,d(o){o&&y(e),s=!1,Te(r)}}}function k0(n,e,t){const l=pt();let{tooltip:i={text:"Refresh",position:"right"}}=e,{class:s=""}=e,r=null;function o(){l("refresh");const a=i;t(0,i=null),clearTimeout(r),t(2,r=setTimeout(()=>{t(2,r=null),t(0,i=a)},150))}return Ut(()=>()=>clearTimeout(r)),n.$$set=a=>{"tooltip"in a&&t(0,i=a.tooltip),"class"in a&&t(1,s=a.class)},[i,s,r,o]}class ur extends ge{constructor(e){super(),be(this,e,k0,v0,_e,{tooltip:0,class:1})}}function y0(n){let e,t,l,i,s=[{type:t=n[5].type||"text"},{value:n[4]},{disabled:n[3]},{readOnly:n[2]},n[5]],r={};for(let o=0;o<s.length;o+=1)r=Ae(r,s[o]);return{c(){e=h("input"),En(e,r)},m(o,a){w(o,e,a),"value"in r&&(e.value=r.value),e.autofocus&&e.focus(),l||(i=Y(e,"input",n[6]),l=!0)},p(o,[a]){En(e,r=mt(s,[a&32&&t!==(t=o[5].type||"text")&&{type:t},a&16&&e.value!==o[4]&&{value:o[4]},a&8&&{disabled:o[3]},a&4&&{readOnly:o[2]},a&32&&o[5]])),"value"in r&&(e.value=r.value)},i:x,o:x,d(o){o&&y(e),l=!1,i()}}}function w0(n,e,t){let l;const i=["value","separator","readonly","disabled"];let s=ze(e,i),{value:r=[]}=e,{separator:o=","}=e,{readonly:a=null}=e,{disabled:u=null}=e;const f=c=>{t(0,r=j.splitNonEmpty(c.target.value,o))};return n.$$set=c=>{e=Ae(Ae({},e),It(c)),t(5,s=ze(e,i)),"value"in c&&t(0,r=c.value),"separator"in c&&t(1,o=c.separator),"readonly"in c&&t(2,a=c.readonly),"disabled"in c&&t(3,u=c.disabled)},n.$$.update=()=>{n.$$.dirty&1&&t(4,l=(r||[]).join(", "))},[r,o,a,u,l,s,f]}class Ll extends ge{constructor(e){super(),be(this,e,w0,y0,_e,{value:0,separator:1,readonly:2,disabled:3})}}const $0=n=>({active:n&1}),ho=n=>({active:n[0]});function bo(n){let e,t,l;const i=n[15].default,s=ut(i,n,n[14],null);return{c(){e=h("div"),s&&s.c(),p(e,"class","accordion-content")},m(r,o){w(r,e,o),s&&s.m(e,null),l=!0},p(r,o){s&&s.p&&(!l||o&16384)&&ct(s,i,r,r[14],l?ft(i,r[14],o,null):dt(r[14]),null)},i(r){l||(M(s,r),r&&Be(()=>{l&&(t||(t=Fe(e,Ge,{duration:150},!0)),t.run(1))}),l=!0)},o(r){I(s,r),r&&(t||(t=Fe(e,Ge,{duration:150},!1)),t.run(0)),l=!1},d(r){r&&y(e),s&&s.d(r),r&&t&&t.end()}}}function T0(n){let e,t,l,i,s,r,o;const a=n[15].header,u=ut(a,n,n[14],ho);let f=n[0]&&bo(n);return{c(){e=h("div"),t=h("button"),u&&u.c(),l=D(),f&&f.c(),p(t,"type","button"),p(t,"class","accordion-header"),p(t,"draggable",n[2]),X(t,"interactive",n[3]),p(e,"class",i="accordion "+(n[7]?"drag-over":"")+" "+n[1]),X(e,"active",n[0])},m(c,d){w(c,e,d),b(e,t),u&&u.m(t,null),b(e,l),f&&f.m(e,null),n[22](e),s=!0,r||(o=[Y(t,"click",Ke(n[17])),Y(t,"drop",Ke(n[18])),Y(t,"dragstart",n[19]),Y(t,"dragenter",n[20]),Y(t,"dragleave",n[21]),Y(t,"dragover",Ke(n[16]))],r=!0)},p(c,[d]){u&&u.p&&(!s||d&16385)&&ct(u,a,c,c[14],s?ft(a,c[14],d,$0):dt(c[14]),ho),(!s||d&4)&&p(t,"draggable",c[2]),(!s||d&8)&&X(t,"interactive",c[3]),c[0]?f?(f.p(c,d),d&1&&M(f,1)):(f=bo(c),f.c(),M(f,1),f.m(e,null)):f&&(ue(),I(f,1,1,()=>{f=null}),fe()),(!s||d&130&&i!==(i="accordion "+(c[7]?"drag-over":"")+" "+c[1]))&&p(e,"class",i),(!s||d&131)&&X(e,"active",c[0])},i(c){s||(M(u,c),M(f),s=!0)},o(c){I(u,c),I(f),s=!1},d(c){c&&y(e),u&&u.d(c),f&&f.d(),n[22](null),r=!1,Te(o)}}}function S0(n,e,t){let{$$slots:l={},$$scope:i}=e;const s=pt();let r,o,{class:a=""}=e,{draggable:u=!1}=e,{active:f=!1}=e,{interactive:c=!0}=e,{single:d=!1}=e,m=!1;function v(){return!!f}function _(){$(),t(0,f=!0),s("expand")}function g(){t(0,f=!1),clearTimeout(o),s("collapse")}function k(){s("toggle"),f?g():_()}function $(){if(d&&r.closest(".accordions")){const F=r.closest(".accordions").querySelectorAll(".accordion.active .accordion-header.interactive");for(const L of F)L.click()}}Ut(()=>()=>clearTimeout(o));function C(F){De.call(this,n,F)}const T=()=>c&&k(),S=F=>{u&&(t(7,m=!1),$(),s("drop",F))},E=F=>u&&s("dragstart",F),O=F=>{u&&(t(7,m=!0),s("dragenter",F))},A=F=>{u&&(t(7,m=!1),s("dragleave",F))};function N(F){le[F?"unshift":"push"](()=>{r=F,t(6,r)})}return n.$$set=F=>{"class"in F&&t(1,a=F.class),"draggable"in F&&t(2,u=F.draggable),"active"in F&&t(0,f=F.active),"interactive"in F&&t(3,c=F.interactive),"single"in F&&t(9,d=F.single),"$$scope"in F&&t(14,i=F.$$scope)},n.$$.update=()=>{n.$$.dirty&8257&&f&&(clearTimeout(o),t(13,o=setTimeout(()=>{r!=null&&r.scrollIntoViewIfNeeded?r.scrollIntoViewIfNeeded():r!=null&&r.scrollIntoView&&r.scrollIntoView({behavior:"smooth",block:"nearest"})},200)))},[f,a,u,c,k,$,r,m,s,d,v,_,g,o,i,l,C,T,S,E,O,A,N]}class Si extends ge{constructor(e){super(),be(this,e,S0,T0,_e,{class:1,draggable:2,active:0,interactive:3,single:9,isExpanded:10,expand:11,collapse:12,toggle:4,collapseSiblings:5})}get isExpanded(){return this.$$.ctx[10]}get expand(){return this.$$.ctx[11]}get collapse(){return this.$$.ctx[12]}get toggle(){return this.$$.ctx[4]}get collapseSiblings(){return this.$$.ctx[5]}}function C0(n){let e,t,l,i,s,r,o,a;return{c(){e=h("input"),l=D(),i=h("label"),s=B("Enable"),p(e,"type","checkbox"),p(e,"id",t=n[12]),p(i,"for",r=n[12])},m(u,f){w(u,e,f),e.checked=n[0].options.allowUsernameAuth,w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"change",n[5]),o=!0)},p(u,f){f&4096&&t!==(t=u[12])&&p(e,"id",t),f&1&&(e.checked=u[0].options.allowUsernameAuth),f&4096&&r!==(r=u[12])&&p(i,"for",r)},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function E0(n){let e,t;return e=new de({props:{class:"form-field form-field-toggle m-b-0",name:"options.allowUsernameAuth",$$slots:{default:[C0,({uniqueId:l})=>({12:l}),({uniqueId:l})=>l?4096:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&12289&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function O0(n){let e;return{c(){e=h("span"),e.textContent="Disabled",p(e,"class","label")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function D0(n){let e;return{c(){e=h("span"),e.textContent="Enabled",p(e,"class","label label-success")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function go(n){let e,t,l,i,s;return{c(){e=h("i"),p(e,"class","ri-error-warning-fill txt-danger")},m(r,o){w(r,e,o),l=!0,i||(s=$e(Pe.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(r){l||(r&&Be(()=>{l&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!0)),t.run(1))}),l=!0)},o(r){r&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!1)),t.run(0)),l=!1},d(r){r&&y(e),r&&t&&t.end(),i=!1,s()}}}function A0(n){let e,t,l,i,s,r;function o(c,d){return c[0].options.allowUsernameAuth?D0:O0}let a=o(n),u=a(n),f=n[3]&&go();return{c(){e=h("div"),e.innerHTML=`<i class="ri-user-star-line"></i> 
                <span class="txt">Username/Password</span>`,t=D(),l=h("div"),i=D(),u.c(),s=D(),f&&f.c(),r=ke(),p(e,"class","inline-flex"),p(l,"class","flex-fill")},m(c,d){w(c,e,d),w(c,t,d),w(c,l,d),w(c,i,d),u.m(c,d),w(c,s,d),f&&f.m(c,d),w(c,r,d)},p(c,d){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(s.parentNode,s))),c[3]?f?d&8&&M(f,1):(f=go(),f.c(),M(f,1),f.m(r.parentNode,r)):f&&(ue(),I(f,1,1,()=>{f=null}),fe())},d(c){c&&y(e),c&&y(t),c&&y(l),c&&y(i),u.d(c),c&&y(s),f&&f.d(c),c&&y(r)}}}function M0(n){let e,t,l,i,s,r,o,a;return{c(){e=h("input"),l=D(),i=h("label"),s=B("Enable"),p(e,"type","checkbox"),p(e,"id",t=n[12]),p(i,"for",r=n[12])},m(u,f){w(u,e,f),e.checked=n[0].options.allowEmailAuth,w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"change",n[6]),o=!0)},p(u,f){f&4096&&t!==(t=u[12])&&p(e,"id",t),f&1&&(e.checked=u[0].options.allowEmailAuth),f&4096&&r!==(r=u[12])&&p(i,"for",r)},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function vo(n){let e,t,l,i,s,r,o,a;return l=new de({props:{class:"form-field "+(j.isEmpty(n[0].options.onlyEmailDomains)?"":"disabled"),name:"options.exceptEmailDomains",$$slots:{default:[I0,({uniqueId:u})=>({12:u}),({uniqueId:u})=>u?4096:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field "+(j.isEmpty(n[0].options.exceptEmailDomains)?"":"disabled"),name:"options.onlyEmailDomains",$$slots:{default:[N0,({uniqueId:u})=>({12:u}),({uniqueId:u})=>u?4096:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),p(t,"class","col-lg-6"),p(s,"class","col-lg-6"),p(e,"class","grid grid-sm p-t-sm")},m(u,f){w(u,e,f),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),a=!0},p(u,f){const c={};f&1&&(c.class="form-field "+(j.isEmpty(u[0].options.onlyEmailDomains)?"":"disabled")),f&12289&&(c.$$scope={dirty:f,ctx:u}),l.$set(c);const d={};f&1&&(d.class="form-field "+(j.isEmpty(u[0].options.exceptEmailDomains)?"":"disabled")),f&12289&&(d.$$scope={dirty:f,ctx:u}),r.$set(d)},i(u){a||(M(l.$$.fragment,u),M(r.$$.fragment,u),u&&Be(()=>{a&&(o||(o=Fe(e,Ge,{duration:150},!0)),o.run(1))}),a=!0)},o(u){I(l.$$.fragment,u),I(r.$$.fragment,u),u&&(o||(o=Fe(e,Ge,{duration:150},!1)),o.run(0)),a=!1},d(u){u&&y(e),V(l),V(r),u&&o&&o.end()}}}function I0(n){let e,t,l,i,s,r,o,a,u,f,c,d,m;function v(g){n[7](g)}let _={id:n[12],disabled:!j.isEmpty(n[0].options.onlyEmailDomains)};return n[0].options.exceptEmailDomains!==void 0&&(_.value=n[0].options.exceptEmailDomains),o=new Ll({props:_}),le.push(()=>me(o,"value",v)),{c(){e=h("label"),t=h("span"),t.textContent="Except domains",l=D(),i=h("i"),r=D(),U(o.$$.fragment),u=D(),f=h("div"),f.textContent="Use comma as separator.",p(t,"class","txt"),p(i,"class","ri-information-line link-hint"),p(e,"for",s=n[12]),p(f,"class","help-block")},m(g,k){w(g,e,k),b(e,t),b(e,l),b(e,i),w(g,r,k),H(o,g,k),w(g,u,k),w(g,f,k),c=!0,d||(m=$e(Pe.call(null,i,{text:`Email domains that are NOT allowed to sign up. 
 This field is disabled if "Only domains" is set.`,position:"top"})),d=!0)},p(g,k){(!c||k&4096&&s!==(s=g[12]))&&p(e,"for",s);const $={};k&4096&&($.id=g[12]),k&1&&($.disabled=!j.isEmpty(g[0].options.onlyEmailDomains)),!a&&k&1&&(a=!0,$.value=g[0].options.exceptEmailDomains,he(()=>a=!1)),o.$set($)},i(g){c||(M(o.$$.fragment,g),c=!0)},o(g){I(o.$$.fragment,g),c=!1},d(g){g&&y(e),g&&y(r),V(o,g),g&&y(u),g&&y(f),d=!1,m()}}}function N0(n){let e,t,l,i,s,r,o,a,u,f,c,d,m;function v(g){n[8](g)}let _={id:n[12],disabled:!j.isEmpty(n[0].options.exceptEmailDomains)};return n[0].options.onlyEmailDomains!==void 0&&(_.value=n[0].options.onlyEmailDomains),o=new Ll({props:_}),le.push(()=>me(o,"value",v)),{c(){e=h("label"),t=h("span"),t.textContent="Only domains",l=D(),i=h("i"),r=D(),U(o.$$.fragment),u=D(),f=h("div"),f.textContent="Use comma as separator.",p(t,"class","txt"),p(i,"class","ri-information-line link-hint"),p(e,"for",s=n[12]),p(f,"class","help-block")},m(g,k){w(g,e,k),b(e,t),b(e,l),b(e,i),w(g,r,k),H(o,g,k),w(g,u,k),w(g,f,k),c=!0,d||(m=$e(Pe.call(null,i,{text:`Email domains that are ONLY allowed to sign up. 
 This field is disabled if "Except domains" is set.`,position:"top"})),d=!0)},p(g,k){(!c||k&4096&&s!==(s=g[12]))&&p(e,"for",s);const $={};k&4096&&($.id=g[12]),k&1&&($.disabled=!j.isEmpty(g[0].options.exceptEmailDomains)),!a&&k&1&&(a=!0,$.value=g[0].options.onlyEmailDomains,he(()=>a=!1)),o.$set($)},i(g){c||(M(o.$$.fragment,g),c=!0)},o(g){I(o.$$.fragment,g),c=!1},d(g){g&&y(e),g&&y(r),V(o,g),g&&y(u),g&&y(f),d=!1,m()}}}function F0(n){let e,t,l,i;e=new de({props:{class:"form-field form-field-toggle m-0",name:"options.allowEmailAuth",$$slots:{default:[M0,({uniqueId:r})=>({12:r}),({uniqueId:r})=>r?4096:0]},$$scope:{ctx:n}}});let s=n[0].options.allowEmailAuth&&vo(n);return{c(){U(e.$$.fragment),t=D(),s&&s.c(),l=ke()},m(r,o){H(e,r,o),w(r,t,o),s&&s.m(r,o),w(r,l,o),i=!0},p(r,o){const a={};o&12289&&(a.$$scope={dirty:o,ctx:r}),e.$set(a),r[0].options.allowEmailAuth?s?(s.p(r,o),o&1&&M(s,1)):(s=vo(r),s.c(),M(s,1),s.m(l.parentNode,l)):s&&(ue(),I(s,1,1,()=>{s=null}),fe())},i(r){i||(M(e.$$.fragment,r),M(s),i=!0)},o(r){I(e.$$.fragment,r),I(s),i=!1},d(r){V(e,r),r&&y(t),s&&s.d(r),r&&y(l)}}}function L0(n){let e;return{c(){e=h("span"),e.textContent="Disabled",p(e,"class","label")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function q0(n){let e;return{c(){e=h("span"),e.textContent="Enabled",p(e,"class","label label-success")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function ko(n){let e,t,l,i,s;return{c(){e=h("i"),p(e,"class","ri-error-warning-fill txt-danger")},m(r,o){w(r,e,o),l=!0,i||(s=$e(Pe.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(r){l||(r&&Be(()=>{l&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!0)),t.run(1))}),l=!0)},o(r){r&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!1)),t.run(0)),l=!1},d(r){r&&y(e),r&&t&&t.end(),i=!1,s()}}}function P0(n){let e,t,l,i,s,r;function o(c,d){return c[0].options.allowEmailAuth?q0:L0}let a=o(n),u=a(n),f=n[2]&&ko();return{c(){e=h("div"),e.innerHTML=`<i class="ri-mail-star-line"></i> 
                <span class="txt">Email/Password</span>`,t=D(),l=h("div"),i=D(),u.c(),s=D(),f&&f.c(),r=ke(),p(e,"class","inline-flex"),p(l,"class","flex-fill")},m(c,d){w(c,e,d),w(c,t,d),w(c,l,d),w(c,i,d),u.m(c,d),w(c,s,d),f&&f.m(c,d),w(c,r,d)},p(c,d){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(s.parentNode,s))),c[2]?f?d&4&&M(f,1):(f=ko(),f.c(),M(f,1),f.m(r.parentNode,r)):f&&(ue(),I(f,1,1,()=>{f=null}),fe())},d(c){c&&y(e),c&&y(t),c&&y(l),c&&y(i),u.d(c),c&&y(s),f&&f.d(c),c&&y(r)}}}function R0(n){let e,t,l,i,s,r,o,a;return{c(){e=h("input"),l=D(),i=h("label"),s=B("Enable"),p(e,"type","checkbox"),p(e,"id",t=n[12]),p(i,"for",r=n[12])},m(u,f){w(u,e,f),e.checked=n[0].options.allowOAuth2Auth,w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"change",n[9]),o=!0)},p(u,f){f&4096&&t!==(t=u[12])&&p(e,"id",t),f&1&&(e.checked=u[0].options.allowOAuth2Auth),f&4096&&r!==(r=u[12])&&p(i,"for",r)},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function yo(n){let e,t,l;return{c(){e=h("div"),e.innerHTML='<div class="flex p-t-base"><a href="#/settings/auth-providers" target="_blank" class="btn btn-sm btn-outline"><span class="txt">Manage OAuth2 providers</span></a></div>',p(e,"class","block")},m(i,s){w(i,e,s),l=!0},i(i){l||(i&&Be(()=>{l&&(t||(t=Fe(e,Ge,{duration:150},!0)),t.run(1))}),l=!0)},o(i){i&&(t||(t=Fe(e,Ge,{duration:150},!1)),t.run(0)),l=!1},d(i){i&&y(e),i&&t&&t.end()}}}function j0(n){let e,t,l,i;e=new de({props:{class:"form-field form-field-toggle m-b-0",name:"options.allowOAuth2Auth",$$slots:{default:[R0,({uniqueId:r})=>({12:r}),({uniqueId:r})=>r?4096:0]},$$scope:{ctx:n}}});let s=n[0].options.allowOAuth2Auth&&yo();return{c(){U(e.$$.fragment),t=D(),s&&s.c(),l=ke()},m(r,o){H(e,r,o),w(r,t,o),s&&s.m(r,o),w(r,l,o),i=!0},p(r,o){const a={};o&12289&&(a.$$scope={dirty:o,ctx:r}),e.$set(a),r[0].options.allowOAuth2Auth?s?o&1&&M(s,1):(s=yo(),s.c(),M(s,1),s.m(l.parentNode,l)):s&&(ue(),I(s,1,1,()=>{s=null}),fe())},i(r){i||(M(e.$$.fragment,r),M(s),i=!0)},o(r){I(e.$$.fragment,r),I(s),i=!1},d(r){V(e,r),r&&y(t),s&&s.d(r),r&&y(l)}}}function H0(n){let e;return{c(){e=h("span"),e.textContent="Disabled",p(e,"class","label")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function V0(n){let e;return{c(){e=h("span"),e.textContent="Enabled",p(e,"class","label label-success")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function wo(n){let e,t,l,i,s;return{c(){e=h("i"),p(e,"class","ri-error-warning-fill txt-danger")},m(r,o){w(r,e,o),l=!0,i||(s=$e(Pe.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(r){l||(r&&Be(()=>{l&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!0)),t.run(1))}),l=!0)},o(r){r&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!1)),t.run(0)),l=!1},d(r){r&&y(e),r&&t&&t.end(),i=!1,s()}}}function U0(n){let e,t,l,i,s,r;function o(c,d){return c[0].options.allowOAuth2Auth?V0:H0}let a=o(n),u=a(n),f=n[1]&&wo();return{c(){e=h("div"),e.innerHTML=`<i class="ri-shield-star-line"></i> 
                <span class="txt">OAuth2</span>`,t=D(),l=h("div"),i=D(),u.c(),s=D(),f&&f.c(),r=ke(),p(e,"class","inline-flex"),p(l,"class","flex-fill")},m(c,d){w(c,e,d),w(c,t,d),w(c,l,d),w(c,i,d),u.m(c,d),w(c,s,d),f&&f.m(c,d),w(c,r,d)},p(c,d){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(s.parentNode,s))),c[1]?f?d&2&&M(f,1):(f=wo(),f.c(),M(f,1),f.m(r.parentNode,r)):f&&(ue(),I(f,1,1,()=>{f=null}),fe())},d(c){c&&y(e),c&&y(t),c&&y(l),c&&y(i),u.d(c),c&&y(s),f&&f.d(c),c&&y(r)}}}function z0(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Minimum password length"),i=D(),s=h("input"),p(e,"for",l=n[12]),p(s,"type","number"),p(s,"id",r=n[12]),s.required=!0,p(s,"min","6"),p(s,"max","72")},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].options.minPasswordLength),o||(a=Y(s,"input",n[10]),o=!0)},p(u,f){f&4096&&l!==(l=u[12])&&p(e,"for",l),f&4096&&r!==(r=u[12])&&p(s,"id",r),f&1&&lt(s.value)!==u[0].options.minPasswordLength&&re(s,u[0].options.minPasswordLength)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function B0(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("input"),l=D(),i=h("label"),s=h("span"),s.textContent="Always require email",r=D(),o=h("i"),p(e,"type","checkbox"),p(e,"id",t=n[12]),p(s,"class","txt"),p(o,"class","ri-information-line txt-sm link-hint"),p(i,"for",a=n[12])},m(c,d){w(c,e,d),e.checked=n[0].options.requireEmail,w(c,l,d),w(c,i,d),b(i,s),b(i,r),b(i,o),u||(f=[Y(e,"change",n[11]),$e(Pe.call(null,o,{text:`The constraint is applied only for new records.
Also note that some OAuth2 providers (like Twitter), don't return an email and the authentication may fail if the email field is required.`,position:"right"}))],u=!0)},p(c,d){d&4096&&t!==(t=c[12])&&p(e,"id",t),d&1&&(e.checked=c[0].options.requireEmail),d&4096&&a!==(a=c[12])&&p(i,"for",a)},d(c){c&&y(e),c&&y(l),c&&y(i),u=!1,Te(f)}}}function W0(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k;return i=new Si({props:{single:!0,$$slots:{header:[A0],default:[E0]},$$scope:{ctx:n}}}),r=new Si({props:{single:!0,$$slots:{header:[P0],default:[F0]},$$scope:{ctx:n}}}),a=new Si({props:{single:!0,$$slots:{header:[U0],default:[j0]},$$scope:{ctx:n}}}),v=new de({props:{class:"form-field required",name:"options.minPasswordLength",$$slots:{default:[z0,({uniqueId:$})=>({12:$}),({uniqueId:$})=>$?4096:0]},$$scope:{ctx:n}}}),g=new de({props:{class:"form-field form-field-toggle m-b-sm",name:"options.requireEmail",$$slots:{default:[B0,({uniqueId:$})=>({12:$}),({uniqueId:$})=>$?4096:0]},$$scope:{ctx:n}}}),{c(){e=h("h4"),e.textContent="Auth methods",t=D(),l=h("div"),U(i.$$.fragment),s=D(),U(r.$$.fragment),o=D(),U(a.$$.fragment),u=D(),f=h("hr"),c=D(),d=h("h4"),d.textContent="General",m=D(),U(v.$$.fragment),_=D(),U(g.$$.fragment),p(e,"class","section-title"),p(l,"class","accordions"),p(d,"class","section-title")},m($,C){w($,e,C),w($,t,C),w($,l,C),H(i,l,null),b(l,s),H(r,l,null),b(l,o),H(a,l,null),w($,u,C),w($,f,C),w($,c,C),w($,d,C),w($,m,C),H(v,$,C),w($,_,C),H(g,$,C),k=!0},p($,[C]){const T={};C&8201&&(T.$$scope={dirty:C,ctx:$}),i.$set(T);const S={};C&8197&&(S.$$scope={dirty:C,ctx:$}),r.$set(S);const E={};C&8195&&(E.$$scope={dirty:C,ctx:$}),a.$set(E);const O={};C&12289&&(O.$$scope={dirty:C,ctx:$}),v.$set(O);const A={};C&12289&&(A.$$scope={dirty:C,ctx:$}),g.$set(A)},i($){k||(M(i.$$.fragment,$),M(r.$$.fragment,$),M(a.$$.fragment,$),M(v.$$.fragment,$),M(g.$$.fragment,$),k=!0)},o($){I(i.$$.fragment,$),I(r.$$.fragment,$),I(a.$$.fragment,$),I(v.$$.fragment,$),I(g.$$.fragment,$),k=!1},d($){$&&y(e),$&&y(t),$&&y(l),V(i),V(r),V(a),$&&y(u),$&&y(f),$&&y(c),$&&y(d),$&&y(m),V(v,$),$&&y(_),V(g,$)}}}function K0(n,e,t){let l,i,s,r;Ve(n,Hn,_=>t(4,r=_));let{collection:o=new ln}=e;function a(){o.options.allowUsernameAuth=this.checked,t(0,o)}function u(){o.options.allowEmailAuth=this.checked,t(0,o)}function f(_){n.$$.not_equal(o.options.exceptEmailDomains,_)&&(o.options.exceptEmailDomains=_,t(0,o))}function c(_){n.$$.not_equal(o.options.onlyEmailDomains,_)&&(o.options.onlyEmailDomains=_,t(0,o))}function d(){o.options.allowOAuth2Auth=this.checked,t(0,o)}function m(){o.options.minPasswordLength=lt(this.value),t(0,o)}function v(){o.options.requireEmail=this.checked,t(0,o)}return n.$$set=_=>{"collection"in _&&t(0,o=_.collection)},n.$$.update=()=>{var _,g,k,$;n.$$.dirty&1&&o.$isAuth&&j.isEmpty(o.options)&&t(0,o.options={allowEmailAuth:!0,allowUsernameAuth:!0,allowOAuth2Auth:!0,minPasswordLength:8},o),n.$$.dirty&16&&t(2,i=!j.isEmpty((_=r==null?void 0:r.options)==null?void 0:_.allowEmailAuth)||!j.isEmpty((g=r==null?void 0:r.options)==null?void 0:g.onlyEmailDomains)||!j.isEmpty((k=r==null?void 0:r.options)==null?void 0:k.exceptEmailDomains)),n.$$.dirty&16&&t(1,s=!j.isEmpty(($=r==null?void 0:r.options)==null?void 0:$.allowOAuth2Auth))},t(3,l=!1),[o,s,i,l,r,a,u,f,c,d,m,v]}class Y0 extends ge{constructor(e){super(),be(this,e,K0,W0,_e,{collection:0})}}function $o(n,e,t){const l=n.slice();return l[27]=e[t],l}function J0(n){let e,t,l,i,s,r,o,a,u;return{c(){e=h("input"),i=D(),s=h("label"),r=B("Unique"),p(e,"type","checkbox"),p(e,"id",t=n[30]),e.checked=l=n[3].unique,p(s,"for",o=n[30])},m(f,c){w(f,e,c),w(f,i,c),w(f,s,c),b(s,r),a||(u=Y(e,"change",n[19]),a=!0)},p(f,c){c[0]&1073741824&&t!==(t=f[30])&&p(e,"id",t),c[0]&8&&l!==(l=f[3].unique)&&(e.checked=l),c[0]&1073741824&&o!==(o=f[30])&&p(s,"for",o)},d(f){f&&y(e),f&&y(i),f&&y(s),a=!1,u()}}}function Z0(n){let e,t,l,i;function s(a){n[20](a)}var r=n[7];function o(a){var f;let u={id:a[30],placeholder:`eg. CREATE INDEX idx_test on ${(f=a[0])==null?void 0:f.name} (created)`,language:"sql-create-index",minHeight:"85"};return a[2]!==void 0&&(u.value=a[2]),{props:u}}return r&&(e=gt(r,o(n)),le.push(()=>me(e,"value",s))),{c(){e&&U(e.$$.fragment),l=ke()},m(a,u){e&&H(e,a,u),w(a,l,u),i=!0},p(a,u){var c;const f={};if(u[0]&1073741824&&(f.id=a[30]),u[0]&1&&(f.placeholder=`eg. CREATE INDEX idx_test on ${(c=a[0])==null?void 0:c.name} (created)`),!t&&u[0]&4&&(t=!0,f.value=a[2],he(()=>t=!1)),u[0]&128&&r!==(r=a[7])){if(e){ue();const d=e;I(d.$$.fragment,1,0,()=>{V(d,1)}),fe()}r?(e=gt(r,o(a)),le.push(()=>me(e,"value",s)),U(e.$$.fragment),M(e.$$.fragment,1),H(e,l.parentNode,l)):e=null}else r&&e.$set(f)},i(a){i||(e&&M(e.$$.fragment,a),i=!0)},o(a){e&&I(e.$$.fragment,a),i=!1},d(a){a&&y(l),e&&V(e,a)}}}function G0(n){let e;return{c(){e=h("textarea"),e.disabled=!0,p(e,"rows","7"),p(e,"placeholder","Loading...")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function Q0(n){let e,t,l,i;const s=[G0,Z0],r=[];function o(a,u){return a[8]?0:1}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(a,u){r[e].m(a,u),w(a,l,u),i=!0},p(a,u){let f=e;e=o(a),e===f?r[e].p(a,u):(ue(),I(r[f],1,1,()=>{r[f]=null}),fe(),t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),M(t,1),t.m(l.parentNode,l))},i(a){i||(M(t),i=!0)},o(a){I(t),i=!1},d(a){r[e].d(a),a&&y(l)}}}function To(n){let e,t,l,i=n[10],s=[];for(let r=0;r<i.length;r+=1)s[r]=So($o(n,i,r));return{c(){e=h("div"),t=h("span"),t.textContent="Presets",l=D();for(let r=0;r<s.length;r+=1)s[r].c();p(t,"class","txt txt-hint"),p(e,"class","inline-flex gap-10")},m(r,o){w(r,e,o),b(e,t),b(e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(r,o){if(o[0]&9728){i=r[10];let a;for(a=0;a<i.length;a+=1){const u=$o(r,i,a);s[a]?s[a].p(u,o):(s[a]=So(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}},d(r){r&&y(e),it(s,r)}}}function So(n){let e,t=n[27]+"",l,i,s,r;function o(){return n[21](n[27])}return{c(){e=h("button"),l=B(t),i=D(),p(e,"type","button"),p(e,"class","label link-primary"),X(e,"label-info",n[9].includes(n[27]))},m(a,u){w(a,e,u),b(e,l),b(e,i),s||(r=Y(e,"click",o),s=!0)},p(a,u){n=a,u[0]&1024&&t!==(t=n[27]+"")&&oe(l,t),u[0]&1536&&X(e,"label-info",n[9].includes(n[27]))},d(a){a&&y(e),s=!1,r()}}}function X0(n){let e,t,l,i,s,r;e=new de({props:{class:"form-field form-field-toggle m-b-sm",$$slots:{default:[J0,({uniqueId:a})=>({30:a}),({uniqueId:a})=>[a?1073741824:0]]},$$scope:{ctx:n}}}),l=new de({props:{class:"form-field required m-b-sm",name:`indexes.${n[6]||""}`,$$slots:{default:[Q0,({uniqueId:a})=>({30:a}),({uniqueId:a})=>[a?1073741824:0]]},$$scope:{ctx:n}}});let o=n[10].length>0&&To(n);return{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment),i=D(),o&&o.c(),s=ke()},m(a,u){H(e,a,u),w(a,t,u),H(l,a,u),w(a,i,u),o&&o.m(a,u),w(a,s,u),r=!0},p(a,u){const f={};u[0]&1073741837|u[1]&1&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c={};u[0]&64&&(c.name=`indexes.${a[6]||""}`),u[0]&1073742213|u[1]&1&&(c.$$scope={dirty:u,ctx:a}),l.$set(c),a[10].length>0?o?o.p(a,u):(o=To(a),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(a){r||(M(e.$$.fragment,a),M(l.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(l.$$.fragment,a),r=!1},d(a){V(e,a),a&&y(t),V(l,a),a&&y(i),o&&o.d(a),a&&y(s)}}}function x0(n){let e,t=n[5]?"Update":"Create",l,i;return{c(){e=h("h4"),l=B(t),i=B(" index")},m(s,r){w(s,e,r),b(e,l),b(e,i)},p(s,r){r[0]&32&&t!==(t=s[5]?"Update":"Create")&&oe(l,t)},d(s){s&&y(e)}}}function Co(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<i class="ri-delete-bin-7-line"></i>',p(e,"type","button"),p(e,"class","btn btn-sm btn-circle btn-hint btn-transparent m-r-auto")},m(i,s){w(i,e,s),t||(l=[$e(Pe.call(null,e,{text:"Delete",position:"top"})),Y(e,"click",n[16])],t=!0)},p:x,d(i){i&&y(e),t=!1,Te(l)}}}function eb(n){let e,t,l,i,s,r,o=n[5]!=""&&Co(n);return{c(){o&&o.c(),e=D(),t=h("button"),t.innerHTML='<span class="txt">Cancel</span>',l=D(),i=h("button"),i.innerHTML='<span class="txt">Set index</span>',p(t,"type","button"),p(t,"class","btn btn-transparent"),p(i,"type","button"),p(i,"class","btn"),X(i,"btn-disabled",n[9].length<=0)},m(a,u){o&&o.m(a,u),w(a,e,u),w(a,t,u),w(a,l,u),w(a,i,u),s||(r=[Y(t,"click",n[17]),Y(i,"click",n[18])],s=!0)},p(a,u){a[5]!=""?o?o.p(a,u):(o=Co(a),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),u[0]&512&&X(i,"btn-disabled",a[9].length<=0)},d(a){o&&o.d(a),a&&y(e),a&&y(t),a&&y(l),a&&y(i),s=!1,Te(r)}}}function tb(n){let e,t;const l=[{popup:!0},n[14]];let i={$$slots:{footer:[eb],header:[x0],default:[X0]},$$scope:{ctx:n}};for(let s=0;s<l.length;s+=1)i=Ae(i,l[s]);return e=new Yt({props:i}),n[22](e),e.$on("hide",n[23]),e.$on("show",n[24]),{c(){U(e.$$.fragment)},m(s,r){H(e,s,r),t=!0},p(s,r){const o=r[0]&16384?mt(l,[l[0],Nt(s[14])]):{};r[0]&2029|r[1]&1&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[22](null),V(e,s)}}}function nb(n,e,t){let l,i,s;const r=["collection","show","hide"];let o=ze(e,r);const a=pt();let{collection:u}=e,f,c="",d="",m="",v,_=!1;function g(z,K){return t(6,m=j.isEmpty(K)?"":K),t(5,c=z||$()),t(2,d=c),f==null?void 0:f.show()}function k(){return f==null?void 0:f.hide()}function $(){const z=j.parseIndex("");return z.tableName=(u==null?void 0:u.name)||"",j.buildIndex(z)}function C(){a("remove",c),k()}function T(){s.length&&(a("submit",{old:c,new:d}),k())}function S(z){const K=j.clone(i),Q=K.columns.find(J=>J.name==z);Q?j.removeByValue(K.columns,Q):j.pushUnique(K.columns,{name:z}),t(2,d=j.buildIndex(K))}Ut(async()=>{t(8,_=!0);try{t(7,v=(await Xe(()=>import("./CodeEditor-4cdb48d5.js"),["./CodeEditor-4cdb48d5.js","./index-fd4289fb.js"],import.meta.url)).default)}catch(z){console.warn(z)}t(8,_=!1)});const E=()=>C(),O=()=>k(),A=()=>T(),N=z=>{t(3,i.unique=z.target.checked,i),t(3,i.tableName=i.tableName||(u==null?void 0:u.name),i),t(2,d=j.buildIndex(i))};function F(z){d=z,t(2,d)}const L=z=>S(z);function P(z){le[z?"unshift":"push"](()=>{f=z,t(4,f)})}function R(z){De.call(this,n,z)}function q(z){De.call(this,n,z)}return n.$$set=z=>{e=Ae(Ae({},e),It(z)),t(14,o=ze(e,r)),"collection"in z&&t(0,u=z.collection)},n.$$.update=()=>{var z,K,Q;n.$$.dirty[0]&1&&t(10,l=(((K=(z=u==null?void 0:u.schema)==null?void 0:z.filter(J=>!J.toDelete))==null?void 0:K.map(J=>J.name))||[]).concat(["created","updated"])),n.$$.dirty[0]&4&&t(3,i=j.parseIndex(d)),n.$$.dirty[0]&8&&t(9,s=((Q=i.columns)==null?void 0:Q.map(J=>J.name))||[])},[u,k,d,i,f,c,m,v,_,s,l,C,T,S,o,g,E,O,A,N,F,L,P,R,q]}class lb extends ge{constructor(e){super(),be(this,e,nb,tb,_e,{collection:0,show:15,hide:1},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[1]}}function Eo(n,e,t){const l=n.slice();l[10]=e[t],l[13]=t;const i=j.parseIndex(l[10]);return l[11]=i,l}function Oo(n){let e;return{c(){e=h("strong"),e.textContent="Unique:"},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Do(n){var d;let e,t,l,i=((d=n[11].columns)==null?void 0:d.map(Ao).join(", "))+"",s,r,o,a,u,f=n[11].unique&&Oo();function c(){return n[4](n[10],n[13])}return{c(){var m,v;e=h("button"),f&&f.c(),t=D(),l=h("span"),s=B(i),p(l,"class","txt"),p(e,"type","button"),p(e,"class",r="label link-primary "+((v=(m=n[2].indexes)==null?void 0:m[n[13]])!=null&&v.message?"label-danger":"")+" svelte-167lbwu")},m(m,v){var _,g;w(m,e,v),f&&f.m(e,null),b(e,t),b(e,l),b(l,s),a||(u=[$e(o=Pe.call(null,e,((g=(_=n[2].indexes)==null?void 0:_[n[13]])==null?void 0:g.message)||"")),Y(e,"click",c)],a=!0)},p(m,v){var _,g,k,$,C;n=m,n[11].unique?f||(f=Oo(),f.c(),f.m(e,t)):f&&(f.d(1),f=null),v&1&&i!==(i=((_=n[11].columns)==null?void 0:_.map(Ao).join(", "))+"")&&oe(s,i),v&4&&r!==(r="label link-primary "+((k=(g=n[2].indexes)==null?void 0:g[n[13]])!=null&&k.message?"label-danger":"")+" svelte-167lbwu")&&p(e,"class",r),o&&kt(o.update)&&v&4&&o.update.call(null,((C=($=n[2].indexes)==null?void 0:$[n[13]])==null?void 0:C.message)||"")},d(m){m&&y(e),f&&f.d(),a=!1,Te(u)}}}function ib(n){var T,S,E;let e,t,l=(((S=(T=n[0])==null?void 0:T.indexes)==null?void 0:S.length)||0)+"",i,s,r,o,a,u,f,c,d,m,v,_,g=((E=n[0])==null?void 0:E.indexes)||[],k=[];for(let O=0;O<g.length;O+=1)k[O]=Do(Eo(n,g,O));function $(O){n[7](O)}let C={};return n[0]!==void 0&&(C.collection=n[0]),c=new lb({props:C}),n[6](c),le.push(()=>me(c,"collection",$)),c.$on("remove",n[8]),c.$on("submit",n[9]),{c(){e=h("div"),t=B("Unique constraints and indexes ("),i=B(l),s=B(")"),r=D(),o=h("div");for(let O=0;O<k.length;O+=1)k[O].c();a=D(),u=h("button"),u.innerHTML=`<span class="txt">+</span> 
        <span class="txt">New index</span>`,f=D(),U(c.$$.fragment),p(e,"class","section-title"),p(u,"type","button"),p(u,"class","btn btn-xs btn-transparent btn-pill btn-outline"),p(o,"class","indexes-list svelte-167lbwu")},m(O,A){w(O,e,A),b(e,t),b(e,i),b(e,s),w(O,r,A),w(O,o,A);for(let N=0;N<k.length;N+=1)k[N]&&k[N].m(o,null);b(o,a),b(o,u),w(O,f,A),H(c,O,A),m=!0,v||(_=Y(u,"click",n[5]),v=!0)},p(O,[A]){var F,L,P;if((!m||A&1)&&l!==(l=(((L=(F=O[0])==null?void 0:F.indexes)==null?void 0:L.length)||0)+"")&&oe(i,l),A&7){g=((P=O[0])==null?void 0:P.indexes)||[];let R;for(R=0;R<g.length;R+=1){const q=Eo(O,g,R);k[R]?k[R].p(q,A):(k[R]=Do(q),k[R].c(),k[R].m(o,a))}for(;R<k.length;R+=1)k[R].d(1);k.length=g.length}const N={};!d&&A&1&&(d=!0,N.collection=O[0],he(()=>d=!1)),c.$set(N)},i(O){m||(M(c.$$.fragment,O),m=!0)},o(O){I(c.$$.fragment,O),m=!1},d(O){O&&y(e),O&&y(r),O&&y(o),it(k,O),O&&y(f),n[6](null),V(c,O),v=!1,_()}}}const Ao=n=>n.name;function sb(n,e,t){let l;Ve(n,Hn,m=>t(2,l=m));let{collection:i}=e,s;function r(m,v){for(let _=0;_<i.indexes.length;_++)if(i.indexes[_]==m){t(0,i.indexes[_]=v,i),Dn("indexes."+_);return}i.indexes.push(v),t(0,i)}const o=(m,v)=>s==null?void 0:s.show(m,v),a=()=>s==null?void 0:s.show();function u(m){le[m?"unshift":"push"](()=>{s=m,t(1,s)})}function f(m){i=m,t(0,i)}const c=m=>{for(let v=0;v<i.indexes.length;v++)if(i.indexes[v]==m.detail){i.indexes.splice(v,1),Dn("indexes."+v);break}t(0,i)},d=m=>{r(m.detail.old,m.detail.new)};return n.$$set=m=>{"collection"in m&&t(0,i=m.collection)},[i,s,l,r,o,a,u,f,c,d]}class rb extends ge{constructor(e){super(),be(this,e,sb,ib,_e,{collection:0})}}function Mo(n,e,t){const l=n.slice();return l[6]=e[t],l}function Io(n){let e,t,l,i,s=n[6].label+"",r,o,a,u;function f(){return n[4](n[6])}function c(...d){return n[5](n[6],...d)}return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),r=B(s),o=D(),p(t,"class","icon "+n[6].icon+" svelte-1gz9b6p"),p(i,"class","txt"),p(e,"tabindex","0"),p(e,"class","dropdown-item closable svelte-1gz9b6p")},m(d,m){w(d,e,m),b(e,t),b(e,l),b(e,i),b(i,r),b(e,o),a||(u=[Y(e,"click",fn(f)),Y(e,"keydown",fn(c))],a=!0)},p(d,m){n=d},d(d){d&&y(e),a=!1,Te(u)}}}function ob(n){let e,t=n[2],l=[];for(let i=0;i<t.length;i+=1)l[i]=Io(Mo(n,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ke()},m(i,s){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(i,s);w(i,e,s)},p(i,s){if(s&12){t=i[2];let r;for(r=0;r<t.length;r+=1){const o=Mo(i,t,r);l[r]?l[r].p(o,s):(l[r]=Io(o),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(i){it(l,i),i&&y(e)}}}function ab(n){let e,t,l,i,s,r,o,a,u,f;return r=new gn({props:{class:"dropdown field-types-dropdown",$$slots:{default:[ob]},$$scope:{ctx:n}}}),{c(){e=h("button"),t=h("i"),l=D(),i=h("div"),i.textContent="New field",s=D(),U(r.$$.fragment),p(t,"class","ri-add-line"),p(i,"class","txt"),p(e,"type","button"),p(e,"class",o="field-types-btn "+n[0]+" svelte-1gz9b6p")},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),b(e,s),H(r,e,null),a=!0,u||(f=Y(e,"click",n[1]),u=!0)},p(c,[d]){const m={};d&512&&(m.$$scope={dirty:d,ctx:c}),r.$set(m),(!a||d&1&&o!==(o="field-types-btn "+c[0]+" svelte-1gz9b6p"))&&p(e,"class",o)},i(c){a||(M(r.$$.fragment,c),a=!0)},o(c){I(r.$$.fragment,c),a=!1},d(c){c&&y(e),V(r),u=!1,f()}}}function ub(n,e,t){let{class:l=""}=e;const i=pt(),s=[{label:"Plain text",value:"text",icon:j.getFieldTypeIcon("text")},{label:"Rich editor",value:"editor",icon:j.getFieldTypeIcon("editor")},{label:"Number",value:"number",icon:j.getFieldTypeIcon("number")},{label:"Bool",value:"bool",icon:j.getFieldTypeIcon("bool")},{label:"Email",value:"email",icon:j.getFieldTypeIcon("email")},{label:"Url",value:"url",icon:j.getFieldTypeIcon("url")},{label:"DateTime",value:"date",icon:j.getFieldTypeIcon("date")},{label:"Select",value:"select",icon:j.getFieldTypeIcon("select")},{label:"File",value:"file",icon:j.getFieldTypeIcon("file")},{label:"Relation",value:"relation",icon:j.getFieldTypeIcon("relation")},{label:"JSON",value:"json",icon:j.getFieldTypeIcon("json")}];function r(u){i("select",u)}const o=u=>{r(u.value)},a=(u,f)=>{(f.code==="Enter"||f.code==="Space")&&r(u.value)};return n.$$set=u=>{"class"in u&&t(0,l=u.class)},[l,i,s,r,o,a]}class fb extends ge{constructor(e){super(),be(this,e,ub,ab,_e,{class:0})}}const cb=n=>({interactive:n&64,hasErrors:n&32}),No=n=>({interactive:n[6],hasErrors:n[5]}),db=n=>({interactive:n&64,hasErrors:n&32}),Fo=n=>({interactive:n[6],hasErrors:n[5]}),pb=n=>({interactive:n&64,hasErrors:n&32}),Lo=n=>({interactive:n[6],hasErrors:n[5]}),mb=n=>({interactive:n&64,hasErrors:n&32}),qo=n=>({interactive:n[6],hasErrors:n[5]});function Po(n){let e;return{c(){e=h("div"),e.innerHTML='<span class="drag-handle"></span>',p(e,"class","drag-handle-wrapper"),p(e,"draggable",!0),p(e,"aria-label","Sort")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Ro(n){let e,t,l,i;return{c(){e=h("span"),p(e,"class","marker marker-required")},m(s,r){w(s,e,r),l||(i=$e(t=Pe.call(null,e,n[4])),l=!0)},p(s,r){t&&kt(t.update)&&r&16&&t.update.call(null,s[4])},d(s){s&&y(e),l=!1,i()}}}function _b(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v=n[0].required&&Ro(n);return{c(){e=h("div"),v&&v.c(),t=D(),l=h("div"),i=h("i"),r=D(),o=h("input"),p(e,"class","markers"),p(i,"class",s=j.getFieldTypeIcon(n[0].type)),p(l,"class","form-field-addon prefix no-pointer-events field-type-icon"),X(l,"txt-disabled",!n[6]),p(o,"type","text"),o.required=!0,o.disabled=a=!n[6],o.readOnly=u=n[0].id&&n[0].system,p(o,"spellcheck","false"),o.autofocus=f=!n[0].id,p(o,"placeholder","Field name"),o.value=c=n[0].name},m(_,g){w(_,e,g),v&&v.m(e,null),w(_,t,g),w(_,l,g),b(l,i),w(_,r,g),w(_,o,g),n[14](o),n[0].id||o.focus(),d||(m=Y(o,"input",n[15]),d=!0)},p(_,g){_[0].required?v?v.p(_,g):(v=Ro(_),v.c(),v.m(e,null)):v&&(v.d(1),v=null),g&1&&s!==(s=j.getFieldTypeIcon(_[0].type))&&p(i,"class",s),g&64&&X(l,"txt-disabled",!_[6]),g&64&&a!==(a=!_[6])&&(o.disabled=a),g&1&&u!==(u=_[0].id&&_[0].system)&&(o.readOnly=u),g&1&&f!==(f=!_[0].id)&&(o.autofocus=f),g&1&&c!==(c=_[0].name)&&o.value!==c&&(o.value=c)},d(_){_&&y(e),v&&v.d(),_&&y(t),_&&y(l),_&&y(r),_&&y(o),n[14](null),d=!1,m()}}}function hb(n){let e;return{c(){e=h("span"),p(e,"class","separator")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function bb(n){let e,t,l,i,s;return{c(){e=h("button"),t=h("i"),p(t,"class","ri-settings-3-line"),p(e,"type","button"),p(e,"aria-label","Toggle field options"),p(e,"class",l="btn btn-sm btn-circle options-trigger "+(n[3]?"btn-secondary":"btn-transparent")),X(e,"btn-hint",!n[3]&&!n[5]),X(e,"btn-danger",n[5])},m(r,o){w(r,e,o),b(e,t),i||(s=Y(e,"click",n[11]),i=!0)},p(r,o){o&8&&l!==(l="btn btn-sm btn-circle options-trigger "+(r[3]?"btn-secondary":"btn-transparent"))&&p(e,"class",l),o&40&&X(e,"btn-hint",!r[3]&&!r[5]),o&40&&X(e,"btn-danger",r[5])},d(r){r&&y(e),i=!1,s()}}}function gb(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<i class="ri-restart-line"></i>',p(e,"type","button"),p(e,"class","btn btn-sm btn-circle btn-warning btn-transparent options-trigger"),p(e,"aria-label","Restore")},m(i,s){w(i,e,s),t||(l=[$e(Pe.call(null,e,"Restore")),Y(e,"click",n[9])],t=!0)},p:x,d(i){i&&y(e),t=!1,Te(l)}}}function jo(n){let e,t,l,i,s,r,o,a,u,f,c;const d=n[13].options,m=ut(d,n,n[17],Lo),v=n[13].beforeNonempty,_=ut(v,n,n[17],Fo);o=new de({props:{class:"form-field form-field-toggle m-0",name:"requried",$$slots:{default:[vb,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}});const g=n[13].afterNonempty,k=ut(g,n,n[17],No);let $=!n[0].toDelete&&Ho(n);return{c(){e=h("div"),t=h("div"),l=h("div"),m&&m.c(),i=D(),_&&_.c(),s=D(),r=h("div"),U(o.$$.fragment),a=D(),k&&k.c(),u=D(),$&&$.c(),p(l,"class","col-sm-12 hidden-empty"),p(r,"class","col-sm-4"),p(t,"class","grid grid-sm"),p(e,"class","schema-field-options")},m(C,T){w(C,e,T),b(e,t),b(t,l),m&&m.m(l,null),b(t,i),_&&_.m(t,null),b(t,s),b(t,r),H(o,r,null),b(t,a),k&&k.m(t,null),b(t,u),$&&$.m(t,null),c=!0},p(C,T){m&&m.p&&(!c||T&131168)&&ct(m,d,C,C[17],c?ft(d,C[17],T,pb):dt(C[17]),Lo),_&&_.p&&(!c||T&131168)&&ct(_,v,C,C[17],c?ft(v,C[17],T,db):dt(C[17]),Fo);const S={};T&8519697&&(S.$$scope={dirty:T,ctx:C}),o.$set(S),k&&k.p&&(!c||T&131168)&&ct(k,g,C,C[17],c?ft(g,C[17],T,cb):dt(C[17]),No),C[0].toDelete?$&&(ue(),I($,1,1,()=>{$=null}),fe()):$?($.p(C,T),T&1&&M($,1)):($=Ho(C),$.c(),M($,1),$.m(t,null))},i(C){c||(M(m,C),M(_,C),M(o.$$.fragment,C),M(k,C),M($),C&&Be(()=>{c&&(f||(f=Fe(e,Ge,{duration:150},!0)),f.run(1))}),c=!0)},o(C){I(m,C),I(_,C),I(o.$$.fragment,C),I(k,C),I($),C&&(f||(f=Fe(e,Ge,{duration:150},!1)),f.run(0)),c=!1},d(C){C&&y(e),m&&m.d(C),_&&_.d(C),V(o),k&&k.d(C),$&&$.d(),C&&f&&f.end()}}}function vb(n){let e,t,l,i,s,r,o,a,u,f,c,d;return{c(){e=h("input"),l=D(),i=h("label"),s=h("span"),r=B(n[4]),o=D(),a=h("i"),p(e,"type","checkbox"),p(e,"id",t=n[23]),p(s,"class","txt"),p(a,"class","ri-information-line link-hint"),p(i,"for",f=n[23])},m(m,v){w(m,e,v),e.checked=n[0].required,w(m,l,v),w(m,i,v),b(i,s),b(s,r),b(i,o),b(i,a),c||(d=[Y(e,"change",n[16]),$e(u=Pe.call(null,a,{text:`Requires the field value NOT to be ${j.zeroDefaultStr(n[0])}.`,position:"right"}))],c=!0)},p(m,v){v&8388608&&t!==(t=m[23])&&p(e,"id",t),v&1&&(e.checked=m[0].required),v&16&&oe(r,m[4]),u&&kt(u.update)&&v&1&&u.update.call(null,{text:`Requires the field value NOT to be ${j.zeroDefaultStr(m[0])}.`,position:"right"}),v&8388608&&f!==(f=m[23])&&p(i,"for",f)},d(m){m&&y(e),m&&y(l),m&&y(i),c=!1,Te(d)}}}function Ho(n){let e,t,l,i,s,r,o,a,u;return a=new gn({props:{class:"dropdown dropdown-sm dropdown-upside dropdown-right dropdown-nowrap no-min-width",$$slots:{default:[kb]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),l=D(),i=h("div"),s=h("button"),r=h("i"),o=D(),U(a.$$.fragment),p(t,"class","flex-fill"),p(r,"class","ri-more-line"),p(s,"type","button"),p(s,"aria-label","More"),p(s,"class","btn btn-circle btn-sm btn-transparent"),p(i,"class","inline-flex flex-gap-sm flex-nowrap"),p(e,"class","col-sm-4 m-l-auto txt-right")},m(f,c){w(f,e,c),b(e,t),b(e,l),b(e,i),b(i,s),b(s,r),b(s,o),H(a,s,null),u=!0},p(f,c){const d={};c&131072&&(d.$$scope={dirty:c,ctx:f}),a.$set(d)},i(f){u||(M(a.$$.fragment,f),u=!0)},o(f){I(a.$$.fragment,f),u=!1},d(f){f&&y(e),V(a)}}}function kb(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<span class="txt">Remove</span>',p(e,"type","button"),p(e,"class","dropdown-item txt-right")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[8]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function yb(n){let e,t,l,i,s,r,o,a,u,f=n[6]&&Po();i=new de({props:{class:"form-field required m-0 "+(n[6]?"":"disabled"),name:"schema."+n[1]+".name",inlineError:!0,$$slots:{default:[_b]},$$scope:{ctx:n}}});const c=n[13].default,d=ut(c,n,n[17],qo),m=d||hb();function v($,C){if($[0].toDelete)return gb;if($[6])return bb}let _=v(n),g=_&&_(n),k=n[6]&&n[3]&&jo(n);return{c(){e=h("div"),t=h("div"),f&&f.c(),l=D(),U(i.$$.fragment),s=D(),m&&m.c(),r=D(),g&&g.c(),o=D(),k&&k.c(),p(t,"class","schema-field-header"),p(e,"class","schema-field"),X(e,"required",n[0].required),X(e,"expanded",n[6]&&n[3]),X(e,"deleted",n[0].toDelete)},m($,C){w($,e,C),b(e,t),f&&f.m(t,null),b(t,l),H(i,t,null),b(t,s),m&&m.m(t,null),b(t,r),g&&g.m(t,null),b(e,o),k&&k.m(e,null),u=!0},p($,[C]){$[6]?f||(f=Po(),f.c(),f.m(t,l)):f&&(f.d(1),f=null);const T={};C&64&&(T.class="form-field required m-0 "+($[6]?"":"disabled")),C&2&&(T.name="schema."+$[1]+".name"),C&131157&&(T.$$scope={dirty:C,ctx:$}),i.$set(T),d&&d.p&&(!u||C&131168)&&ct(d,c,$,$[17],u?ft(c,$[17],C,mb):dt($[17]),qo),_===(_=v($))&&g?g.p($,C):(g&&g.d(1),g=_&&_($),g&&(g.c(),g.m(t,null))),$[6]&&$[3]?k?(k.p($,C),C&72&&M(k,1)):(k=jo($),k.c(),M(k,1),k.m(e,null)):k&&(ue(),I(k,1,1,()=>{k=null}),fe()),(!u||C&1)&&X(e,"required",$[0].required),(!u||C&72)&&X(e,"expanded",$[6]&&$[3]),(!u||C&1)&&X(e,"deleted",$[0].toDelete)},i($){u||(M(i.$$.fragment,$),M(m,$),M(k),$&&Be(()=>{u&&(a||(a=Fe(e,Ge,{duration:150},!0)),a.run(1))}),u=!0)},o($){I(i.$$.fragment,$),I(m,$),I(k),$&&(a||(a=Fe(e,Ge,{duration:150},!1)),a.run(0)),u=!1},d($){$&&y(e),f&&f.d(),V(i),m&&m.d($),g&&g.d(),k&&k.d(),$&&a&&a.end()}}}let ds=[];function wb(n,e,t){let l,i,s,r;Ve(n,Hn,F=>t(12,r=F));let{$$slots:o={},$$scope:a}=e;const u="f_"+j.randomString(8),f=pt(),c={bool:"Nonfalsey",number:"Nonzero"};let{key:d=""}=e,{field:m=new sn}=e,v,_=!1;function g(){m.id?t(0,m.toDelete=!0,m):f("remove")}function k(){t(0,m.toDelete=!1,m),jt({})}function $(F){return j.slugify(F)}function C(){t(3,_=!0),E()}function T(){t(3,_=!1)}function S(){_?T():C()}function E(){for(let F of ds)F.id!=u&&F.collapse()}Ut(()=>(ds.push({id:u,collapse:T}),m.onMountSelect&&(t(0,m.onMountSelect=!1,m),v==null||v.select()),()=>{j.removeByKey(ds,"id",u)}));function O(F){le[F?"unshift":"push"](()=>{v=F,t(2,v)})}const A=F=>{const L=m.name;t(0,m.name=$(F.target.value),m),F.target.value=m.name,f("rename",{oldName:L,newName:m.name})};function N(){m.required=this.checked,t(0,m)}return n.$$set=F=>{"key"in F&&t(1,d=F.key),"field"in F&&t(0,m=F.field),"$$scope"in F&&t(17,a=F.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&m.toDelete&&m.originalName&&m.name!==m.originalName&&t(0,m.name=m.originalName,m),n.$$.dirty&1&&!m.originalName&&m.name&&t(0,m.originalName=m.name,m),n.$$.dirty&1&&typeof m.toDelete>"u"&&t(0,m.toDelete=!1,m),n.$$.dirty&1&&m.required&&t(0,m.nullable=!1,m),n.$$.dirty&1&&t(6,l=!m.toDelete&&!(m.id&&m.system)),n.$$.dirty&4098&&t(5,i=!j.isEmpty(j.getNestedVal(r,`schema.${d}`))),n.$$.dirty&1&&t(4,s=c[m==null?void 0:m.type]||"Nonempty")},[m,d,v,_,s,i,l,f,g,k,$,S,r,o,O,A,N,a]}class Mn extends ge{constructor(e){super(),be(this,e,wb,yb,_e,{key:1,field:0})}}function $b(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Min length"),i=D(),s=h("input"),p(e,"for",l=n[9]),p(s,"type","number"),p(s,"id",r=n[9]),p(s,"step","1"),p(s,"min","0")},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].options.min),o||(a=Y(s,"input",n[3]),o=!0)},p(u,f){f&512&&l!==(l=u[9])&&p(e,"for",l),f&512&&r!==(r=u[9])&&p(s,"id",r),f&1&&lt(s.value)!==u[0].options.min&&re(s,u[0].options.min)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function Tb(n){let e,t,l,i,s,r,o,a,u;return{c(){e=h("label"),t=B("Max length"),i=D(),s=h("input"),p(e,"for",l=n[9]),p(s,"type","number"),p(s,"id",r=n[9]),p(s,"step","1"),p(s,"min",o=n[0].options.min||0)},m(f,c){w(f,e,c),b(e,t),w(f,i,c),w(f,s,c),re(s,n[0].options.max),a||(u=Y(s,"input",n[4]),a=!0)},p(f,c){c&512&&l!==(l=f[9])&&p(e,"for",l),c&512&&r!==(r=f[9])&&p(s,"id",r),c&1&&o!==(o=f[0].options.min||0)&&p(s,"min",o),c&1&&lt(s.value)!==f[0].options.max&&re(s,f[0].options.max)},d(f){f&&y(e),f&&y(i),f&&y(s),a=!1,u()}}}function Sb(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Regex pattern"),i=D(),s=h("input"),p(e,"for",l=n[9]),p(s,"type","text"),p(s,"id",r=n[9]),p(s,"placeholder","Valid Go regular expression, eg. ^\\w+$")},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].options.pattern),o||(a=Y(s,"input",n[5]),o=!0)},p(u,f){f&512&&l!==(l=u[9])&&p(e,"for",l),f&512&&r!==(r=u[9])&&p(s,"id",r),f&1&&s.value!==u[0].options.pattern&&re(s,u[0].options.pattern)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function Cb(n){let e,t,l,i,s,r,o,a,u,f;return l=new de({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[$b,({uniqueId:c})=>({9:c}),({uniqueId:c})=>c?512:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[Tb,({uniqueId:c})=>({9:c}),({uniqueId:c})=>c?512:0]},$$scope:{ctx:n}}}),u=new de({props:{class:"form-field",name:"schema."+n[1]+".options.pattern",$$slots:{default:[Sb,({uniqueId:c})=>({9:c}),({uniqueId:c})=>c?512:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),o=D(),a=h("div"),U(u.$$.fragment),p(t,"class","col-sm-3"),p(s,"class","col-sm-3"),p(a,"class","col-sm-6"),p(e,"class","grid grid-sm")},m(c,d){w(c,e,d),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),b(e,o),b(e,a),H(u,a,null),f=!0},p(c,d){const m={};d&2&&(m.name="schema."+c[1]+".options.min"),d&1537&&(m.$$scope={dirty:d,ctx:c}),l.$set(m);const v={};d&2&&(v.name="schema."+c[1]+".options.max"),d&1537&&(v.$$scope={dirty:d,ctx:c}),r.$set(v);const _={};d&2&&(_.name="schema."+c[1]+".options.pattern"),d&1537&&(_.$$scope={dirty:d,ctx:c}),u.$set(_)},i(c){f||(M(l.$$.fragment,c),M(r.$$.fragment,c),M(u.$$.fragment,c),f=!0)},o(c){I(l.$$.fragment,c),I(r.$$.fragment,c),I(u.$$.fragment,c),f=!1},d(c){c&&y(e),V(l),V(r),V(u)}}}function Eb(n){let e,t,l;const i=[{key:n[1]},n[2]];function s(o){n[6](o)}let r={$$slots:{options:[Cb]},$$scope:{ctx:n}};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mn({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[7]),e.$on("remove",n[8]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&6?mt(i,[a&2&&{key:o[1]},a&4&&Nt(o[2])]):{};a&1027&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function Ob(n,e,t){const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e;function o(){s.options.min=lt(this.value),t(0,s)}function a(){s.options.max=lt(this.value),t(0,s)}function u(){s.options.pattern=this.value,t(0,s)}function f(m){s=m,t(0,s)}function c(m){De.call(this,n,m)}function d(m){De.call(this,n,m)}return n.$$set=m=>{e=Ae(Ae({},e),It(m)),t(2,i=ze(e,l)),"field"in m&&t(0,s=m.field),"key"in m&&t(1,r=m.key)},[s,r,i,o,a,u,f,c,d]}class Db extends ge{constructor(e){super(),be(this,e,Ob,Eb,_e,{field:0,key:1})}}function Ab(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Min"),i=D(),s=h("input"),p(e,"for",l=n[8]),p(s,"type","number"),p(s,"id",r=n[8])},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].options.min),o||(a=Y(s,"input",n[3]),o=!0)},p(u,f){f&256&&l!==(l=u[8])&&p(e,"for",l),f&256&&r!==(r=u[8])&&p(s,"id",r),f&1&&lt(s.value)!==u[0].options.min&&re(s,u[0].options.min)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function Mb(n){let e,t,l,i,s,r,o,a,u;return{c(){e=h("label"),t=B("Max"),i=D(),s=h("input"),p(e,"for",l=n[8]),p(s,"type","number"),p(s,"id",r=n[8]),p(s,"min",o=n[0].options.min)},m(f,c){w(f,e,c),b(e,t),w(f,i,c),w(f,s,c),re(s,n[0].options.max),a||(u=Y(s,"input",n[4]),a=!0)},p(f,c){c&256&&l!==(l=f[8])&&p(e,"for",l),c&256&&r!==(r=f[8])&&p(s,"id",r),c&1&&o!==(o=f[0].options.min)&&p(s,"min",o),c&1&&lt(s.value)!==f[0].options.max&&re(s,f[0].options.max)},d(f){f&&y(e),f&&y(i),f&&y(s),a=!1,u()}}}function Ib(n){let e,t,l,i,s,r,o;return l=new de({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[Ab,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[Mb,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),p(t,"class","col-sm-6"),p(s,"class","col-sm-6"),p(e,"class","grid grid-sm")},m(a,u){w(a,e,u),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),o=!0},p(a,u){const f={};u&2&&(f.name="schema."+a[1]+".options.min"),u&769&&(f.$$scope={dirty:u,ctx:a}),l.$set(f);const c={};u&2&&(c.name="schema."+a[1]+".options.max"),u&769&&(c.$$scope={dirty:u,ctx:a}),r.$set(c)},i(a){o||(M(l.$$.fragment,a),M(r.$$.fragment,a),o=!0)},o(a){I(l.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&y(e),V(l),V(r)}}}function Nb(n){let e,t,l;const i=[{key:n[1]},n[2]];function s(o){n[5](o)}let r={$$slots:{options:[Ib]},$$scope:{ctx:n}};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mn({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[6]),e.$on("remove",n[7]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&6?mt(i,[a&2&&{key:o[1]},a&4&&Nt(o[2])]):{};a&515&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function Fb(n,e,t){const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e;function o(){s.options.min=lt(this.value),t(0,s)}function a(){s.options.max=lt(this.value),t(0,s)}function u(d){s=d,t(0,s)}function f(d){De.call(this,n,d)}function c(d){De.call(this,n,d)}return n.$$set=d=>{e=Ae(Ae({},e),It(d)),t(2,i=ze(e,l)),"field"in d&&t(0,s=d.field),"key"in d&&t(1,r=d.key)},[s,r,i,o,a,u,f,c]}class Lb extends ge{constructor(e){super(),be(this,e,Fb,Nb,_e,{field:0,key:1})}}function qb(n){let e,t,l;const i=[{key:n[1]},n[2]];function s(o){n[3](o)}let r={};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mn({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[4]),e.$on("remove",n[5]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&6?mt(i,[a&2&&{key:o[1]},a&4&&Nt(o[2])]):{};!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function Pb(n,e,t){const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e;function o(f){s=f,t(0,s)}function a(f){De.call(this,n,f)}function u(f){De.call(this,n,f)}return n.$$set=f=>{e=Ae(Ae({},e),It(f)),t(2,i=ze(e,l)),"field"in f&&t(0,s=f.field),"key"in f&&t(1,r=f.key)},[s,r,i,o,a,u]}class Rb extends ge{constructor(e){super(),be(this,e,Pb,qb,_e,{field:0,key:1})}}function jb(n){let e,t,l,i,s,r,o,a,u,f,c,d,m;function v(g){n[3](g)}let _={id:n[8],disabled:!j.isEmpty(n[0].options.onlyDomains)};return n[0].options.exceptDomains!==void 0&&(_.value=n[0].options.exceptDomains),o=new Ll({props:_}),le.push(()=>me(o,"value",v)),{c(){e=h("label"),t=h("span"),t.textContent="Except domains",l=D(),i=h("i"),r=D(),U(o.$$.fragment),u=D(),f=h("div"),f.textContent="Use comma as separator.",p(t,"class","txt"),p(i,"class","ri-information-line link-hint"),p(e,"for",s=n[8]),p(f,"class","help-block")},m(g,k){w(g,e,k),b(e,t),b(e,l),b(e,i),w(g,r,k),H(o,g,k),w(g,u,k),w(g,f,k),c=!0,d||(m=$e(Pe.call(null,i,{text:`List of domains that are NOT allowed. 
 This field is disabled if "Only domains" is set.`,position:"top"})),d=!0)},p(g,k){(!c||k&256&&s!==(s=g[8]))&&p(e,"for",s);const $={};k&256&&($.id=g[8]),k&1&&($.disabled=!j.isEmpty(g[0].options.onlyDomains)),!a&&k&1&&(a=!0,$.value=g[0].options.exceptDomains,he(()=>a=!1)),o.$set($)},i(g){c||(M(o.$$.fragment,g),c=!0)},o(g){I(o.$$.fragment,g),c=!1},d(g){g&&y(e),g&&y(r),V(o,g),g&&y(u),g&&y(f),d=!1,m()}}}function Hb(n){let e,t,l,i,s,r,o,a,u,f,c,d,m;function v(g){n[4](g)}let _={id:n[8]+".options.onlyDomains",disabled:!j.isEmpty(n[0].options.exceptDomains)};return n[0].options.onlyDomains!==void 0&&(_.value=n[0].options.onlyDomains),o=new Ll({props:_}),le.push(()=>me(o,"value",v)),{c(){e=h("label"),t=h("span"),t.textContent="Only domains",l=D(),i=h("i"),r=D(),U(o.$$.fragment),u=D(),f=h("div"),f.textContent="Use comma as separator.",p(t,"class","txt"),p(i,"class","ri-information-line link-hint"),p(e,"for",s=n[8]+".options.onlyDomains"),p(f,"class","help-block")},m(g,k){w(g,e,k),b(e,t),b(e,l),b(e,i),w(g,r,k),H(o,g,k),w(g,u,k),w(g,f,k),c=!0,d||(m=$e(Pe.call(null,i,{text:`List of domains that are ONLY allowed. 
 This field is disabled if "Except domains" is set.`,position:"top"})),d=!0)},p(g,k){(!c||k&256&&s!==(s=g[8]+".options.onlyDomains"))&&p(e,"for",s);const $={};k&256&&($.id=g[8]+".options.onlyDomains"),k&1&&($.disabled=!j.isEmpty(g[0].options.exceptDomains)),!a&&k&1&&(a=!0,$.value=g[0].options.onlyDomains,he(()=>a=!1)),o.$set($)},i(g){c||(M(o.$$.fragment,g),c=!0)},o(g){I(o.$$.fragment,g),c=!1},d(g){g&&y(e),g&&y(r),V(o,g),g&&y(u),g&&y(f),d=!1,m()}}}function Vb(n){let e,t,l,i,s,r,o;return l=new de({props:{class:"form-field",name:"schema."+n[1]+".options.exceptDomains",$$slots:{default:[jb,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field",name:"schema."+n[1]+".options.onlyDomains",$$slots:{default:[Hb,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),p(t,"class","col-sm-6"),p(s,"class","col-sm-6"),p(e,"class","grid grid-sm")},m(a,u){w(a,e,u),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),o=!0},p(a,u){const f={};u&2&&(f.name="schema."+a[1]+".options.exceptDomains"),u&769&&(f.$$scope={dirty:u,ctx:a}),l.$set(f);const c={};u&2&&(c.name="schema."+a[1]+".options.onlyDomains"),u&769&&(c.$$scope={dirty:u,ctx:a}),r.$set(c)},i(a){o||(M(l.$$.fragment,a),M(r.$$.fragment,a),o=!0)},o(a){I(l.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&y(e),V(l),V(r)}}}function Ub(n){let e,t,l;const i=[{key:n[1]},n[2]];function s(o){n[5](o)}let r={$$slots:{options:[Vb]},$$scope:{ctx:n}};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mn({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[6]),e.$on("remove",n[7]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&6?mt(i,[a&2&&{key:o[1]},a&4&&Nt(o[2])]):{};a&515&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function zb(n,e,t){const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e;function o(d){n.$$.not_equal(s.options.exceptDomains,d)&&(s.options.exceptDomains=d,t(0,s))}function a(d){n.$$.not_equal(s.options.onlyDomains,d)&&(s.options.onlyDomains=d,t(0,s))}function u(d){s=d,t(0,s)}function f(d){De.call(this,n,d)}function c(d){De.call(this,n,d)}return n.$$set=d=>{e=Ae(Ae({},e),It(d)),t(2,i=ze(e,l)),"field"in d&&t(0,s=d.field),"key"in d&&t(1,r=d.key)},[s,r,i,o,a,u,f,c]}class lm extends ge{constructor(e){super(),be(this,e,zb,Ub,_e,{field:0,key:1})}}function Bb(n){let e,t,l;const i=[{key:n[1]},n[2]];function s(o){n[3](o)}let r={};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new lm({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[4]),e.$on("remove",n[5]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&6?mt(i,[a&2&&{key:o[1]},a&4&&Nt(o[2])]):{};!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function Wb(n,e,t){const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e;function o(f){s=f,t(0,s)}function a(f){De.call(this,n,f)}function u(f){De.call(this,n,f)}return n.$$set=f=>{e=Ae(Ae({},e),It(f)),t(2,i=ze(e,l)),"field"in f&&t(0,s=f.field),"key"in f&&t(1,r=f.key)},[s,r,i,o,a,u]}class Kb extends ge{constructor(e){super(),be(this,e,Wb,Bb,_e,{field:0,key:1})}}function Yb(n){let e,t,l;const i=[{key:n[1]},n[2]];function s(o){n[3](o)}let r={};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mn({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[4]),e.$on("remove",n[5]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&6?mt(i,[a&2&&{key:o[1]},a&4&&Nt(o[2])]):{};!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function Jb(n,e,t){const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e;function o(f){s=f,t(0,s)}function a(f){De.call(this,n,f)}function u(f){De.call(this,n,f)}return n.$$set=f=>{e=Ae(Ae({},e),It(f)),t(2,i=ze(e,l)),"field"in f&&t(0,s=f.field),"key"in f&&t(1,r=f.key)},[s,r,i,o,a,u]}class Zb extends ge{constructor(e){super(),be(this,e,Jb,Yb,_e,{field:0,key:1})}}var ps=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Tl={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Ql={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},en=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},mn=function(n){return n===!0?1:0};function Vo(n,e){var t;return function(){var l=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(l,i)},e)}}var ms=function(n){return n instanceof Array?n:[n]};function Jt(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function tt(n,e,t){var l=window.document.createElement(n);return e=e||"",t=t||"",l.className=e,t!==void 0&&(l.textContent=t),l}function gi(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function im(n,e){if(e(n))return n;if(n.parentNode)return im(n.parentNode,e)}function vi(n,e){var t=tt("div","numInputWrapper"),l=tt("input","numInput "+n),i=tt("span","arrowUp"),s=tt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?l.type="number":(l.type="text",l.pattern="\\d*"),e!==void 0)for(var r in e)l.setAttribute(r,e[r]);return t.appendChild(l),t.appendChild(i),t.appendChild(s),t}function on(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var _s=function(){},Pi=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},Gb={D:_s,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*mn(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var l=parseInt(e),i=new Date(n.getFullYear(),0,2+(l-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:_s,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:_s,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},sl={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Yl={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[Yl.w(n,e,t)]},F:function(n,e,t){return Pi(Yl.n(n,e,t)-1,!1,e)},G:function(n,e,t){return en(Yl.h(n,e,t))},H:function(n){return en(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[mn(n.getHours()>11)]},M:function(n,e){return Pi(n.getMonth(),!0,e)},S:function(n){return en(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return en(n.getFullYear(),4)},d:function(n){return en(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return en(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return en(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},sm=function(n){var e=n.config,t=e===void 0?Tl:e,l=n.l10n,i=l===void 0?Ql:l,s=n.isMobile,r=s===void 0?!1:s;return function(o,a,u){var f=u||i;return t.formatDate!==void 0&&!r?t.formatDate(o,a,f):a.split("").map(function(c,d,m){return Yl[c]&&m[d-1]!=="\\"?Yl[c](o,f,t):c!=="\\"?c:""}).join("")}},js=function(n){var e=n.config,t=e===void 0?Tl:e,l=n.l10n,i=l===void 0?Ql:l;return function(s,r,o,a){if(!(s!==0&&!s)){var u=a||i,f,c=s;if(s instanceof Date)f=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)f=new Date(s);else if(typeof s=="string"){var d=r||(t||Tl).dateFormat,m=String(s).trim();if(m==="today")f=new Date,o=!0;else if(t&&t.parseDate)f=t.parseDate(s,d);else if(/Z$/.test(m)||/GMT$/.test(m))f=new Date(s);else{for(var v=void 0,_=[],g=0,k=0,$="";g<d.length;g++){var C=d[g],T=C==="\\",S=d[g-1]==="\\"||T;if(sl[C]&&!S){$+=sl[C];var E=new RegExp($).exec(s);E&&(v=!0)&&_[C!=="Y"?"push":"unshift"]({fn:Gb[C],val:E[++k]})}else T||($+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),_.forEach(function(O){var A=O.fn,N=O.val;return f=A(f,N,u)||f}),f=v?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+c));return}return o===!0&&f.setHours(0,0,0,0),f}}};function an(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var Qb=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},hs=function(n,e,t){return n*3600+e*60+t},Xb=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},xb={DAY:864e5};function bs(n){var e=n.defaultHour,t=n.defaultMinute,l=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),s=n.minDate.getMinutes(),r=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<s&&(t=s),e===i&&t===s&&l<r&&(l=n.minDate.getSeconds())}if(n.maxDate!==void 0){var o=n.maxDate.getHours(),a=n.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(a,t)),e===o&&t===a&&(l=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:l}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var l=function(o){o&&Object.keys(o).forEach(function(a){return n[a]=o[a]})},i=0,s=e;i<s.length;i++){var r=s[i];l(r)}return n});var Bt=globalThis&&globalThis.__assign||function(){return Bt=Object.assign||function(n){for(var e,t=1,l=arguments.length;t<l;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bt.apply(this,arguments)},Uo=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var l=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],r=0,o=s.length;r<o;r++,i++)l[i]=s[r];return l},eg=300;function tg(n,e){var t={config:Bt(Bt({},Tl),Et.defaultConfig),l10n:Ql};t.parseDate=js({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=_,t._setHoursFromDate=d,t._positionCalendar=nt,t.changeMonth=ee,t.changeYear=xe,t.clear=te,t.close=pe,t.onMouseOver=Dt,t._createElement=tt,t.createDay=E,t.destroy=Ee,t.isEnabled=Je,t.jumpToDate=$,t.updateValue=Fn,t.open=ie,t.redraw=xt,t.set=_t,t.setDate=Gi,t.toggle=Me;function l(){t.utils={getDaysInMonth:function(W,G){return W===void 0&&(W=t.currentMonth),G===void 0&&(G=t.currentYear),W===1&&(G%4===0&&G%100!==0||G%400===0)?29:t.l10n.daysInMonth[W]}}}function i(){t.element=t.input=n,t.isOpen=!1,at(),ye(),Xi(),Qi(),l(),t.isMobile||S(),k(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&d(t.config.noCalendar?t.latestSelectedDateObj:void 0),Fn(!1)),o();var W=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&W&&nt(),qe("onReady")}function s(){var W;return((W=t.calendarContainer)===null||W===void 0?void 0:W.getRootNode()).activeElement||document.activeElement}function r(W){return W.bind(t)}function o(){var W=t.config;W.weekNumbers===!1&&W.showMonths===1||W.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var G=(t.days.offsetWidth+1)*W.showMonths;t.daysContainer.style.width=G+"px",t.calendarContainer.style.width=G+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function a(W){if(t.selectedDates.length===0){var G=t.config.minDate===void 0||an(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),ne=bs(t.config);G.setHours(ne.hours,ne.minutes,ne.seconds,G.getMilliseconds()),t.selectedDates=[G],t.latestSelectedDateObj=G}W!==void 0&&W.type!=="blur"&&mm(W);var ae=t._input.value;c(),Fn(),t._input.value!==ae&&t._debouncedChange()}function u(W,G){return W%12+12*mn(G===t.l10n.amPM[1])}function f(W){switch(W%24){case 0:case 12:return 12;default:return W%12}}function c(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var W=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,G=(parseInt(t.minuteElement.value,10)||0)%60,ne=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(W=u(W,t.amPM.textContent));var ae=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&an(t.latestSelectedDateObj,t.config.minDate,!0)===0,we=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&an(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Ce=hs(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),He=hs(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Ne=hs(W,G,ne);if(Ne>He&&Ne<Ce){var Ue=Xb(Ce);W=Ue[0],G=Ue[1],ne=Ue[2]}}else{if(we){var Ie=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;W=Math.min(W,Ie.getHours()),W===Ie.getHours()&&(G=Math.min(G,Ie.getMinutes())),G===Ie.getMinutes()&&(ne=Math.min(ne,Ie.getSeconds()))}if(ae){var Re=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;W=Math.max(W,Re.getHours()),W===Re.getHours()&&G<Re.getMinutes()&&(G=Re.getMinutes()),G===Re.getMinutes()&&(ne=Math.max(ne,Re.getSeconds()))}}m(W,G,ne)}}function d(W){var G=W||t.latestSelectedDateObj;G&&G instanceof Date&&m(G.getHours(),G.getMinutes(),G.getSeconds())}function m(W,G,ne){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(W%24,G,ne||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=en(t.config.time_24hr?W:(12+W)%12+12*mn(W%12===0)),t.minuteElement.value=en(G),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[mn(W>=12)]),t.secondElement!==void 0&&(t.secondElement.value=en(ne)))}function v(W){var G=on(W),ne=parseInt(G.value)+(W.delta||0);(ne/1e3>1||W.key==="Enter"&&!/[^\d]/.test(ne.toString()))&&xe(ne)}function _(W,G,ne,ae){if(G instanceof Array)return G.forEach(function(we){return _(W,we,ne,ae)});if(W instanceof Array)return W.forEach(function(we){return _(we,G,ne,ae)});W.addEventListener(G,ne,ae),t._handlers.push({remove:function(){return W.removeEventListener(G,ne,ae)}})}function g(){qe("onChange")}function k(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(ne){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+ne+"]"),function(ae){return _(ae,"click",t[ne])})}),t.isMobile){ve();return}var W=Vo(Lt,50);if(t._debouncedChange=Vo(g,eg),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&_(t.daysContainer,"mouseover",function(ne){t.config.mode==="range"&&Dt(on(ne))}),_(t._input,"keydown",Tt),t.calendarContainer!==void 0&&_(t.calendarContainer,"keydown",Tt),!t.config.inline&&!t.config.static&&_(window,"resize",W),window.ontouchstart!==void 0?_(window.document,"touchstart",ot):_(window.document,"mousedown",ot),_(window.document,"focus",ot,{capture:!0}),t.config.clickOpens===!0&&(_(t._input,"focus",t.open),_(t._input,"click",t.open)),t.daysContainer!==void 0&&(_(t.monthNav,"click",pm),_(t.monthNav,["keyup","increment"],v),_(t.daysContainer,"click",xn)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var G=function(ne){return on(ne).select()};_(t.timeContainer,["increment"],a),_(t.timeContainer,"blur",a,{capture:!0}),_(t.timeContainer,"click",C),_([t.hourElement,t.minuteElement],["focus","click"],G),t.secondElement!==void 0&&_(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&_(t.amPM,"click",function(ne){a(ne)})}t.config.allowInput&&_(t._input,"blur",Ft)}function $(W,G){var ne=W!==void 0?t.parseDate(W):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),ae=t.currentYear,we=t.currentMonth;try{ne!==void 0&&(t.currentYear=ne.getFullYear(),t.currentMonth=ne.getMonth())}catch(Ce){Ce.message="Invalid date supplied: "+ne,t.config.errorHandler(Ce)}G&&t.currentYear!==ae&&(qe("onYearChange"),R()),G&&(t.currentYear!==ae||t.currentMonth!==we)&&qe("onMonthChange"),t.redraw()}function C(W){var G=on(W);~G.className.indexOf("arrow")&&T(W,G.classList.contains("arrowUp")?1:-1)}function T(W,G,ne){var ae=W&&on(W),we=ne||ae&&ae.parentNode&&ae.parentNode.firstChild,Ce=Ye("increment");Ce.delta=G,we&&we.dispatchEvent(Ce)}function S(){var W=window.document.createDocumentFragment();if(t.calendarContainer=tt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(W.appendChild(K()),t.innerContainer=tt("div","flatpickr-innerContainer"),t.config.weekNumbers){var G=se(),ne=G.weekWrapper,ae=G.weekNumbers;t.innerContainer.appendChild(ne),t.weekNumbers=ae,t.weekWrapper=ne}t.rContainer=tt("div","flatpickr-rContainer"),t.rContainer.appendChild(J()),t.daysContainer||(t.daysContainer=tt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),P(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),W.appendChild(t.innerContainer)}t.config.enableTime&&W.appendChild(Q()),Jt(t.calendarContainer,"rangeMode",t.config.mode==="range"),Jt(t.calendarContainer,"animate",t.config.animate===!0),Jt(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(W);var we=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!we&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Ce=tt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Ce,t.element),Ce.appendChild(t.element),t.altInput&&Ce.appendChild(t.altInput),Ce.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function E(W,G,ne,ae){var we=Je(G,!0),Ce=tt("span",W,G.getDate().toString());return Ce.dateObj=G,Ce.$i=ae,Ce.setAttribute("aria-label",t.formatDate(G,t.config.ariaDateFormat)),W.indexOf("hidden")===-1&&an(G,t.now)===0&&(t.todayDateElem=Ce,Ce.classList.add("today"),Ce.setAttribute("aria-current","date")),we?(Ce.tabIndex=-1,zt(G)&&(Ce.classList.add("selected"),t.selectedDateElem=Ce,t.config.mode==="range"&&(Jt(Ce,"startRange",t.selectedDates[0]&&an(G,t.selectedDates[0],!0)===0),Jt(Ce,"endRange",t.selectedDates[1]&&an(G,t.selectedDates[1],!0)===0),W==="nextMonthDay"&&Ce.classList.add("inRange")))):Ce.classList.add("flatpickr-disabled"),t.config.mode==="range"&&zn(G)&&!zt(G)&&Ce.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&W!=="prevMonthDay"&&ae%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(G)+"</span>"),qe("onDayCreate",Ce),Ce}function O(W){W.focus(),t.config.mode==="range"&&Dt(W)}function A(W){for(var G=W>0?0:t.config.showMonths-1,ne=W>0?t.config.showMonths:-1,ae=G;ae!=ne;ae+=W)for(var we=t.daysContainer.children[ae],Ce=W>0?0:we.children.length-1,He=W>0?we.children.length:-1,Ne=Ce;Ne!=He;Ne+=W){var Ue=we.children[Ne];if(Ue.className.indexOf("hidden")===-1&&Je(Ue.dateObj))return Ue}}function N(W,G){for(var ne=W.className.indexOf("Month")===-1?W.dateObj.getMonth():t.currentMonth,ae=G>0?t.config.showMonths:-1,we=G>0?1:-1,Ce=ne-t.currentMonth;Ce!=ae;Ce+=we)for(var He=t.daysContainer.children[Ce],Ne=ne-t.currentMonth===Ce?W.$i+G:G<0?He.children.length-1:0,Ue=He.children.length,Ie=Ne;Ie>=0&&Ie<Ue&&Ie!=(G>0?Ue:-1);Ie+=we){var Re=He.children[Ie];if(Re.className.indexOf("hidden")===-1&&Je(Re.dateObj)&&Math.abs(W.$i-Ie)>=Math.abs(G))return O(Re)}t.changeMonth(we),F(A(we),0)}function F(W,G){var ne=s(),ae=$t(ne||document.body),we=W!==void 0?W:ae?ne:t.selectedDateElem!==void 0&&$t(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&$t(t.todayDateElem)?t.todayDateElem:A(G>0?1:-1);we===void 0?t._input.focus():ae?N(we,G):O(we)}function L(W,G){for(var ne=(new Date(W,G,1).getDay()-t.l10n.firstDayOfWeek+7)%7,ae=t.utils.getDaysInMonth((G-1+12)%12,W),we=t.utils.getDaysInMonth(G,W),Ce=window.document.createDocumentFragment(),He=t.config.showMonths>1,Ne=He?"prevMonthDay hidden":"prevMonthDay",Ue=He?"nextMonthDay hidden":"nextMonthDay",Ie=ae+1-ne,Re=0;Ie<=ae;Ie++,Re++)Ce.appendChild(E("flatpickr-day "+Ne,new Date(W,G-1,Ie),Ie,Re));for(Ie=1;Ie<=we;Ie++,Re++)Ce.appendChild(E("flatpickr-day",new Date(W,G,Ie),Ie,Re));for(var st=we+1;st<=42-ne&&(t.config.showMonths===1||Re%7!==0);st++,Re++)Ce.appendChild(E("flatpickr-day "+Ue,new Date(W,G+1,st%we),st,Re));var Tn=tt("div","dayContainer");return Tn.appendChild(Ce),Tn}function P(){if(t.daysContainer!==void 0){gi(t.daysContainer),t.weekNumbers&&gi(t.weekNumbers);for(var W=document.createDocumentFragment(),G=0;G<t.config.showMonths;G++){var ne=new Date(t.currentYear,t.currentMonth,1);ne.setMonth(t.currentMonth+G),W.appendChild(L(ne.getFullYear(),ne.getMonth()))}t.daysContainer.appendChild(W),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Dt()}}function R(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var W=function(ae){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&ae<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&ae>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var G=0;G<12;G++)if(W(G)){var ne=tt("option","flatpickr-monthDropdown-month");ne.value=new Date(t.currentYear,G).getMonth().toString(),ne.textContent=Pi(G,t.config.shorthandCurrentMonth,t.l10n),ne.tabIndex=-1,t.currentMonth===G&&(ne.selected=!0),t.monthsDropdownContainer.appendChild(ne)}}}function q(){var W=tt("div","flatpickr-month"),G=window.document.createDocumentFragment(),ne;t.config.showMonths>1||t.config.monthSelectorType==="static"?ne=tt("span","cur-month"):(t.monthsDropdownContainer=tt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),_(t.monthsDropdownContainer,"change",function(He){var Ne=on(He),Ue=parseInt(Ne.value,10);t.changeMonth(Ue-t.currentMonth),qe("onMonthChange")}),R(),ne=t.monthsDropdownContainer);var ae=vi("cur-year",{tabindex:"-1"}),we=ae.getElementsByTagName("input")[0];we.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&we.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(we.setAttribute("max",t.config.maxDate.getFullYear().toString()),we.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Ce=tt("div","flatpickr-current-month");return Ce.appendChild(ne),Ce.appendChild(ae),G.appendChild(Ce),W.appendChild(G),{container:W,yearElement:we,monthElement:ne}}function z(){gi(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var W=t.config.showMonths;W--;){var G=q();t.yearElements.push(G.yearElement),t.monthElements.push(G.monthElement),t.monthNav.appendChild(G.container)}t.monthNav.appendChild(t.nextMonthNav)}function K(){return t.monthNav=tt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=tt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=tt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,z(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(W){t.__hidePrevMonthArrow!==W&&(Jt(t.prevMonthNav,"flatpickr-disabled",W),t.__hidePrevMonthArrow=W)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(W){t.__hideNextMonthArrow!==W&&(Jt(t.nextMonthNav,"flatpickr-disabled",W),t.__hideNextMonthArrow=W)}}),t.currentYearElement=t.yearElements[0],Nn(),t.monthNav}function Q(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var W=bs(t.config);t.timeContainer=tt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var G=tt("span","flatpickr-time-separator",":"),ne=vi("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=ne.getElementsByTagName("input")[0];var ae=vi("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=ae.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=en(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?W.hours:f(W.hours)),t.minuteElement.value=en(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():W.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ne),t.timeContainer.appendChild(G),t.timeContainer.appendChild(ae),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var we=vi("flatpickr-second");t.secondElement=we.getElementsByTagName("input")[0],t.secondElement.value=en(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():W.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(tt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(we)}return t.config.time_24hr||(t.amPM=tt("span","flatpickr-am-pm",t.l10n.amPM[mn((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function J(){t.weekdayContainer?gi(t.weekdayContainer):t.weekdayContainer=tt("div","flatpickr-weekdays");for(var W=t.config.showMonths;W--;){var G=tt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(G)}return Z(),t.weekdayContainer}function Z(){if(t.weekdayContainer){var W=t.l10n.firstDayOfWeek,G=Uo(t.l10n.weekdays.shorthand);W>0&&W<G.length&&(G=Uo(G.splice(W,G.length),G.splice(0,W)));for(var ne=t.config.showMonths;ne--;)t.weekdayContainer.children[ne].innerHTML=`
      <span class='flatpickr-weekday'>
        `+G.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function se(){t.calendarContainer.classList.add("hasWeeks");var W=tt("div","flatpickr-weekwrapper");W.appendChild(tt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var G=tt("div","flatpickr-weeks");return W.appendChild(G),{weekWrapper:W,weekNumbers:G}}function ee(W,G){G===void 0&&(G=!0);var ne=G?W:W-t.currentMonth;ne<0&&t._hidePrevMonthArrow===!0||ne>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=ne,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,qe("onYearChange"),R()),P(),qe("onMonthChange"),Nn())}function te(W,G){if(W===void 0&&(W=!0),G===void 0&&(G=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,G===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var ne=bs(t.config),ae=ne.hours,we=ne.minutes,Ce=ne.seconds;m(ae,we,Ce)}t.redraw(),W&&qe("onChange")}function pe(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),qe("onClose")}function Ee(){t.config!==void 0&&qe("onDestroy");for(var W=t._handlers.length;W--;)t._handlers[W].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var G=t.calendarContainer.parentNode;if(G.lastChild&&G.removeChild(G.lastChild),G.parentNode){for(;G.firstChild;)G.parentNode.insertBefore(G.firstChild,G);G.parentNode.removeChild(G)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ne){try{delete t[ne]}catch{}})}function We(W){return t.calendarContainer.contains(W)}function ot(W){if(t.isOpen&&!t.config.inline){var G=on(W),ne=We(G),ae=G===t.input||G===t.altInput||t.element.contains(G)||W.path&&W.path.indexOf&&(~W.path.indexOf(t.input)||~W.path.indexOf(t.altInput)),we=!ae&&!ne&&!We(W.relatedTarget),Ce=!t.config.ignoredFocusElements.some(function(He){return He.contains(G)});we&&Ce&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&a(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function xe(W){if(!(!W||t.config.minDate&&W<t.config.minDate.getFullYear()||t.config.maxDate&&W>t.config.maxDate.getFullYear())){var G=W,ne=t.currentYear!==G;t.currentYear=G||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),ne&&(t.redraw(),qe("onYearChange"),R())}}function Je(W,G){var ne;G===void 0&&(G=!0);var ae=t.parseDate(W,void 0,G);if(t.config.minDate&&ae&&an(ae,t.config.minDate,G!==void 0?G:!t.minDateHasTime)<0||t.config.maxDate&&ae&&an(ae,t.config.maxDate,G!==void 0?G:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(ae===void 0)return!1;for(var we=!!t.config.enable,Ce=(ne=t.config.enable)!==null&&ne!==void 0?ne:t.config.disable,He=0,Ne=void 0;He<Ce.length;He++){if(Ne=Ce[He],typeof Ne=="function"&&Ne(ae))return we;if(Ne instanceof Date&&ae!==void 0&&Ne.getTime()===ae.getTime())return we;if(typeof Ne=="string"){var Ue=t.parseDate(Ne,void 0,!0);return Ue&&Ue.getTime()===ae.getTime()?we:!we}else if(typeof Ne=="object"&&ae!==void 0&&Ne.from&&Ne.to&&ae.getTime()>=Ne.from.getTime()&&ae.getTime()<=Ne.to.getTime())return we}return!we}function $t(W){return t.daysContainer!==void 0?W.className.indexOf("hidden")===-1&&W.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(W):!1}function Ft(W){var G=W.target===t._input,ne=t._input.value.trimEnd()!==xi();G&&ne&&!(W.relatedTarget&&We(W.relatedTarget))&&t.setDate(t._input.value,!0,W.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Tt(W){var G=on(W),ne=t.config.wrap?n.contains(G):G===t._input,ae=t.config.allowInput,we=t.isOpen&&(!ae||!ne),Ce=t.config.inline&&ne&&!ae;if(W.keyCode===13&&ne){if(ae)return t.setDate(t._input.value,!0,G===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),G.blur();t.open()}else if(We(G)||we||Ce){var He=!!t.timeContainer&&t.timeContainer.contains(G);switch(W.keyCode){case 13:He?(W.preventDefault(),a(),Xn()):xn(W);break;case 27:W.preventDefault(),Xn();break;case 8:case 46:ne&&!t.config.allowInput&&(W.preventDefault(),t.clear());break;case 37:case 39:if(!He&&!ne){W.preventDefault();var Ne=s();if(t.daysContainer!==void 0&&(ae===!1||Ne&&$t(Ne))){var Ue=W.keyCode===39?1:-1;W.ctrlKey?(W.stopPropagation(),ee(Ue),F(A(1),0)):F(void 0,Ue)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:W.preventDefault();var Ie=W.keyCode===40?1:-1;t.daysContainer&&G.$i!==void 0||G===t.input||G===t.altInput?W.ctrlKey?(W.stopPropagation(),xe(t.currentYear-Ie),F(A(1),0)):He||F(void 0,Ie*7):G===t.currentYearElement?xe(t.currentYear-Ie):t.config.enableTime&&(!He&&t.hourElement&&t.hourElement.focus(),a(W),t._debouncedChange());break;case 9:if(He){var Re=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(rn){return rn}),st=Re.indexOf(G);if(st!==-1){var Tn=Re[st+(W.shiftKey?-1:1)];W.preventDefault(),(Tn||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(G)&&W.shiftKey&&(W.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&G===t.amPM)switch(W.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],c(),Fn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],c(),Fn();break}(ne||We(G))&&qe("onKeyDown",W)}function Dt(W,G){if(G===void 0&&(G="flatpickr-day"),!(t.selectedDates.length!==1||W&&(!W.classList.contains(G)||W.classList.contains("flatpickr-disabled")))){for(var ne=W?W.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),ae=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),we=Math.min(ne,t.selectedDates[0].getTime()),Ce=Math.max(ne,t.selectedDates[0].getTime()),He=!1,Ne=0,Ue=0,Ie=we;Ie<Ce;Ie+=xb.DAY)Je(new Date(Ie),!0)||(He=He||Ie>we&&Ie<Ce,Ie<ae&&(!Ne||Ie>Ne)?Ne=Ie:Ie>ae&&(!Ue||Ie<Ue)&&(Ue=Ie));var Re=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+G));Re.forEach(function(st){var Tn=st.dateObj,rn=Tn.getTime(),ql=Ne>0&&rn<Ne||Ue>0&&rn>Ue;if(ql){st.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(_l){st.classList.remove(_l)});return}else if(He&&!ql)return;["startRange","inRange","endRange","notAllowed"].forEach(function(_l){st.classList.remove(_l)}),W!==void 0&&(W.classList.add(ne<=t.selectedDates[0].getTime()?"startRange":"endRange"),ae<ne&&rn===ae?st.classList.add("startRange"):ae>ne&&rn===ae&&st.classList.add("endRange"),rn>=Ne&&(Ue===0||rn<=Ue)&&Qb(rn,ae,ne)&&st.classList.add("inRange"))})}}function Lt(){t.isOpen&&!t.config.static&&!t.config.inline&&nt()}function ie(W,G){if(G===void 0&&(G=t._positionElement),t.isMobile===!0){if(W){W.preventDefault();var ne=on(W);ne&&ne.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),qe("onOpen");return}else if(t._input.disabled||t.config.inline)return;var ae=t.isOpen;t.isOpen=!0,ae||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),qe("onOpen"),nt(G)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(W===void 0||!t.timeContainer.contains(W.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function Le(W){return function(G){var ne=t.config["_"+W+"Date"]=t.parseDate(G,t.config.dateFormat),ae=t.config["_"+(W==="min"?"max":"min")+"Date"];ne!==void 0&&(t[W==="min"?"minDateHasTime":"maxDateHasTime"]=ne.getHours()>0||ne.getMinutes()>0||ne.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(we){return Je(we)}),!t.selectedDates.length&&W==="min"&&d(ne),Fn()),t.daysContainer&&(xt(),ne!==void 0?t.currentYearElement[W]=ne.getFullYear().toString():t.currentYearElement.removeAttribute(W),t.currentYearElement.disabled=!!ae&&ne!==void 0&&ae.getFullYear()===ne.getFullYear())}}function at(){var W=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],G=Bt(Bt({},JSON.parse(JSON.stringify(n.dataset||{}))),e),ne={};t.config.parseDate=G.parseDate,t.config.formatDate=G.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Re){t.config._enable=ui(Re)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Re){t.config._disable=ui(Re)}});var ae=G.mode==="time";if(!G.dateFormat&&(G.enableTime||ae)){var we=Et.defaultConfig.dateFormat||Tl.dateFormat;ne.dateFormat=G.noCalendar||ae?"H:i"+(G.enableSeconds?":S":""):we+" H:i"+(G.enableSeconds?":S":"")}if(G.altInput&&(G.enableTime||ae)&&!G.altFormat){var Ce=Et.defaultConfig.altFormat||Tl.altFormat;ne.altFormat=G.noCalendar||ae?"h:i"+(G.enableSeconds?":S K":" K"):Ce+(" h:i"+(G.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:Le("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:Le("max")});var He=function(Re){return function(st){t.config[Re==="min"?"_minTime":"_maxTime"]=t.parseDate(st,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:He("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:He("max")}),G.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,ne,G);for(var Ne=0;Ne<W.length;Ne++)t.config[W[Ne]]=t.config[W[Ne]]===!0||t.config[W[Ne]]==="true";ps.filter(function(Re){return t.config[Re]!==void 0}).forEach(function(Re){t.config[Re]=ms(t.config[Re]||[]).map(r)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Ne=0;Ne<t.config.plugins.length;Ne++){var Ue=t.config.plugins[Ne](t)||{};for(var Ie in Ue)ps.indexOf(Ie)>-1?t.config[Ie]=ms(Ue[Ie]).map(r).concat(t.config[Ie]):typeof G[Ie]>"u"&&(t.config[Ie]=Ue[Ie])}G.altInputClass||(t.config.altInputClass=Oe().className+" "+t.config.altInputClass),qe("onParseConfig")}function Oe(){return t.config.wrap?n.querySelector("[data-input]"):n}function ye(){typeof t.config.locale!="object"&&typeof Et.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Bt(Bt({},Et.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Et.l10ns[t.config.locale]:void 0),sl.D="("+t.l10n.weekdays.shorthand.join("|")+")",sl.l="("+t.l10n.weekdays.longhand.join("|")+")",sl.M="("+t.l10n.months.shorthand.join("|")+")",sl.F="("+t.l10n.months.longhand.join("|")+")",sl.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var W=Bt(Bt({},e),JSON.parse(JSON.stringify(n.dataset||{})));W.time_24hr===void 0&&Et.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=sm(t),t.parseDate=js({config:t.config,l10n:t.l10n})}function nt(W){if(typeof t.config.position=="function")return void t.config.position(t,W);if(t.calendarContainer!==void 0){qe("onPreCalendarPosition");var G=W||t._positionElement,ne=Array.prototype.reduce.call(t.calendarContainer.children,function(wm,$m){return wm+$m.offsetHeight},0),ae=t.calendarContainer.offsetWidth,we=t.config.position.split(" "),Ce=we[0],He=we.length>1?we[1]:null,Ne=G.getBoundingClientRect(),Ue=window.innerHeight-Ne.bottom,Ie=Ce==="above"||Ce!=="below"&&Ue<ne&&Ne.top>ne,Re=window.pageYOffset+Ne.top+(Ie?-ne-2:G.offsetHeight+2);if(Jt(t.calendarContainer,"arrowTop",!Ie),Jt(t.calendarContainer,"arrowBottom",Ie),!t.config.inline){var st=window.pageXOffset+Ne.left,Tn=!1,rn=!1;He==="center"?(st-=(ae-Ne.width)/2,Tn=!0):He==="right"&&(st-=ae-Ne.width,rn=!0),Jt(t.calendarContainer,"arrowLeft",!Tn&&!rn),Jt(t.calendarContainer,"arrowCenter",Tn),Jt(t.calendarContainer,"arrowRight",rn);var ql=window.document.body.offsetWidth-(window.pageXOffset+Ne.right),_l=st+ae>window.document.body.offsetWidth,_m=ql+ae>window.document.body.offsetWidth;if(Jt(t.calendarContainer,"rightMost",_l),!t.config.static)if(t.calendarContainer.style.top=Re+"px",!_l)t.calendarContainer.style.left=st+"px",t.calendarContainer.style.right="auto";else if(!_m)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=ql+"px";else{var es=qt();if(es===void 0)return;var hm=window.document.body.offsetWidth,bm=Math.max(0,hm/2-ae/2),gm=".flatpickr-calendar.centerMost:before",vm=".flatpickr-calendar.centerMost:after",km=es.cssRules.length,ym="{left:"+Ne.left+"px;right:auto;}";Jt(t.calendarContainer,"rightMost",!1),Jt(t.calendarContainer,"centerMost",!0),es.insertRule(gm+","+vm+ym,km),t.calendarContainer.style.left=bm+"px",t.calendarContainer.style.right="auto"}}}}function qt(){for(var W=null,G=0;G<document.styleSheets.length;G++){var ne=document.styleSheets[G];if(ne.cssRules){try{ne.cssRules}catch{continue}W=ne;break}}return W??At()}function At(){var W=document.createElement("style");return document.head.appendChild(W),W.sheet}function xt(){t.config.noCalendar||t.isMobile||(R(),Nn(),P())}function Xn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function xn(W){W.preventDefault(),W.stopPropagation();var G=function(Re){return Re.classList&&Re.classList.contains("flatpickr-day")&&!Re.classList.contains("flatpickr-disabled")&&!Re.classList.contains("notAllowed")},ne=im(on(W),G);if(ne!==void 0){var ae=ne,we=t.latestSelectedDateObj=new Date(ae.dateObj.getTime()),Ce=(we.getMonth()<t.currentMonth||we.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=ae,t.config.mode==="single")t.selectedDates=[we];else if(t.config.mode==="multiple"){var He=zt(we);He?t.selectedDates.splice(parseInt(He),1):t.selectedDates.push(we)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=we,t.selectedDates.push(we),an(we,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Re,st){return Re.getTime()-st.getTime()}));if(c(),Ce){var Ne=t.currentYear!==we.getFullYear();t.currentYear=we.getFullYear(),t.currentMonth=we.getMonth(),Ne&&(qe("onYearChange"),R()),qe("onMonthChange")}if(Nn(),P(),Fn(),!Ce&&t.config.mode!=="range"&&t.config.showMonths===1?O(ae):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Ue=t.config.mode==="single"&&!t.config.enableTime,Ie=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Ue||Ie)&&Xn()}g()}}var In={locale:[ye,Z],showMonths:[z,o,J],minDate:[$],maxDate:[$],positionElement:[fi],clickOpens:[function(){t.config.clickOpens===!0?(_(t._input,"focus",t.open),_(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function _t(W,G){if(W!==null&&typeof W=="object"){Object.assign(t.config,W);for(var ne in W)In[ne]!==void 0&&In[ne].forEach(function(ae){return ae()})}else t.config[W]=G,In[W]!==void 0?In[W].forEach(function(ae){return ae()}):ps.indexOf(W)>-1&&(t.config[W]=ms(G));t.redraw(),Fn(!0)}function Un(W,G){var ne=[];if(W instanceof Array)ne=W.map(function(ae){return t.parseDate(ae,G)});else if(W instanceof Date||typeof W=="number")ne=[t.parseDate(W,G)];else if(typeof W=="string")switch(t.config.mode){case"single":case"time":ne=[t.parseDate(W,G)];break;case"multiple":ne=W.split(t.config.conjunction).map(function(ae){return t.parseDate(ae,G)});break;case"range":ne=W.split(t.l10n.rangeSeparator).map(function(ae){return t.parseDate(ae,G)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(W)));t.selectedDates=t.config.allowInvalidPreload?ne:ne.filter(function(ae){return ae instanceof Date&&Je(ae,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(ae,we){return ae.getTime()-we.getTime()})}function Gi(W,G,ne){if(G===void 0&&(G=!1),ne===void 0&&(ne=t.config.dateFormat),W!==0&&!W||W instanceof Array&&W.length===0)return t.clear(G);Un(W,ne),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),$(void 0,G),d(),t.selectedDates.length===0&&t.clear(!1),Fn(G),G&&qe("onChange")}function ui(W){return W.slice().map(function(G){return typeof G=="string"||typeof G=="number"||G instanceof Date?t.parseDate(G,void 0,!0):G&&typeof G=="object"&&G.from&&G.to?{from:t.parseDate(G.from,void 0),to:t.parseDate(G.to,void 0)}:G}).filter(function(G){return G})}function Qi(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var W=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);W&&Un(W,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Xi(){if(t.input=Oe(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=tt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),fi()}function fi(){t._positionElement=t.config.positionElement||t._input}function ve(){var W=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=tt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=W,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=W==="datetime-local"?"Y-m-d\\TH:i:S":W==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}_(t.mobileInput,"change",function(G){t.setDate(on(G).value,!1,t.mobileFormatStr),qe("onChange"),qe("onClose")})}function Me(W){if(t.isOpen===!0)return t.close();t.open(W)}function qe(W,G){if(t.config!==void 0){var ne=t.config[W];if(ne!==void 0&&ne.length>0)for(var ae=0;ne[ae]&&ae<ne.length;ae++)ne[ae](t.selectedDates,t.input.value,t,G);W==="onChange"&&(t.input.dispatchEvent(Ye("change")),t.input.dispatchEvent(Ye("input")))}}function Ye(W){var G=document.createEvent("Event");return G.initEvent(W,!0,!0),G}function zt(W){for(var G=0;G<t.selectedDates.length;G++){var ne=t.selectedDates[G];if(ne instanceof Date&&an(ne,W)===0)return""+G}return!1}function zn(W){return t.config.mode!=="range"||t.selectedDates.length<2?!1:an(W,t.selectedDates[0])>=0&&an(W,t.selectedDates[1])<=0}function Nn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(W,G){var ne=new Date(t.currentYear,t.currentMonth,1);ne.setMonth(t.currentMonth+G),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[G].textContent=Pi(ne.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=ne.getMonth().toString(),W.value=ne.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function xi(W){var G=W||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(ne){return t.formatDate(ne,G)}).filter(function(ne,ae,we){return t.config.mode!=="range"||t.config.enableTime||we.indexOf(ne)===ae}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Fn(W){W===void 0&&(W=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=xi(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=xi(t.config.altFormat)),W!==!1&&qe("onValueUpdate")}function pm(W){var G=on(W),ne=t.prevMonthNav.contains(G),ae=t.nextMonthNav.contains(G);ne||ae?ee(ne?-1:1):t.yearElements.indexOf(G)>=0?G.select():G.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):G.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function mm(W){W.preventDefault();var G=W.type==="keydown",ne=on(W),ae=ne;t.amPM!==void 0&&ne===t.amPM&&(t.amPM.textContent=t.l10n.amPM[mn(t.amPM.textContent===t.l10n.amPM[0])]);var we=parseFloat(ae.getAttribute("min")),Ce=parseFloat(ae.getAttribute("max")),He=parseFloat(ae.getAttribute("step")),Ne=parseInt(ae.value,10),Ue=W.delta||(G?W.which===38?1:-1:0),Ie=Ne+He*Ue;if(typeof ae.value<"u"&&ae.value.length===2){var Re=ae===t.hourElement,st=ae===t.minuteElement;Ie<we?(Ie=Ce+Ie+mn(!Re)+(mn(Re)&&mn(!t.amPM)),st&&T(void 0,-1,t.hourElement)):Ie>Ce&&(Ie=ae===t.hourElement?Ie-Ce-mn(!t.amPM):we,st&&T(void 0,1,t.hourElement)),t.amPM&&Re&&(He===1?Ie+Ne===23:Math.abs(Ie-Ne)>He)&&(t.amPM.textContent=t.l10n.amPM[mn(t.amPM.textContent===t.l10n.amPM[0])]),ae.value=en(Ie)}}return i(),t}function Sl(n,e){for(var t=Array.prototype.slice.call(n).filter(function(r){return r instanceof HTMLElement}),l=[],i=0;i<t.length;i++){var s=t[i];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=tg(s,e||{}),l.push(s._flatpickr)}catch(r){console.error(r)}}return l.length===1?l[0]:l}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Sl(this,n)},HTMLElement.prototype.flatpickr=function(n){return Sl([this],n)});var Et=function(n,e){return typeof n=="string"?Sl(window.document.querySelectorAll(n),e):n instanceof Node?Sl([n],e):Sl(n,e)};Et.defaultConfig={};Et.l10ns={en:Bt({},Ql),default:Bt({},Ql)};Et.localize=function(n){Et.l10ns.default=Bt(Bt({},Et.l10ns.default),n)};Et.setDefaults=function(n){Et.defaultConfig=Bt(Bt({},Et.defaultConfig),n)};Et.parseDate=js({});Et.formatDate=sm({});Et.compareDates=an;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Sl(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Et);function ng(n){let e,t=[n[1]],l={};for(let i=0;i<t.length;i+=1)l=Ae(l,t[i]);return{c(){e=h("input"),En(e,l)},m(i,s){w(i,e,s),e.autofocus&&e.focus(),n[11](e)},p(i,s){En(e,l=mt(t,[s&2&&i[1]]))},d(i){i&&y(e),n[11](null)}}}function lg(n){let e;const t=n[10].default,l=ut(t,n,n[9],null),i=l||ng(n);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,[r]){l?l.p&&(!e||r&512)&&ct(l,t,s,s[9],e?ft(t,s[9],r,null):dt(s[9]),null):i&&i.p&&(!e||r&3)&&i.p(s,e?r:-1)},i(s){e||(M(i,s),e=!0)},o(s){I(i,s),e=!1},d(s){i&&i.d(s)}}}function ig(n){return n.charAt(2).toLowerCase()+n.substring(3)}function zo(n,e){var l;return(((l=n==null?void 0:n.config)==null?void 0:l.mode)??"single")==="single"?e[0]:e}function Bo(n,e){return!!(n==e||n instanceof Date&&e instanceof Date&&n.valueOf()===e.valueOf()||Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,l)=>t===e[l]))}function sg(n,e,t){const l=["value","formattedValue","element","dateFormat","options","input","flatpickr"];let i=ze(e,l),{$$slots:s={},$$scope:r}=e;const o=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);let{value:a=void 0,formattedValue:u="",element:f=void 0,dateFormat:c=void 0}=e,{options:d={}}=e,m=!1,{input:v=void 0,flatpickr:_=void 0}=e;Ut(()=>{const T=f??v,S=k(d);return S.onReady.push((E,O,A)=>{a===void 0&&$(E,O,A),Kt().then(()=>{t(8,m=!0)})}),t(3,_=Et(T,Object.assign(S,f?{wrap:!0}:{}))),()=>{_.destroy()}});const g=pt();function k(T={}){T=Object.assign({},T);for(const S of o){const E=(O,A,N)=>{g(ig(S),[O,A,N])};S in T?(Array.isArray(T[S])||(T[S]=[T[S]]),T[S].push(E)):T[S]=[E]}return T.onChange&&!T.onChange.includes($)&&T.onChange.push($),T}function $(T,S,E){const O=zo(E,T);!Bo(a,O)&&(a||O)&&t(2,a=O),t(4,u=S)}function C(T){le[T?"unshift":"push"](()=>{v=T,t(0,v)})}return n.$$set=T=>{e=Ae(Ae({},e),It(T)),t(1,i=ze(e,l)),"value"in T&&t(2,a=T.value),"formattedValue"in T&&t(4,u=T.formattedValue),"element"in T&&t(5,f=T.element),"dateFormat"in T&&t(6,c=T.dateFormat),"options"in T&&t(7,d=T.options),"input"in T&&t(0,v=T.input),"flatpickr"in T&&t(3,_=T.flatpickr),"$$scope"in T&&t(9,r=T.$$scope)},n.$$.update=()=>{if(n.$$.dirty&332&&_&&m&&(Bo(a,zo(_,_.selectedDates))||_.setDate(a,!0,c)),n.$$.dirty&392&&_&&m)for(const[T,S]of Object.entries(k(d)))_.set(T,S)},[v,i,a,_,u,f,c,d,m,r,s,C]}class fr extends ge{constructor(e){super(),be(this,e,sg,lg,_e,{value:2,formattedValue:4,element:5,dateFormat:6,options:7,input:0,flatpickr:3})}}function rg(n){let e,t,l,i,s,r,o,a;function u(d){n[6](d)}function f(d){n[7](d)}let c={id:n[15],options:j.defaultFlatpickrOptions()};return n[2]!==void 0&&(c.value=n[2]),n[0].options.min!==void 0&&(c.formattedValue=n[0].options.min),s=new fr({props:c}),le.push(()=>me(s,"value",u)),le.push(()=>me(s,"formattedValue",f)),s.$on("close",n[8]),{c(){e=h("label"),t=B("Min date"),i=D(),U(s.$$.fragment),p(e,"for",l=n[15])},m(d,m){w(d,e,m),b(e,t),w(d,i,m),H(s,d,m),a=!0},p(d,m){(!a||m&32768&&l!==(l=d[15]))&&p(e,"for",l);const v={};m&32768&&(v.id=d[15]),!r&&m&4&&(r=!0,v.value=d[2],he(()=>r=!1)),!o&&m&1&&(o=!0,v.formattedValue=d[0].options.min,he(()=>o=!1)),s.$set(v)},i(d){a||(M(s.$$.fragment,d),a=!0)},o(d){I(s.$$.fragment,d),a=!1},d(d){d&&y(e),d&&y(i),V(s,d)}}}function og(n){let e,t,l,i,s,r,o,a;function u(d){n[9](d)}function f(d){n[10](d)}let c={id:n[15],options:j.defaultFlatpickrOptions()};return n[3]!==void 0&&(c.value=n[3]),n[0].options.max!==void 0&&(c.formattedValue=n[0].options.max),s=new fr({props:c}),le.push(()=>me(s,"value",u)),le.push(()=>me(s,"formattedValue",f)),s.$on("close",n[11]),{c(){e=h("label"),t=B("Max date"),i=D(),U(s.$$.fragment),p(e,"for",l=n[15])},m(d,m){w(d,e,m),b(e,t),w(d,i,m),H(s,d,m),a=!0},p(d,m){(!a||m&32768&&l!==(l=d[15]))&&p(e,"for",l);const v={};m&32768&&(v.id=d[15]),!r&&m&8&&(r=!0,v.value=d[3],he(()=>r=!1)),!o&&m&1&&(o=!0,v.formattedValue=d[0].options.max,he(()=>o=!1)),s.$set(v)},i(d){a||(M(s.$$.fragment,d),a=!0)},o(d){I(s.$$.fragment,d),a=!1},d(d){d&&y(e),d&&y(i),V(s,d)}}}function ag(n){let e,t,l,i,s,r,o;return l=new de({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[rg,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[og,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),p(t,"class","col-sm-6"),p(s,"class","col-sm-6"),p(e,"class","grid grid-sm")},m(a,u){w(a,e,u),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),o=!0},p(a,u){const f={};u&2&&(f.name="schema."+a[1]+".options.min"),u&98309&&(f.$$scope={dirty:u,ctx:a}),l.$set(f);const c={};u&2&&(c.name="schema."+a[1]+".options.max"),u&98313&&(c.$$scope={dirty:u,ctx:a}),r.$set(c)},i(a){o||(M(l.$$.fragment,a),M(r.$$.fragment,a),o=!0)},o(a){I(l.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&y(e),V(l),V(r)}}}function ug(n){let e,t,l;const i=[{key:n[1]},n[5]];function s(o){n[12](o)}let r={$$slots:{options:[ag]},$$scope:{ctx:n}};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mn({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[13]),e.$on("remove",n[14]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&34?mt(i,[a&2&&{key:o[1]},a&32&&Nt(o[5])]):{};a&65551&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function fg(n,e,t){var C,T;const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e,o=(C=s==null?void 0:s.options)==null?void 0:C.min,a=(T=s==null?void 0:s.options)==null?void 0:T.max;function u(S,E){S.detail&&S.detail.length==3&&t(0,s.options[E]=S.detail[1],s)}function f(S){o=S,t(2,o),t(0,s)}function c(S){n.$$.not_equal(s.options.min,S)&&(s.options.min=S,t(0,s))}const d=S=>u(S,"min");function m(S){a=S,t(3,a),t(0,s)}function v(S){n.$$.not_equal(s.options.max,S)&&(s.options.max=S,t(0,s))}const _=S=>u(S,"max");function g(S){s=S,t(0,s)}function k(S){De.call(this,n,S)}function $(S){De.call(this,n,S)}return n.$$set=S=>{e=Ae(Ae({},e),It(S)),t(5,i=ze(e,l)),"field"in S&&t(0,s=S.field),"key"in S&&t(1,r=S.key)},n.$$.update=()=>{var S,E,O,A;n.$$.dirty&5&&o!=((S=s==null?void 0:s.options)==null?void 0:S.min)&&t(2,o=(E=s==null?void 0:s.options)==null?void 0:E.min),n.$$.dirty&9&&a!=((O=s==null?void 0:s.options)==null?void 0:O.max)&&t(3,a=(A=s==null?void 0:s.options)==null?void 0:A.max)},[s,r,o,a,u,i,f,c,d,m,v,_,g,k,$]}class cg extends ge{constructor(e){super(),be(this,e,fg,ug,_e,{field:0,key:1})}}const dg=n=>({}),Wo=n=>({});function Ko(n,e,t){const l=n.slice();return l[47]=e[t],l}const pg=n=>({}),Yo=n=>({});function Jo(n,e,t){const l=n.slice();return l[47]=e[t],l[51]=t,l}function Zo(n){let e,t,l;return{c(){e=h("div"),t=B(n[2]),l=D(),p(e,"class","block txt-placeholder"),X(e,"link-hint",!n[5]&&!n[6])},m(i,s){w(i,e,s),b(e,t),b(e,l)},p(i,s){s[0]&4&&oe(t,i[2]),s[0]&96&&X(e,"link-hint",!i[5]&&!i[6])},d(i){i&&y(e)}}}function mg(n){let e,t=n[47]+"",l;return{c(){e=h("span"),l=B(t),p(e,"class","txt")},m(i,s){w(i,e,s),b(e,l)},p(i,s){s[0]&1&&t!==(t=i[47]+"")&&oe(l,t)},i:x,o:x,d(i){i&&y(e)}}}function _g(n){let e,t,l;const i=[{item:n[47]},n[10]];var s=n[9];function r(o){let a={};for(let u=0;u<i.length;u+=1)a=Ae(a,i[u]);return{props:a}}return s&&(e=gt(s,r())),{c(){e&&U(e.$$.fragment),t=ke()},m(o,a){e&&H(e,o,a),w(o,t,a),l=!0},p(o,a){const u=a[0]&1025?mt(i,[a[0]&1&&{item:o[47]},a[0]&1024&&Nt(o[10])]):{};if(a[0]&512&&s!==(s=o[9])){if(e){ue();const f=e;I(f.$$.fragment,1,0,()=>{V(f,1)}),fe()}s?(e=gt(s,r()),U(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){l||(e&&M(e.$$.fragment,o),l=!0)},o(o){e&&I(e.$$.fragment,o),l=!1},d(o){o&&y(t),e&&V(e,o)}}}function Go(n){let e,t,l;function i(){return n[35](n[47])}return{c(){e=h("span"),e.innerHTML='<i class="ri-close-line"></i>',p(e,"class","clear")},m(s,r){w(s,e,r),t||(l=[$e(Pe.call(null,e,"Clear")),Y(e,"click",fn(Ke(i)))],t=!0)},p(s,r){n=s},d(s){s&&y(e),t=!1,Te(l)}}}function Qo(n){let e,t,l,i,s,r;const o=[_g,mg],a=[];function u(c,d){return c[9]?0:1}t=u(n),l=a[t]=o[t](n);let f=(n[4]||n[7])&&Go(n);return{c(){e=h("div"),l.c(),i=D(),f&&f.c(),s=D(),p(e,"class","option")},m(c,d){w(c,e,d),a[t].m(e,null),b(e,i),f&&f.m(e,null),b(e,s),r=!0},p(c,d){let m=t;t=u(c),t===m?a[t].p(c,d):(ue(),I(a[m],1,1,()=>{a[m]=null}),fe(),l=a[t],l?l.p(c,d):(l=a[t]=o[t](c),l.c()),M(l,1),l.m(e,i)),c[4]||c[7]?f?f.p(c,d):(f=Go(c),f.c(),f.m(e,s)):f&&(f.d(1),f=null)},i(c){r||(M(l),r=!0)},o(c){I(l),r=!1},d(c){c&&y(e),a[t].d(),f&&f.d()}}}function Xo(n){let e,t,l={class:"dropdown dropdown-block options-dropdown dropdown-left",trigger:n[19],$$slots:{default:[gg]},$$scope:{ctx:n}};return e=new gn({props:l}),n[40](e),e.$on("show",n[25]),e.$on("hide",n[41]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,s){const r={};s[0]&524288&&(r.trigger=i[19]),s[0]&3225866|s[1]&4096&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[40](null),V(e,i)}}}function xo(n){let e,t,l,i,s,r,o,a,u=n[16].length&&ea(n);return{c(){e=h("div"),t=h("label"),l=h("div"),l.innerHTML='<i class="ri-search-line"></i>',i=D(),s=h("input"),r=D(),u&&u.c(),p(l,"class","addon p-r-0"),s.autofocus=!0,p(s,"type","text"),p(s,"placeholder",n[3]),p(t,"class","input-group"),p(e,"class","form-field form-field-sm options-search")},m(f,c){w(f,e,c),b(e,t),b(t,l),b(t,i),b(t,s),re(s,n[16]),b(t,r),u&&u.m(t,null),s.focus(),o||(a=Y(s,"input",n[37]),o=!0)},p(f,c){c[0]&8&&p(s,"placeholder",f[3]),c[0]&65536&&s.value!==f[16]&&re(s,f[16]),f[16].length?u?u.p(f,c):(u=ea(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},d(f){f&&y(e),u&&u.d(),o=!1,a()}}}function ea(n){let e,t,l,i;return{c(){e=h("div"),t=h("button"),t.innerHTML='<i class="ri-close-line"></i>',p(t,"type","button"),p(t,"class","btn btn-sm btn-circle btn-transparent clear"),p(e,"class","addon suffix p-r-5")},m(s,r){w(s,e,r),b(e,t),l||(i=Y(t,"click",fn(Ke(n[22]))),l=!0)},p:x,d(s){s&&y(e),l=!1,i()}}}function ta(n){let e,t=n[1]&&na(n);return{c(){t&&t.c(),e=ke()},m(l,i){t&&t.m(l,i),w(l,e,i)},p(l,i){l[1]?t?t.p(l,i):(t=na(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&y(e)}}}function na(n){let e,t;return{c(){e=h("div"),t=B(n[1]),p(e,"class","txt-missing")},m(l,i){w(l,e,i),b(e,t)},p(l,i){i[0]&2&&oe(t,l[1])},d(l){l&&y(e)}}}function hg(n){let e=n[47]+"",t;return{c(){t=B(e)},m(l,i){w(l,t,i)},p(l,i){i[0]&2097152&&e!==(e=l[47]+"")&&oe(t,e)},i:x,o:x,d(l){l&&y(t)}}}function bg(n){let e,t,l;const i=[{item:n[47]},n[12]];var s=n[11];function r(o){let a={};for(let u=0;u<i.length;u+=1)a=Ae(a,i[u]);return{props:a}}return s&&(e=gt(s,r())),{c(){e&&U(e.$$.fragment),t=ke()},m(o,a){e&&H(e,o,a),w(o,t,a),l=!0},p(o,a){const u=a[0]&2101248?mt(i,[a[0]&2097152&&{item:o[47]},a[0]&4096&&Nt(o[12])]):{};if(a[0]&2048&&s!==(s=o[11])){if(e){ue();const f=e;I(f.$$.fragment,1,0,()=>{V(f,1)}),fe()}s?(e=gt(s,r()),U(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){l||(e&&M(e.$$.fragment,o),l=!0)},o(o){e&&I(e.$$.fragment,o),l=!1},d(o){o&&y(t),e&&V(e,o)}}}function la(n){let e,t,l,i,s,r,o;const a=[bg,hg],u=[];function f(m,v){return m[11]?0:1}t=f(n),l=u[t]=a[t](n);function c(...m){return n[38](n[47],...m)}function d(...m){return n[39](n[47],...m)}return{c(){e=h("div"),l.c(),i=D(),p(e,"tabindex","0"),p(e,"class","dropdown-item option"),X(e,"closable",n[8]),X(e,"selected",n[20](n[47]))},m(m,v){w(m,e,v),u[t].m(e,null),b(e,i),s=!0,r||(o=[Y(e,"click",c),Y(e,"keydown",d)],r=!0)},p(m,v){n=m;let _=t;t=f(n),t===_?u[t].p(n,v):(ue(),I(u[_],1,1,()=>{u[_]=null}),fe(),l=u[t],l?l.p(n,v):(l=u[t]=a[t](n),l.c()),M(l,1),l.m(e,i)),(!s||v[0]&256)&&X(e,"closable",n[8]),(!s||v[0]&3145728)&&X(e,"selected",n[20](n[47]))},i(m){s||(M(l),s=!0)},o(m){I(l),s=!1},d(m){m&&y(e),u[t].d(),r=!1,Te(o)}}}function gg(n){let e,t,l,i,s,r=n[13]&&xo(n);const o=n[34].beforeOptions,a=ut(o,n,n[43],Yo);let u=n[21],f=[];for(let _=0;_<u.length;_+=1)f[_]=la(Ko(n,u,_));const c=_=>I(f[_],1,1,()=>{f[_]=null});let d=null;u.length||(d=ta(n));const m=n[34].afterOptions,v=ut(m,n,n[43],Wo);return{c(){r&&r.c(),e=D(),a&&a.c(),t=D(),l=h("div");for(let _=0;_<f.length;_+=1)f[_].c();d&&d.c(),i=D(),v&&v.c(),p(l,"class","options-list")},m(_,g){r&&r.m(_,g),w(_,e,g),a&&a.m(_,g),w(_,t,g),w(_,l,g);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(l,null);d&&d.m(l,null),w(_,i,g),v&&v.m(_,g),s=!0},p(_,g){if(_[13]?r?r.p(_,g):(r=xo(_),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a&&a.p&&(!s||g[1]&4096)&&ct(a,o,_,_[43],s?ft(o,_[43],g,pg):dt(_[43]),Yo),g[0]&28317954){u=_[21];let k;for(k=0;k<u.length;k+=1){const $=Ko(_,u,k);f[k]?(f[k].p($,g),M(f[k],1)):(f[k]=la($),f[k].c(),M(f[k],1),f[k].m(l,null))}for(ue(),k=u.length;k<f.length;k+=1)c(k);fe(),!u.length&&d?d.p(_,g):u.length?d&&(d.d(1),d=null):(d=ta(_),d.c(),d.m(l,null))}v&&v.p&&(!s||g[1]&4096)&&ct(v,m,_,_[43],s?ft(m,_[43],g,dg):dt(_[43]),Wo)},i(_){if(!s){M(a,_);for(let g=0;g<u.length;g+=1)M(f[g]);M(v,_),s=!0}},o(_){I(a,_),f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)I(f[g]);I(v,_),s=!1},d(_){r&&r.d(_),_&&y(e),a&&a.d(_),_&&y(t),_&&y(l),it(f,_),d&&d.d(),_&&y(i),v&&v.d(_)}}}function vg(n){let e,t,l,i,s,r,o=j.toArray(n[0]),a=[];for(let d=0;d<o.length;d+=1)a[d]=Qo(Jo(n,o,d));const u=d=>I(a[d],1,1,()=>{a[d]=null});let f=null;o.length||(f=Zo(n));let c=!n[5]&&!n[6]&&Xo(n);return{c(){e=h("div"),t=h("div");for(let d=0;d<a.length;d+=1)a[d].c();f&&f.c(),i=D(),c&&c.c(),p(t,"tabindex",l=n[5]||n[6]?"-1":"0"),p(t,"class","selected-container"),X(t,"disabled",n[5]),X(t,"readonly",n[6]),p(e,"class",s="select "+n[14]),X(e,"multiple",n[4]),X(e,"disabled",n[5]),X(e,"readonly",n[6])},m(d,m){w(d,e,m),b(e,t);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(t,null);f&&f.m(t,null),n[36](t),b(e,i),c&&c.m(e,null),n[42](e),r=!0},p(d,m){if(m[0]&34549){o=j.toArray(d[0]);let v;for(v=0;v<o.length;v+=1){const _=Jo(d,o,v);a[v]?(a[v].p(_,m),M(a[v],1)):(a[v]=Qo(_),a[v].c(),M(a[v],1),a[v].m(t,null))}for(ue(),v=o.length;v<a.length;v+=1)u(v);fe(),!o.length&&f?f.p(d,m):o.length?f&&(f.d(1),f=null):(f=Zo(d),f.c(),f.m(t,null))}(!r||m[0]&96&&l!==(l=d[5]||d[6]?"-1":"0"))&&p(t,"tabindex",l),(!r||m[0]&32)&&X(t,"disabled",d[5]),(!r||m[0]&64)&&X(t,"readonly",d[6]),!d[5]&&!d[6]?c?(c.p(d,m),m[0]&96&&M(c,1)):(c=Xo(d),c.c(),M(c,1),c.m(e,null)):c&&(ue(),I(c,1,1,()=>{c=null}),fe()),(!r||m[0]&16384&&s!==(s="select "+d[14]))&&p(e,"class",s),(!r||m[0]&16400)&&X(e,"multiple",d[4]),(!r||m[0]&16416)&&X(e,"disabled",d[5]),(!r||m[0]&16448)&&X(e,"readonly",d[6])},i(d){if(!r){for(let m=0;m<o.length;m+=1)M(a[m]);M(c),r=!0}},o(d){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)I(a[m]);I(c),r=!1},d(d){d&&y(e),it(a,d),f&&f.d(),n[36](null),c&&c.d(),n[42](null)}}}function kg(n,e){let t=(""+e).replace(/\s+/g,"").toLowerCase(),l=n;try{typeof n=="object"&&n!==null&&(l=JSON.stringify(n))}catch{}return(""+l).replace(/\s+/g,"").toLowerCase().includes(t)}function yg(n,e,t){let l,i,{$$slots:s={},$$scope:r}=e,{id:o=""}=e,{noOptionsText:a="No options found"}=e,{selectPlaceholder:u="- Select -"}=e,{searchPlaceholder:f="Search..."}=e,{items:c=[]}=e,{multiple:d=!1}=e,{disabled:m=!1}=e,{readonly:v=!1}=e,{selected:_=d?[]:void 0}=e,{toggle:g=d}=e,{closable:k=!0}=e,{labelComponent:$=void 0}=e,{labelComponentProps:C={}}=e,{optionComponent:T=void 0}=e,{optionComponentProps:S={}}=e,{searchable:E=!1}=e,{searchFunc:O=void 0}=e,{class:A=""}=e,N,F="",L,P;function R(ie){if(j.isEmpty(_))return;let Le=j.toArray(_);j.inArray(Le,ie)&&(j.removeByValue(Le,ie),t(0,_=Le)),L==null||L.dispatchEvent(new CustomEvent("change",{detail:_,bubbles:!0}))}function q(ie){if(d){let Le=j.toArray(_);j.inArray(Le,ie)||t(0,_=[...Le,ie])}else t(0,_=ie);L==null||L.dispatchEvent(new CustomEvent("change",{detail:_,bubbles:!0}))}function z(ie){return i(ie)?R(ie):q(ie)}function K(){t(0,_=d?[]:void 0)}function Q(){N!=null&&N.show&&(N==null||N.show())}function J(){N!=null&&N.hide&&(N==null||N.hide())}function Z(){if(j.isEmpty(_)||j.isEmpty(c))return;let ie=j.toArray(_),Le=[];for(const at of ie)j.inArray(c,at)||Le.push(at);if(Le.length){for(const at of Le)j.removeByValue(ie,at);t(0,_=d?ie:ie[0])}}function se(){t(16,F="")}function ee(ie,Le){ie=ie||[];const at=O||kg;return ie.filter(Oe=>at(Oe,Le))||[]}function te(ie,Le){ie.preventDefault(),g&&d?z(Le):q(Le)}function pe(ie,Le){(ie.code==="Enter"||ie.code==="Space")&&(te(ie,Le),k&&J())}function Ee(){se(),setTimeout(()=>{const ie=L==null?void 0:L.querySelector(".dropdown-item.option.selected");ie&&(ie.focus(),ie.scrollIntoView({block:"nearest"}))},0)}function We(ie){ie.stopPropagation(),!v&&!m&&(N==null||N.toggle())}Ut(()=>{const ie=document.querySelectorAll(`label[for="${o}"]`);for(const Le of ie)Le.addEventListener("click",We);return()=>{for(const Le of ie)Le.removeEventListener("click",We)}});const ot=ie=>R(ie);function xe(ie){le[ie?"unshift":"push"](()=>{P=ie,t(19,P)})}function Je(){F=this.value,t(16,F)}const $t=(ie,Le)=>te(Le,ie),Ft=(ie,Le)=>pe(Le,ie);function Tt(ie){le[ie?"unshift":"push"](()=>{N=ie,t(17,N)})}function Dt(ie){De.call(this,n,ie)}function Lt(ie){le[ie?"unshift":"push"](()=>{L=ie,t(18,L)})}return n.$$set=ie=>{"id"in ie&&t(26,o=ie.id),"noOptionsText"in ie&&t(1,a=ie.noOptionsText),"selectPlaceholder"in ie&&t(2,u=ie.selectPlaceholder),"searchPlaceholder"in ie&&t(3,f=ie.searchPlaceholder),"items"in ie&&t(27,c=ie.items),"multiple"in ie&&t(4,d=ie.multiple),"disabled"in ie&&t(5,m=ie.disabled),"readonly"in ie&&t(6,v=ie.readonly),"selected"in ie&&t(0,_=ie.selected),"toggle"in ie&&t(7,g=ie.toggle),"closable"in ie&&t(8,k=ie.closable),"labelComponent"in ie&&t(9,$=ie.labelComponent),"labelComponentProps"in ie&&t(10,C=ie.labelComponentProps),"optionComponent"in ie&&t(11,T=ie.optionComponent),"optionComponentProps"in ie&&t(12,S=ie.optionComponentProps),"searchable"in ie&&t(13,E=ie.searchable),"searchFunc"in ie&&t(28,O=ie.searchFunc),"class"in ie&&t(14,A=ie.class),"$$scope"in ie&&t(43,r=ie.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&134217728&&c&&(Z(),se()),n.$$.dirty[0]&134283264&&t(21,l=ee(c,F)),n.$$.dirty[0]&1&&t(20,i=function(ie){const Le=j.toArray(_);return j.inArray(Le,ie)})},[_,a,u,f,d,m,v,g,k,$,C,T,S,E,A,R,F,N,L,P,i,l,se,te,pe,Ee,o,c,O,q,z,K,Q,J,s,ot,xe,Je,$t,Ft,Tt,Dt,Lt,r]}class cr extends ge{constructor(e){super(),be(this,e,yg,vg,_e,{id:26,noOptionsText:1,selectPlaceholder:2,searchPlaceholder:3,items:27,multiple:4,disabled:5,readonly:6,selected:0,toggle:7,closable:8,labelComponent:9,labelComponentProps:10,optionComponent:11,optionComponentProps:12,searchable:13,searchFunc:28,class:14,deselectItem:15,selectItem:29,toggleItem:30,reset:31,showDropdown:32,hideDropdown:33},null,[-1,-1])}get deselectItem(){return this.$$.ctx[15]}get selectItem(){return this.$$.ctx[29]}get toggleItem(){return this.$$.ctx[30]}get reset(){return this.$$.ctx[31]}get showDropdown(){return this.$$.ctx[32]}get hideDropdown(){return this.$$.ctx[33]}}function ia(n){let e,t;return{c(){e=h("i"),p(e,"class",t="icon "+n[0].icon)},m(l,i){w(l,e,i)},p(l,i){i&1&&t!==(t="icon "+l[0].icon)&&p(e,"class",t)},d(l){l&&y(e)}}}function wg(n){let e,t,l=(n[0].label||n[0].name||n[0].title||n[0].id||n[0].value)+"",i,s=n[0].icon&&ia(n);return{c(){s&&s.c(),e=D(),t=h("span"),i=B(l),p(t,"class","txt")},m(r,o){s&&s.m(r,o),w(r,e,o),w(r,t,o),b(t,i)},p(r,[o]){r[0].icon?s?s.p(r,o):(s=ia(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),o&1&&l!==(l=(r[0].label||r[0].name||r[0].title||r[0].id||r[0].value)+"")&&oe(i,l)},i:x,o:x,d(r){s&&s.d(r),r&&y(e),r&&y(t)}}}function $g(n,e,t){let{item:l={}}=e;return n.$$set=i=>{"item"in i&&t(0,l=i.item)},[l]}class sa extends ge{constructor(e){super(),be(this,e,$g,wg,_e,{item:0})}}const Tg=n=>({}),ra=n=>({});function Sg(n){let e;const t=n[8].afterOptions,l=ut(t,n,n[12],ra);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&4096)&&ct(l,t,i,i[12],e?ft(t,i[12],s,Tg):dt(i[12]),ra)},i(i){e||(M(l,i),e=!0)},o(i){I(l,i),e=!1},d(i){l&&l.d(i)}}}function Cg(n){let e,t,l;const i=[{items:n[1]},{multiple:n[2]},{labelComponent:n[3]},{optionComponent:n[4]},n[5]];function s(o){n[9](o)}let r={$$slots:{afterOptions:[Sg]},$$scope:{ctx:n}};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.selected=n[0]),e=new cr({props:r}),le.push(()=>me(e,"selected",s)),e.$on("show",n[10]),e.$on("hide",n[11]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&62?mt(i,[a&2&&{items:o[1]},a&4&&{multiple:o[2]},a&8&&{labelComponent:o[3]},a&16&&{optionComponent:o[4]},a&32&&Nt(o[5])]):{};a&4096&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.selected=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function Eg(n,e,t){const l=["items","multiple","selected","labelComponent","optionComponent","selectionKey","keyOfSelected"];let i=ze(e,l),{$$slots:s={},$$scope:r}=e,{items:o=[]}=e,{multiple:a=!1}=e,{selected:u=a?[]:void 0}=e,{labelComponent:f=sa}=e,{optionComponent:c=sa}=e,{selectionKey:d="value"}=e,{keyOfSelected:m=a?[]:void 0}=e;function v(C){C=j.toArray(C,!0);let T=[];for(let S of C){const E=j.findByKey(o,d,S);E&&T.push(E)}C.length&&!T.length||t(0,u=a?T:T[0])}async function _(C){let T=j.toArray(C,!0).map(S=>S[d]);o.length&&t(6,m=a?T:T[0])}function g(C){u=C,t(0,u)}function k(C){De.call(this,n,C)}function $(C){De.call(this,n,C)}return n.$$set=C=>{e=Ae(Ae({},e),It(C)),t(5,i=ze(e,l)),"items"in C&&t(1,o=C.items),"multiple"in C&&t(2,a=C.multiple),"selected"in C&&t(0,u=C.selected),"labelComponent"in C&&t(3,f=C.labelComponent),"optionComponent"in C&&t(4,c=C.optionComponent),"selectionKey"in C&&t(7,d=C.selectionKey),"keyOfSelected"in C&&t(6,m=C.keyOfSelected),"$$scope"in C&&t(12,r=C.$$scope)},n.$$.update=()=>{n.$$.dirty&66&&o&&v(m),n.$$.dirty&1&&_(u)},[u,o,a,f,c,i,m,d,s,g,k,$,r]}class Qn extends ge{constructor(e){super(),be(this,e,Eg,Cg,_e,{items:1,multiple:2,selected:0,labelComponent:3,optionComponent:4,selectionKey:7,keyOfSelected:6})}}function Og(n){let e,t,l,i,s,r;function o(u){n[7](u)}let a={id:n[13],placeholder:"Choices: eg. optionA, optionB",required:!0,readonly:!n[14]};return n[0].options.values!==void 0&&(a.value=n[0].options.values),t=new Ll({props:a}),le.push(()=>me(t,"value",o)),{c(){e=h("div"),U(t.$$.fragment)},m(u,f){w(u,e,f),H(t,e,null),i=!0,s||(r=$e(Pe.call(null,e,{text:"Choices (comma separated)",position:"top-left",delay:700})),s=!0)},p(u,f){const c={};f&8192&&(c.id=u[13]),f&16384&&(c.readonly=!u[14]),!l&&f&1&&(l=!0,c.value=u[0].options.values,he(()=>l=!1)),t.$set(c)},i(u){i||(M(t.$$.fragment,u),i=!0)},o(u){I(t.$$.fragment,u),i=!1},d(u){u&&y(e),V(t),s=!1,r()}}}function Dg(n){let e,t,l;function i(r){n[8](r)}let s={id:n[13],items:n[3],readonly:!n[14]};return n[2]!==void 0&&(s.keyOfSelected=n[2]),e=new Qn({props:s}),le.push(()=>me(e,"keyOfSelected",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o&8192&&(a.id=r[13]),o&16384&&(a.readonly=!r[14]),!t&&o&4&&(t=!0,a.keyOfSelected=r[2],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Ag(n){let e,t,l,i,s,r,o,a,u,f;return l=new de({props:{class:"form-field required "+(n[14]?"":"readonly"),inlineError:!0,name:"schema."+n[1]+".options.values",$$slots:{default:[Og,({uniqueId:c})=>({13:c}),({uniqueId:c})=>c?8192:0]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field form-field-single-multiple-select "+(n[14]?"":"readonly"),inlineError:!0,$$slots:{default:[Dg,({uniqueId:c})=>({13:c}),({uniqueId:c})=>c?8192:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=D(),U(l.$$.fragment),i=D(),s=h("div"),r=D(),U(o.$$.fragment),a=D(),u=h("div"),p(e,"class","separator"),p(s,"class","separator"),p(u,"class","separator")},m(c,d){w(c,e,d),w(c,t,d),H(l,c,d),w(c,i,d),w(c,s,d),w(c,r,d),H(o,c,d),w(c,a,d),w(c,u,d),f=!0},p(c,d){const m={};d&16384&&(m.class="form-field required "+(c[14]?"":"readonly")),d&2&&(m.name="schema."+c[1]+".options.values"),d&57345&&(m.$$scope={dirty:d,ctx:c}),l.$set(m);const v={};d&16384&&(v.class="form-field form-field-single-multiple-select "+(c[14]?"":"readonly")),d&57348&&(v.$$scope={dirty:d,ctx:c}),o.$set(v)},i(c){f||(M(l.$$.fragment,c),M(o.$$.fragment,c),f=!0)},o(c){I(l.$$.fragment,c),I(o.$$.fragment,c),f=!1},d(c){c&&y(e),c&&y(t),V(l,c),c&&y(i),c&&y(s),c&&y(r),V(o,c),c&&y(a),c&&y(u)}}}function oa(n){let e,t;return e=new de({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[Mg,({uniqueId:l})=>({13:l}),({uniqueId:l})=>l?8192:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&2&&(s.name="schema."+l[1]+".options.maxSelect"),i&40961&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Mg(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Max select"),i=D(),s=h("input"),p(e,"for",l=n[13]),p(s,"id",r=n[13]),p(s,"type","number"),p(s,"step","1"),p(s,"min","2"),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].options.maxSelect),o||(a=Y(s,"input",n[6]),o=!0)},p(u,f){f&8192&&l!==(l=u[13])&&p(e,"for",l),f&8192&&r!==(r=u[13])&&p(s,"id",r),f&1&&lt(s.value)!==u[0].options.maxSelect&&re(s,u[0].options.maxSelect)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function Ig(n){let e,t,l=!n[2]&&oa(n);return{c(){l&&l.c(),e=ke()},m(i,s){l&&l.m(i,s),w(i,e,s),t=!0},p(i,s){i[2]?l&&(ue(),I(l,1,1,()=>{l=null}),fe()):l?(l.p(i,s),s&4&&M(l,1)):(l=oa(i),l.c(),M(l,1),l.m(e.parentNode,e))},i(i){t||(M(l),t=!0)},o(i){I(l),t=!1},d(i){l&&l.d(i),i&&y(e)}}}function Ng(n){let e,t,l;const i=[{key:n[1]},n[4]];function s(o){n[9](o)}let r={$$slots:{options:[Ig],default:[Ag,({interactive:o})=>({14:o}),({interactive:o})=>o?16384:0]},$$scope:{ctx:n}};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mn({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[10]),e.$on("remove",n[11]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&18?mt(i,[a&2&&{key:o[1]},a&16&&Nt(o[4])]):{};a&49159&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function Fg(n,e,t){var k;const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e;const o=[{label:"Single",value:!0},{label:"Multiple",value:!1}];let a=((k=s.options)==null?void 0:k.maxSelect)<=1,u=a;function f(){t(0,s.options={maxSelect:1,values:[]},s),t(2,a=!0),t(5,u=a)}function c(){s.options.maxSelect=lt(this.value),t(0,s),t(5,u),t(2,a)}function d($){n.$$.not_equal(s.options.values,$)&&(s.options.values=$,t(0,s),t(5,u),t(2,a))}function m($){a=$,t(2,a)}function v($){s=$,t(0,s),t(5,u),t(2,a)}function _($){De.call(this,n,$)}function g($){De.call(this,n,$)}return n.$$set=$=>{e=Ae(Ae({},e),It($)),t(4,i=ze(e,l)),"field"in $&&t(0,s=$.field),"key"in $&&t(1,r=$.key)},n.$$.update=()=>{var $,C;n.$$.dirty&37&&u!=a&&(t(5,u=a),a?t(0,s.options.maxSelect=1,s):t(0,s.options.maxSelect=((C=($=s.options)==null?void 0:$.values)==null?void 0:C.length)||2,s)),n.$$.dirty&1&&j.isEmpty(s.options)&&f()},[s,r,a,o,i,u,c,d,m,v,_,g]}class Lg extends ge{constructor(e){super(),be(this,e,Fg,Ng,_e,{field:0,key:1})}}function qg(n){let e;return{c(){e=h("i"),p(e,"class","ri-arrow-down-s-line txt-sm")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Pg(n){let e;return{c(){e=h("i"),p(e,"class","ri-arrow-up-s-line txt-sm")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function aa(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O='"{"a":1,"b":2}"',A,N,F,L,P,R,q,z,K,Q,J,Z,se;return{c(){e=h("div"),t=h("div"),l=h("div"),i=B("In order to support seamlessly both "),s=h("code"),s.textContent="application/json",r=B(` and
                        `),o=h("code"),o.textContent="multipart/form-data",a=B(`
                        requests, the following normalization rules are applied if the `),u=h("code"),u.textContent="json",f=B(` field
                        is a
                        `),c=h("strong"),c.textContent="plain string",d=B(`:
                        `),m=h("ul"),v=h("li"),v.innerHTML="&quot;true&quot; is converted to the json <code>true</code>",_=D(),g=h("li"),g.innerHTML="&quot;false&quot; is converted to the json <code>false</code>",k=D(),$=h("li"),$.innerHTML="&quot;null&quot; is converted to the json <code>null</code>",C=D(),T=h("li"),T.innerHTML="&quot;[1,2,3]&quot; is converted to the json <code>[1,2,3]</code>",S=D(),E=h("li"),A=B(O),N=B(" is converted to the json "),F=h("code"),F.textContent='{"a":1,"b":2}',L=D(),P=h("li"),P.textContent="numeric strings are converted to json number",R=D(),q=h("li"),q.textContent="double quoted strings are left as they are (aka. without normalizations)",z=D(),K=h("li"),K.textContent="any other string (empty string too) is double quoted",Q=B(`
                        Alternatively, if you want to avoid the string value normalizations, you can wrap your
                        data inside an object, eg.`),J=h("code"),J.textContent='{"data": anything}',p(l,"class","content"),p(t,"class","alert alert-warning m-b-0 m-t-10"),p(e,"class","block")},m(ee,te){w(ee,e,te),b(e,t),b(t,l),b(l,i),b(l,s),b(l,r),b(l,o),b(l,a),b(l,u),b(l,f),b(l,c),b(l,d),b(l,m),b(m,v),b(m,_),b(m,g),b(m,k),b(m,$),b(m,C),b(m,T),b(m,S),b(m,E),b(E,A),b(E,N),b(E,F),b(m,L),b(m,P),b(m,R),b(m,q),b(m,z),b(m,K),b(l,Q),b(l,J),se=!0},i(ee){se||(ee&&Be(()=>{se&&(Z||(Z=Fe(e,Ge,{duration:150},!0)),Z.run(1))}),se=!0)},o(ee){ee&&(Z||(Z=Fe(e,Ge,{duration:150},!1)),Z.run(0)),se=!1},d(ee){ee&&y(e),ee&&Z&&Z.end()}}}function Rg(n){let e,t,l,i,s,r,o;function a(d,m){return d[2]?Pg:qg}let u=a(n),f=u(n),c=n[2]&&aa();return{c(){e=h("button"),t=h("strong"),t.textContent="String value normalizations",l=D(),f.c(),i=D(),c&&c.c(),s=ke(),p(t,"class","txt"),p(e,"type","button"),p(e,"class","inline-flex txt-sm flex-gap-5 link-hint")},m(d,m){w(d,e,m),b(e,t),b(e,l),f.m(e,null),w(d,i,m),c&&c.m(d,m),w(d,s,m),r||(o=Y(e,"click",n[4]),r=!0)},p(d,m){u!==(u=a(d))&&(f.d(1),f=u(d),f&&(f.c(),f.m(e,null))),d[2]?c?m&4&&M(c,1):(c=aa(),c.c(),M(c,1),c.m(s.parentNode,s)):c&&(ue(),I(c,1,1,()=>{c=null}),fe())},d(d){d&&y(e),f.d(),d&&y(i),c&&c.d(d),d&&y(s),r=!1,o()}}}function jg(n){let e,t,l;const i=[{key:n[1]},n[3]];function s(o){n[5](o)}let r={$$slots:{options:[Rg]},$$scope:{ctx:n}};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mn({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[6]),e.$on("remove",n[7]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&10?mt(i,[a&2&&{key:o[1]},a&8&&Nt(o[3])]):{};a&260&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function Hg(n,e,t){const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e,o=!1;const a=()=>{t(2,o=!o)};function u(d){s=d,t(0,s)}function f(d){De.call(this,n,d)}function c(d){De.call(this,n,d)}return n.$$set=d=>{e=Ae(Ae({},e),It(d)),t(3,i=ze(e,l)),"field"in d&&t(0,s=d.field),"key"in d&&t(1,r=d.key)},[s,r,o,i,a,u,f,c]}class Vg extends ge{constructor(e){super(),be(this,e,Hg,jg,_e,{field:0,key:1})}}function Ug(n){let e,t=(n[0].ext||"N/A")+"",l,i,s,r=n[0].mimeType+"",o;return{c(){e=h("span"),l=B(t),i=D(),s=h("small"),o=B(r),p(e,"class","txt"),p(s,"class","txt-hint")},m(a,u){w(a,e,u),b(e,l),w(a,i,u),w(a,s,u),b(s,o)},p(a,[u]){u&1&&t!==(t=(a[0].ext||"N/A")+"")&&oe(l,t),u&1&&r!==(r=a[0].mimeType+"")&&oe(o,r)},i:x,o:x,d(a){a&&y(e),a&&y(i),a&&y(s)}}}function zg(n,e,t){let{item:l={}}=e;return n.$$set=i=>{"item"in i&&t(0,l=i.item)},[l]}class ua extends ge{constructor(e){super(),be(this,e,zg,Ug,_e,{item:0})}}const Bg=[{ext:".xpm",mimeType:"image/x-xpixmap"},{ext:".7z",mimeType:"application/x-7z-compressed"},{ext:".zip",mimeType:"application/zip"},{ext:".xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{ext:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{ext:".pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{ext:".epub",mimeType:"application/epub+zip"},{ext:".jar",mimeType:"application/jar"},{ext:".odt",mimeType:"application/vnd.oasis.opendocument.text"},{ext:".ott",mimeType:"application/vnd.oasis.opendocument.text-template"},{ext:".ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{ext:".ots",mimeType:"application/vnd.oasis.opendocument.spreadsheet-template"},{ext:".odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{ext:".otp",mimeType:"application/vnd.oasis.opendocument.presentation-template"},{ext:".odg",mimeType:"application/vnd.oasis.opendocument.graphics"},{ext:".otg",mimeType:"application/vnd.oasis.opendocument.graphics-template"},{ext:".odf",mimeType:"application/vnd.oasis.opendocument.formula"},{ext:".odc",mimeType:"application/vnd.oasis.opendocument.chart"},{ext:".sxc",mimeType:"application/vnd.sun.xml.calc"},{ext:".pdf",mimeType:"application/pdf"},{ext:".fdf",mimeType:"application/vnd.fdf"},{ext:"",mimeType:"application/x-ole-storage"},{ext:".msi",mimeType:"application/x-ms-installer"},{ext:".aaf",mimeType:"application/octet-stream"},{ext:".msg",mimeType:"application/vnd.ms-outlook"},{ext:".xls",mimeType:"application/vnd.ms-excel"},{ext:".pub",mimeType:"application/vnd.ms-publisher"},{ext:".ppt",mimeType:"application/vnd.ms-powerpoint"},{ext:".doc",mimeType:"application/msword"},{ext:".ps",mimeType:"application/postscript"},{ext:".psd",mimeType:"image/vnd.adobe.photoshop"},{ext:".p7s",mimeType:"application/pkcs7-signature"},{ext:".ogg",mimeType:"application/ogg"},{ext:".oga",mimeType:"audio/ogg"},{ext:".ogv",mimeType:"video/ogg"},{ext:".png",mimeType:"image/png"},{ext:".png",mimeType:"image/vnd.mozilla.apng"},{ext:".jpg",mimeType:"image/jpeg"},{ext:".jxl",mimeType:"image/jxl"},{ext:".jp2",mimeType:"image/jp2"},{ext:".jpf",mimeType:"image/jpx"},{ext:".jpm",mimeType:"image/jpm"},{ext:".jxs",mimeType:"image/jxs"},{ext:".gif",mimeType:"image/gif"},{ext:".webp",mimeType:"image/webp"},{ext:".exe",mimeType:"application/vnd.microsoft.portable-executable"},{ext:"",mimeType:"application/x-elf"},{ext:"",mimeType:"application/x-object"},{ext:"",mimeType:"application/x-executable"},{ext:".so",mimeType:"application/x-sharedlib"},{ext:"",mimeType:"application/x-coredump"},{ext:".a",mimeType:"application/x-archive"},{ext:".deb",mimeType:"application/vnd.debian.binary-package"},{ext:".tar",mimeType:"application/x-tar"},{ext:".xar",mimeType:"application/x-xar"},{ext:".bz2",mimeType:"application/x-bzip2"},{ext:".fits",mimeType:"application/fits"},{ext:".tiff",mimeType:"image/tiff"},{ext:".bmp",mimeType:"image/bmp"},{ext:".ico",mimeType:"image/x-icon"},{ext:".mp3",mimeType:"audio/mpeg"},{ext:".flac",mimeType:"audio/flac"},{ext:".midi",mimeType:"audio/midi"},{ext:".ape",mimeType:"audio/ape"},{ext:".mpc",mimeType:"audio/musepack"},{ext:".amr",mimeType:"audio/amr"},{ext:".wav",mimeType:"audio/wav"},{ext:".aiff",mimeType:"audio/aiff"},{ext:".au",mimeType:"audio/basic"},{ext:".mpeg",mimeType:"video/mpeg"},{ext:".mov",mimeType:"video/quicktime"},{ext:".mqv",mimeType:"video/quicktime"},{ext:".mp4",mimeType:"video/mp4"},{ext:".webm",mimeType:"video/webm"},{ext:".3gp",mimeType:"video/3gpp"},{ext:".3g2",mimeType:"video/3gpp2"},{ext:".avi",mimeType:"video/x-msvideo"},{ext:".flv",mimeType:"video/x-flv"},{ext:".mkv",mimeType:"video/x-matroska"},{ext:".asf",mimeType:"video/x-ms-asf"},{ext:".aac",mimeType:"audio/aac"},{ext:".voc",mimeType:"audio/x-unknown"},{ext:".mp4",mimeType:"audio/mp4"},{ext:".m4a",mimeType:"audio/x-m4a"},{ext:".m3u",mimeType:"application/vnd.apple.mpegurl"},{ext:".m4v",mimeType:"video/x-m4v"},{ext:".rmvb",mimeType:"application/vnd.rn-realmedia-vbr"},{ext:".gz",mimeType:"application/gzip"},{ext:".class",mimeType:"application/x-java-applet"},{ext:".swf",mimeType:"application/x-shockwave-flash"},{ext:".crx",mimeType:"application/x-chrome-extension"},{ext:".ttf",mimeType:"font/ttf"},{ext:".woff",mimeType:"font/woff"},{ext:".woff2",mimeType:"font/woff2"},{ext:".otf",mimeType:"font/otf"},{ext:".ttc",mimeType:"font/collection"},{ext:".eot",mimeType:"application/vnd.ms-fontobject"},{ext:".wasm",mimeType:"application/wasm"},{ext:".shx",mimeType:"application/vnd.shx"},{ext:".shp",mimeType:"application/vnd.shp"},{ext:".dbf",mimeType:"application/x-dbf"},{ext:".dcm",mimeType:"application/dicom"},{ext:".rar",mimeType:"application/x-rar-compressed"},{ext:".djvu",mimeType:"image/vnd.djvu"},{ext:".mobi",mimeType:"application/x-mobipocket-ebook"},{ext:".lit",mimeType:"application/x-ms-reader"},{ext:".bpg",mimeType:"image/bpg"},{ext:".sqlite",mimeType:"application/vnd.sqlite3"},{ext:".dwg",mimeType:"image/vnd.dwg"},{ext:".nes",mimeType:"application/vnd.nintendo.snes.rom"},{ext:".lnk",mimeType:"application/x-ms-shortcut"},{ext:".macho",mimeType:"application/x-mach-binary"},{ext:".qcp",mimeType:"audio/qcelp"},{ext:".icns",mimeType:"image/x-icns"},{ext:".heic",mimeType:"image/heic"},{ext:".heic",mimeType:"image/heic-sequence"},{ext:".heif",mimeType:"image/heif"},{ext:".heif",mimeType:"image/heif-sequence"},{ext:".hdr",mimeType:"image/vnd.radiance"},{ext:".mrc",mimeType:"application/marc"},{ext:".mdb",mimeType:"application/x-msaccess"},{ext:".accdb",mimeType:"application/x-msaccess"},{ext:".zst",mimeType:"application/zstd"},{ext:".cab",mimeType:"application/vnd.ms-cab-compressed"},{ext:".rpm",mimeType:"application/x-rpm"},{ext:".xz",mimeType:"application/x-xz"},{ext:".lz",mimeType:"application/lzip"},{ext:".torrent",mimeType:"application/x-bittorrent"},{ext:".cpio",mimeType:"application/x-cpio"},{ext:"",mimeType:"application/tzif"},{ext:".xcf",mimeType:"image/x-xcf"},{ext:".pat",mimeType:"image/x-gimp-pat"},{ext:".gbr",mimeType:"image/x-gimp-gbr"},{ext:".glb",mimeType:"model/gltf-binary"},{ext:".avif",mimeType:"image/avif"},{ext:".cab",mimeType:"application/x-installshield"},{ext:".jxr",mimeType:"image/jxr"},{ext:".txt",mimeType:"text/plain"},{ext:".html",mimeType:"text/html"},{ext:".svg",mimeType:"image/svg+xml"},{ext:".xml",mimeType:"text/xml"},{ext:".rss",mimeType:"application/rss+xml"},{ext:".atom",mimeType:"applicatiotom+xml"},{ext:".x3d",mimeType:"model/x3d+xml"},{ext:".kml",mimeType:"application/vnd.google-earth.kml+xml"},{ext:".xlf",mimeType:"application/x-xliff+xml"},{ext:".dae",mimeType:"model/vnd.collada+xml"},{ext:".gml",mimeType:"application/gml+xml"},{ext:".gpx",mimeType:"application/gpx+xml"},{ext:".tcx",mimeType:"application/vnd.garmin.tcx+xml"},{ext:".amf",mimeType:"application/x-amf"},{ext:".3mf",mimeType:"application/vnd.ms-package.3dmanufacturing-3dmodel+xml"},{ext:".xfdf",mimeType:"application/vnd.adobe.xfdf"},{ext:".owl",mimeType:"application/owl+xml"},{ext:".php",mimeType:"text/x-php"},{ext:".js",mimeType:"application/javascript"},{ext:".lua",mimeType:"text/x-lua"},{ext:".pl",mimeType:"text/x-perl"},{ext:".py",mimeType:"text/x-python"},{ext:".json",mimeType:"application/json"},{ext:".geojson",mimeType:"application/geo+json"},{ext:".har",mimeType:"application/json"},{ext:".ndjson",mimeType:"application/x-ndjson"},{ext:".rtf",mimeType:"text/rtf"},{ext:".srt",mimeType:"application/x-subrip"},{ext:".tcl",mimeType:"text/x-tcl"},{ext:".csv",mimeType:"text/csv"},{ext:".tsv",mimeType:"text/tab-separated-values"},{ext:".vcf",mimeType:"text/vcard"},{ext:".ics",mimeType:"text/calendar"},{ext:".warc",mimeType:"application/warc"},{ext:".vtt",mimeType:"text/vtt"},{ext:"",mimeType:"application/octet-stream"}];function Wg(n){let e,t,l;function i(r){n[16](r)}let s={id:n[22],items:n[4],readonly:!n[23]};return n[2]!==void 0&&(s.keyOfSelected=n[2]),e=new Qn({props:s}),le.push(()=>me(e,"keyOfSelected",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o&4194304&&(a.id=r[22]),o&8388608&&(a.readonly=!r[23]),!t&&o&4&&(t=!0,a.keyOfSelected=r[2],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Kg(n){let e,t,l,i,s,r;return l=new de({props:{class:"form-field form-field-single-multiple-select "+(n[23]?"":"readonly"),inlineError:!0,$$slots:{default:[Wg,({uniqueId:o})=>({22:o}),({uniqueId:o})=>o?4194304:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=D(),U(l.$$.fragment),i=D(),s=h("div"),p(e,"class","separator"),p(s,"class","separator")},m(o,a){w(o,e,a),w(o,t,a),H(l,o,a),w(o,i,a),w(o,s,a),r=!0},p(o,a){const u={};a&8388608&&(u.class="form-field form-field-single-multiple-select "+(o[23]?"":"readonly")),a&29360132&&(u.$$scope={dirty:a,ctx:o}),l.$set(u)},i(o){r||(M(l.$$.fragment,o),r=!0)},o(o){I(l.$$.fragment,o),r=!1},d(o){o&&y(e),o&&y(t),V(l,o),o&&y(i),o&&y(s)}}}function Yg(n){let e,t,l,i,s,r,o,a,u;return{c(){e=h("button"),e.innerHTML='<span class="txt">Images (jpg, png, svg, gif, webp)</span>',t=D(),l=h("button"),l.innerHTML='<span class="txt">Documents (pdf, doc/docx, xls/xlsx)</span>',i=D(),s=h("button"),s.innerHTML='<span class="txt">Videos (mp4, avi, mov, 3gp)</span>',r=D(),o=h("button"),o.innerHTML='<span class="txt">Archives (zip, 7zip, rar)</span>',p(e,"type","button"),p(e,"class","dropdown-item closable"),p(l,"type","button"),p(l,"class","dropdown-item closable"),p(s,"type","button"),p(s,"class","dropdown-item closable"),p(o,"type","button"),p(o,"class","dropdown-item closable")},m(f,c){w(f,e,c),w(f,t,c),w(f,l,c),w(f,i,c),w(f,s,c),w(f,r,c),w(f,o,c),a||(u=[Y(e,"click",n[9]),Y(l,"click",n[10]),Y(s,"click",n[11]),Y(o,"click",n[12])],a=!0)},p:x,d(f){f&&y(e),f&&y(t),f&&y(l),f&&y(i),f&&y(s),f&&y(r),f&&y(o),a=!1,Te(u)}}}function Jg(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C;function T(E){n[8](E)}let S={id:n[22],multiple:!0,searchable:!0,closable:!1,selectionKey:"mimeType",selectPlaceholder:"No restriction",items:n[3],labelComponent:ua,optionComponent:ua};return n[0].options.mimeTypes!==void 0&&(S.keyOfSelected=n[0].options.mimeTypes),o=new Qn({props:S}),le.push(()=>me(o,"keyOfSelected",T)),g=new gn({props:{class:"dropdown dropdown-sm dropdown-nowrap dropdown-left",$$slots:{default:[Yg]},$$scope:{ctx:n}}}),{c(){e=h("label"),t=h("span"),t.textContent="Allowed mime types",l=D(),i=h("i"),r=D(),U(o.$$.fragment),u=D(),f=h("div"),c=h("button"),d=h("span"),d.textContent="Choose presets",m=D(),v=h("i"),_=D(),U(g.$$.fragment),p(t,"class","txt"),p(i,"class","ri-information-line link-hint"),p(e,"for",s=n[22]),p(d,"class","txt link-primary"),p(v,"class","ri-arrow-drop-down-fill"),p(c,"type","button"),p(c,"class","inline-flex flex-gap-0"),p(f,"class","help-block")},m(E,O){w(E,e,O),b(e,t),b(e,l),b(e,i),w(E,r,O),H(o,E,O),w(E,u,O),w(E,f,O),b(f,c),b(c,d),b(c,m),b(c,v),b(c,_),H(g,c,null),k=!0,$||(C=$e(Pe.call(null,i,{text:`Allow files ONLY with the listed mime types. 
 Leave empty for no restriction.`,position:"top"})),$=!0)},p(E,O){(!k||O&4194304&&s!==(s=E[22]))&&p(e,"for",s);const A={};O&4194304&&(A.id=E[22]),O&8&&(A.items=E[3]),!a&&O&1&&(a=!0,A.keyOfSelected=E[0].options.mimeTypes,he(()=>a=!1)),o.$set(A);const N={};O&16777217&&(N.$$scope={dirty:O,ctx:E}),g.$set(N)},i(E){k||(M(o.$$.fragment,E),M(g.$$.fragment,E),k=!0)},o(E){I(o.$$.fragment,E),I(g.$$.fragment,E),k=!1},d(E){E&&y(e),E&&y(r),V(o,E),E&&y(u),E&&y(f),V(g),$=!1,C()}}}function Zg(n){let e;return{c(){e=h("ul"),e.innerHTML=`<li><strong>WxH</strong>
                                        (eg. 100x50) - crop to WxH viewbox (from center)</li> 
                                    <li><strong>WxHt</strong>
                                        (eg. 100x50t) - crop to WxH viewbox (from top)</li> 
                                    <li><strong>WxHb</strong>
                                        (eg. 100x50b) - crop to WxH viewbox (from bottom)</li> 
                                    <li><strong>WxHf</strong>
                                        (eg. 100x50f) - fit inside a WxH viewbox (without cropping)</li> 
                                    <li><strong>0xH</strong>
                                        (eg. 0x50) - resize to H height preserving the aspect ratio</li> 
                                    <li><strong>Wx0</strong>
                                        (eg. 100x0) - resize to W width preserving the aspect ratio</li>`,p(e,"class","m-0")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function Gg(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S;function E(A){n[13](A)}let O={id:n[22],placeholder:"eg. 50x50, 480x720"};return n[0].options.thumbs!==void 0&&(O.value=n[0].options.thumbs),o=new Ll({props:O}),le.push(()=>me(o,"value",E)),$=new gn({props:{class:"dropdown dropdown-sm dropdown-center dropdown-nowrap p-r-10",$$slots:{default:[Zg]},$$scope:{ctx:n}}}),{c(){e=h("label"),t=h("span"),t.textContent="Thumb sizes",l=D(),i=h("i"),r=D(),U(o.$$.fragment),u=D(),f=h("div"),c=h("span"),c.textContent="Use comma as separator.",d=D(),m=h("button"),v=h("span"),v.textContent="Supported formats",_=D(),g=h("i"),k=D(),U($.$$.fragment),p(t,"class","txt"),p(i,"class","ri-information-line link-hint"),p(e,"for",s=n[22]),p(c,"class","txt"),p(v,"class","txt link-primary"),p(g,"class","ri-arrow-drop-down-fill"),p(m,"type","button"),p(m,"class","inline-flex flex-gap-0"),p(f,"class","help-block")},m(A,N){w(A,e,N),b(e,t),b(e,l),b(e,i),w(A,r,N),H(o,A,N),w(A,u,N),w(A,f,N),b(f,c),b(f,d),b(f,m),b(m,v),b(m,_),b(m,g),b(m,k),H($,m,null),C=!0,T||(S=$e(Pe.call(null,i,{text:"List of additional thumb sizes for image files, along with the default thumb size of 100x100. The thumbs are generated lazily on first access.",position:"top"})),T=!0)},p(A,N){(!C||N&4194304&&s!==(s=A[22]))&&p(e,"for",s);const F={};N&4194304&&(F.id=A[22]),!a&&N&1&&(a=!0,F.value=A[0].options.thumbs,he(()=>a=!1)),o.$set(F);const L={};N&16777216&&(L.$$scope={dirty:N,ctx:A}),$.$set(L)},i(A){C||(M(o.$$.fragment,A),M($.$$.fragment,A),C=!0)},o(A){I(o.$$.fragment,A),I($.$$.fragment,A),C=!1},d(A){A&&y(e),A&&y(r),V(o,A),A&&y(u),A&&y(f),V($),T=!1,S()}}}function Qg(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=B("Max file size"),i=D(),s=h("input"),o=D(),a=h("div"),a.textContent="Must be in bytes.",p(e,"for",l=n[22]),p(s,"type","number"),p(s,"id",r=n[22]),p(s,"step","1"),p(s,"min","0"),p(a,"class","help-block")},m(c,d){w(c,e,d),b(e,t),w(c,i,d),w(c,s,d),re(s,n[0].options.maxSize),w(c,o,d),w(c,a,d),u||(f=Y(s,"input",n[14]),u=!0)},p(c,d){d&4194304&&l!==(l=c[22])&&p(e,"for",l),d&4194304&&r!==(r=c[22])&&p(s,"id",r),d&1&&lt(s.value)!==c[0].options.maxSize&&re(s,c[0].options.maxSize)},d(c){c&&y(e),c&&y(i),c&&y(s),c&&y(o),c&&y(a),u=!1,f()}}}function fa(n){let e,t,l;return t=new de({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[Xg,({uniqueId:i})=>({22:i}),({uniqueId:i})=>i?4194304:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),U(t.$$.fragment),p(e,"class","col-sm-3")},m(i,s){w(i,e,s),H(t,e,null),l=!0},p(i,s){const r={};s&2&&(r.name="schema."+i[1]+".options.maxSelect"),s&20971521&&(r.$$scope={dirty:s,ctx:i}),t.$set(r)},i(i){l||(M(t.$$.fragment,i),l=!0)},o(i){I(t.$$.fragment,i),l=!1},d(i){i&&y(e),V(t)}}}function Xg(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Max select"),i=D(),s=h("input"),p(e,"for",l=n[22]),p(s,"id",r=n[22]),p(s,"type","number"),p(s,"step","1"),p(s,"min","2"),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].options.maxSelect),o||(a=Y(s,"input",n[15]),o=!0)},p(u,f){f&4194304&&l!==(l=u[22])&&p(e,"for",l),f&4194304&&r!==(r=u[22])&&p(s,"id",r),f&1&&lt(s.value)!==u[0].options.maxSelect&&re(s,u[0].options.maxSelect)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function xg(n){let e,t,l,i,s,r,o,a,u,f,c,d,m;l=new de({props:{class:"form-field",name:"schema."+n[1]+".options.mimeTypes",$$slots:{default:[Jg,({uniqueId:_})=>({22:_}),({uniqueId:_})=>_?4194304:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field",name:"schema."+n[1]+".options.thumbs",$$slots:{default:[Gg,({uniqueId:_})=>({22:_}),({uniqueId:_})=>_?4194304:0]},$$scope:{ctx:n}}}),f=new de({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSize",$$slots:{default:[Qg,({uniqueId:_})=>({22:_}),({uniqueId:_})=>_?4194304:0]},$$scope:{ctx:n}}});let v=!n[2]&&fa(n);return{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),a=D(),u=h("div"),U(f.$$.fragment),d=D(),v&&v.c(),p(t,"class","col-sm-12"),p(s,"class",o=n[2]?"col-sm-8":"col-sm-6"),p(u,"class",c=n[2]?"col-sm-4":"col-sm-3"),p(e,"class","grid grid-sm")},m(_,g){w(_,e,g),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),b(e,a),b(e,u),H(f,u,null),b(e,d),v&&v.m(e,null),m=!0},p(_,g){const k={};g&2&&(k.name="schema."+_[1]+".options.mimeTypes"),g&20971529&&(k.$$scope={dirty:g,ctx:_}),l.$set(k);const $={};g&2&&($.name="schema."+_[1]+".options.thumbs"),g&20971521&&($.$$scope={dirty:g,ctx:_}),r.$set($),(!m||g&4&&o!==(o=_[2]?"col-sm-8":"col-sm-6"))&&p(s,"class",o);const C={};g&2&&(C.name="schema."+_[1]+".options.maxSize"),g&20971521&&(C.$$scope={dirty:g,ctx:_}),f.$set(C),(!m||g&4&&c!==(c=_[2]?"col-sm-4":"col-sm-3"))&&p(u,"class",c),_[2]?v&&(ue(),I(v,1,1,()=>{v=null}),fe()):v?(v.p(_,g),g&4&&M(v,1)):(v=fa(_),v.c(),M(v,1),v.m(e,null))},i(_){m||(M(l.$$.fragment,_),M(r.$$.fragment,_),M(f.$$.fragment,_),M(v),m=!0)},o(_){I(l.$$.fragment,_),I(r.$$.fragment,_),I(f.$$.fragment,_),I(v),m=!1},d(_){_&&y(e),V(l),V(r),V(f),v&&v.d()}}}function ev(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("input"),l=D(),i=h("label"),s=h("span"),s.textContent="Protected",o=D(),a=h("a"),a.textContent="(Learn more)",p(e,"type","checkbox"),p(e,"id",t=n[22]),p(s,"class","txt"),p(i,"for",r=n[22]),p(a,"href","https://pocketbase.io/docs/files-handling/#protected-files"),p(a,"class","toggle-info txt-sm txt-hint m-l-5"),p(a,"target","_blank"),p(a,"rel","noopener")},m(c,d){w(c,e,d),e.checked=n[0].options.protected,w(c,l,d),w(c,i,d),b(i,s),w(c,o,d),w(c,a,d),u||(f=Y(e,"change",n[7]),u=!0)},p(c,d){d&4194304&&t!==(t=c[22])&&p(e,"id",t),d&1&&(e.checked=c[0].options.protected),d&4194304&&r!==(r=c[22])&&p(i,"for",r)},d(c){c&&y(e),c&&y(l),c&&y(i),c&&y(o),c&&y(a),u=!1,f()}}}function tv(n){let e,t,l;return t=new de({props:{class:"form-field form-field-toggle m-0",name:"schema."+n[1]+".options.protected",$$slots:{default:[ev,({uniqueId:i})=>({22:i}),({uniqueId:i})=>i?4194304:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),U(t.$$.fragment),p(e,"class","col-sm-4")},m(i,s){w(i,e,s),H(t,e,null),l=!0},p(i,s){const r={};s&2&&(r.name="schema."+i[1]+".options.protected"),s&20971521&&(r.$$scope={dirty:s,ctx:i}),t.$set(r)},i(i){l||(M(t.$$.fragment,i),l=!0)},o(i){I(t.$$.fragment,i),l=!1},d(i){i&&y(e),V(t)}}}function nv(n){let e,t,l;const i=[{key:n[1]},n[5]];function s(o){n[17](o)}let r={$$slots:{afterNonempty:[tv],options:[xg],default:[Kg,({interactive:o})=>({23:o}),({interactive:o})=>o?8388608:0]},$$scope:{ctx:n}};for(let o=0;o<i.length;o+=1)r=Ae(r,i[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mn({props:r}),le.push(()=>me(e,"field",s)),e.$on("rename",n[18]),e.$on("remove",n[19]),{c(){U(e.$$.fragment)},m(o,a){H(e,o,a),l=!0},p(o,[a]){const u=a&34?mt(i,[a&2&&{key:o[1]},a&32&&Nt(o[5])]):{};a&25165839&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.field=o[0],he(()=>t=!1)),e.$set(u)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){V(e,o)}}}function lv(n,e,t){var F;const l=["field","key"];let i=ze(e,l),{field:s}=e,{key:r=""}=e;const o=[{label:"Single",value:!0},{label:"Multiple",value:!1}];let a=Bg.slice(),u=((F=s.options)==null?void 0:F.maxSelect)<=1,f=u;function c(){t(0,s.options={maxSelect:1,maxSize:5242880,thumbs:[],mimeTypes:[]},s),t(2,u=!0),t(6,f=u)}function d(){if(j.isEmpty(s.options.mimeTypes))return;const L=[];for(const P of s.options.mimeTypes)a.find(R=>R.mimeType===P)||L.push({mimeType:P});L.length&&t(3,a=a.concat(L))}function m(){s.options.protected=this.checked,t(0,s),t(6,f),t(2,u)}function v(L){n.$$.not_equal(s.options.mimeTypes,L)&&(s.options.mimeTypes=L,t(0,s),t(6,f),t(2,u))}const _=()=>{t(0,s.options.mimeTypes=["image/jpeg","image/png","image/svg+xml","image/gif","image/webp"],s)},g=()=>{t(0,s.options.mimeTypes=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],s)},k=()=>{t(0,s.options.mimeTypes=["video/mp4","video/x-ms-wmv","video/quicktime","video/3gpp"],s)},$=()=>{t(0,s.options.mimeTypes=["application/zip","application/x-7z-compressed","application/x-rar-compressed"],s)};function C(L){n.$$.not_equal(s.options.thumbs,L)&&(s.options.thumbs=L,t(0,s),t(6,f),t(2,u))}function T(){s.options.maxSize=lt(this.value),t(0,s),t(6,f),t(2,u)}function S(){s.options.maxSelect=lt(this.value),t(0,s),t(6,f),t(2,u)}function E(L){u=L,t(2,u)}function O(L){s=L,t(0,s),t(6,f),t(2,u)}function A(L){De.call(this,n,L)}function N(L){De.call(this,n,L)}return n.$$set=L=>{e=Ae(Ae({},e),It(L)),t(5,i=ze(e,l)),"field"in L&&t(0,s=L.field),"key"in L&&t(1,r=L.key)},n.$$.update=()=>{var L,P;n.$$.dirty&69&&f!=u&&(t(6,f=u),u?t(0,s.options.maxSelect=1,s):t(0,s.options.maxSelect=((P=(L=s.options)==null?void 0:L.values)==null?void 0:P.length)||99,s)),n.$$.dirty&1&&(j.isEmpty(s.options)?c():d())},[s,r,u,a,o,i,f,m,v,_,g,k,$,C,T,S,E,O,A,N]}class iv extends ge{constructor(e){super(),be(this,e,lv,nv,_e,{field:0,key:1})}}function sv(n){let e,t,l,i,s;return{c(){e=h("hr"),t=D(),l=h("button"),l.innerHTML=`<i class="ri-add-line"></i> 
                        <span class="txt">New collection</span>`,p(l,"type","button"),p(l,"class","btn btn-transparent btn-block btn-sm")},m(r,o){w(r,e,o),w(r,t,o),w(r,l,o),i||(s=Y(l,"click",n[17]),i=!0)},p:x,d(r){r&&y(e),r&&y(t),r&&y(l),i=!1,s()}}}function rv(n){let e,t,l;function i(r){n[18](r)}let s={id:n[29],searchable:n[6].length>5,selectPlaceholder:"Select collection *",noOptionsText:"No collections found",selectionKey:"id",items:n[6],readonly:!n[30]||n[0].id,$$slots:{afterOptions:[sv]},$$scope:{ctx:n}};return n[0].options.collectionId!==void 0&&(s.keyOfSelected=n[0].options.collectionId),e=new Qn({props:s}),le.push(()=>me(e,"keyOfSelected",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o[0]&536870912&&(a.id=r[29]),o[0]&64&&(a.searchable=r[6].length>5),o[0]&64&&(a.items=r[6]),o[0]&1073741825&&(a.readonly=!r[30]||r[0].id),o[0]&8|o[1]&1&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.keyOfSelected=r[0].options.collectionId,he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function ov(n){let e,t,l;function i(r){n[19](r)}let s={id:n[29],items:n[7],readonly:!n[30]};return n[2]!==void 0&&(s.keyOfSelected=n[2]),e=new Qn({props:s}),le.push(()=>me(e,"keyOfSelected",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o[0]&536870912&&(a.id=r[29]),o[0]&1073741824&&(a.readonly=!r[30]),!t&&o[0]&4&&(t=!0,a.keyOfSelected=r[2],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function av(n){let e,t,l,i,s,r,o,a,u,f;return l=new de({props:{class:"form-field required "+(n[30]?"":"readonly"),inlineError:!0,name:"schema."+n[1]+".options.collectionId",$$slots:{default:[rv,({uniqueId:c})=>({29:c}),({uniqueId:c})=>[c?536870912:0]]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field form-field-single-multiple-select "+(n[30]?"":"readonly"),inlineError:!0,$$slots:{default:[ov,({uniqueId:c})=>({29:c}),({uniqueId:c})=>[c?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=D(),U(l.$$.fragment),i=D(),s=h("div"),r=D(),U(o.$$.fragment),a=D(),u=h("div"),p(e,"class","separator"),p(s,"class","separator"),p(u,"class","separator")},m(c,d){w(c,e,d),w(c,t,d),H(l,c,d),w(c,i,d),w(c,s,d),w(c,r,d),H(o,c,d),w(c,a,d),w(c,u,d),f=!0},p(c,d){const m={};d[0]&1073741824&&(m.class="form-field required "+(c[30]?"":"readonly")),d[0]&2&&(m.name="schema."+c[1]+".options.collectionId"),d[0]&1610612809|d[1]&1&&(m.$$scope={dirty:d,ctx:c}),l.$set(m);const v={};d[0]&1073741824&&(v.class="form-field form-field-single-multiple-select "+(c[30]?"":"readonly")),d[0]&1610612740|d[1]&1&&(v.$$scope={dirty:d,ctx:c}),o.$set(v)},i(c){f||(M(l.$$.fragment,c),M(o.$$.fragment,c),f=!0)},o(c){I(l.$$.fragment,c),I(o.$$.fragment,c),f=!1},d(c){c&&y(e),c&&y(t),V(l,c),c&&y(i),c&&y(s),c&&y(r),V(o,c),c&&y(a),c&&y(u)}}}function ca(n){let e,t,l,i,s,r;return t=new de({props:{class:"form-field",name:"schema."+n[1]+".options.minSelect",$$slots:{default:[uv,({uniqueId:o})=>({29:o}),({uniqueId:o})=>[o?536870912:0]]},$$scope:{ctx:n}}}),s=new de({props:{class:"form-field",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[fv,({uniqueId:o})=>({29:o}),({uniqueId:o})=>[o?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=h("div"),U(t.$$.fragment),l=D(),i=h("div"),U(s.$$.fragment),p(e,"class","col-sm-6"),p(i,"class","col-sm-6")},m(o,a){w(o,e,a),H(t,e,null),w(o,l,a),w(o,i,a),H(s,i,null),r=!0},p(o,a){const u={};a[0]&2&&(u.name="schema."+o[1]+".options.minSelect"),a[0]&536870913|a[1]&1&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const f={};a[0]&2&&(f.name="schema."+o[1]+".options.maxSelect"),a[0]&536870913|a[1]&1&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){r||(M(t.$$.fragment,o),M(s.$$.fragment,o),r=!0)},o(o){I(t.$$.fragment,o),I(s.$$.fragment,o),r=!1},d(o){o&&y(e),V(t),o&&y(l),o&&y(i),V(s)}}}function uv(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Min select"),i=D(),s=h("input"),p(e,"for",l=n[29]),p(s,"type","number"),p(s,"id",r=n[29]),p(s,"step","1"),p(s,"min","1"),p(s,"placeholder","No min limit")},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].options.minSelect),o||(a=Y(s,"input",n[13]),o=!0)},p(u,f){f[0]&536870912&&l!==(l=u[29])&&p(e,"for",l),f[0]&536870912&&r!==(r=u[29])&&p(s,"id",r),f[0]&1&&lt(s.value)!==u[0].options.minSelect&&re(s,u[0].options.minSelect)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function fv(n){let e,t,l,i,s,r,o,a,u;return{c(){e=h("label"),t=B("Max select"),i=D(),s=h("input"),p(e,"for",l=n[29]),p(s,"type","number"),p(s,"id",r=n[29]),p(s,"step","1"),p(s,"placeholder","No max limit"),p(s,"min",o=n[0].options.minSelect||2)},m(f,c){w(f,e,c),b(e,t),w(f,i,c),w(f,s,c),re(s,n[0].options.maxSelect),a||(u=Y(s,"input",n[14]),a=!0)},p(f,c){c[0]&536870912&&l!==(l=f[29])&&p(e,"for",l),c[0]&536870912&&r!==(r=f[29])&&p(s,"id",r),c[0]&1&&o!==(o=f[0].options.minSelect||2)&&p(s,"min",o),c[0]&1&&lt(s.value)!==f[0].options.maxSelect&&re(s,f[0].options.maxSelect)},d(f){f&&y(e),f&&y(i),f&&y(s),a=!1,u()}}}function cv(n){let e,t,l,i,s,r,o,a,u,f,c;function d(v){n[15](v)}let m={multiple:!0,searchable:!0,id:n[29],selectPlaceholder:"Auto",items:n[4]};return n[0].options.displayFields!==void 0&&(m.selected=n[0].options.displayFields),o=new cr({props:m}),le.push(()=>me(o,"selected",d)),{c(){e=h("label"),t=h("span"),t.textContent="Display fields",l=D(),i=h("i"),r=D(),U(o.$$.fragment),p(t,"class","txt"),p(i,"class","ri-information-line link-hint"),p(e,"for",s=n[29])},m(v,_){w(v,e,_),b(e,t),b(e,l),b(e,i),w(v,r,_),H(o,v,_),u=!0,f||(c=$e(Pe.call(null,i,{text:"Optionally select the field(s) that will be used in the listings UI. Leave empty for auto.",position:"top"})),f=!0)},p(v,_){(!u||_[0]&536870912&&s!==(s=v[29]))&&p(e,"for",s);const g={};_[0]&536870912&&(g.id=v[29]),_[0]&16&&(g.items=v[4]),!a&&_[0]&1&&(a=!0,g.selected=v[0].options.displayFields,he(()=>a=!1)),o.$set(g)},i(v){u||(M(o.$$.fragment,v),u=!0)},o(v){I(o.$$.fragment,v),u=!1},d(v){v&&y(e),v&&y(r),V(o,v),f=!1,c()}}}function dv(n){let e,t,l,i,s,r,o,a,u,f,c,d;function m(_){n[16](_)}let v={id:n[29],items:n[8]};return n[0].options.cascadeDelete!==void 0&&(v.keyOfSelected=n[0].options.cascadeDelete),a=new Qn({props:v}),le.push(()=>me(a,"keyOfSelected",m)),{c(){e=h("label"),t=h("span"),t.textContent="Cascade delete",l=D(),i=h("i"),o=D(),U(a.$$.fragment),p(t,"class","txt"),p(i,"class","ri-information-line link-hint"),p(e,"for",r=n[29])},m(_,g){var k,$;w(_,e,g),b(e,t),b(e,l),b(e,i),w(_,o,g),H(a,_,g),f=!0,c||(d=$e(s=Pe.call(null,i,{text:[`Whether on ${((k=n[5])==null?void 0:k.name)||"relation"} record deletion to delete also the corresponding current collection record(s).`,n[2]?null:`For "Multiple" relation fields the cascade delete is triggered only when all ${(($=n[5])==null?void 0:$.name)||"relation"} ids are removed from the corresponding record.`].filter(Boolean).join(`

`),position:"top"})),c=!0)},p(_,g){var $,C;s&&kt(s.update)&&g[0]&36&&s.update.call(null,{text:[`Whether on ${(($=_[5])==null?void 0:$.name)||"relation"} record deletion to delete also the corresponding current collection record(s).`,_[2]?null:`For "Multiple" relation fields the cascade delete is triggered only when all ${((C=_[5])==null?void 0:C.name)||"relation"} ids are removed from the corresponding record.`].filter(Boolean).join(`

`),position:"top"}),(!f||g[0]&536870912&&r!==(r=_[29]))&&p(e,"for",r);const k={};g[0]&536870912&&(k.id=_[29]),!u&&g[0]&1&&(u=!0,k.keyOfSelected=_[0].options.cascadeDelete,he(()=>u=!1)),a.$set(k)},i(_){f||(M(a.$$.fragment,_),f=!0)},o(_){I(a.$$.fragment,_),f=!1},d(_){_&&y(e),_&&y(o),V(a,_),c=!1,d()}}}function pv(n){let e,t,l,i,s,r,o,a,u=!n[2]&&ca(n);return i=new de({props:{class:"form-field",name:"schema."+n[1]+".options.displayFields",$$slots:{default:[cv,({uniqueId:f})=>({29:f}),({uniqueId:f})=>[f?536870912:0]]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field",name:"schema."+n[1]+".options.cascadeDelete",$$slots:{default:[dv,({uniqueId:f})=>({29:f}),({uniqueId:f})=>[f?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=h("div"),u&&u.c(),t=D(),l=h("div"),U(i.$$.fragment),s=D(),r=h("div"),U(o.$$.fragment),p(l,"class","col-sm-6"),p(r,"class","col-sm-6"),p(e,"class","grid grid-sm")},m(f,c){w(f,e,c),u&&u.m(e,null),b(e,t),b(e,l),H(i,l,null),b(e,s),b(e,r),H(o,r,null),a=!0},p(f,c){f[2]?u&&(ue(),I(u,1,1,()=>{u=null}),fe()):u?(u.p(f,c),c[0]&4&&M(u,1)):(u=ca(f),u.c(),M(u,1),u.m(e,t));const d={};c[0]&2&&(d.name="schema."+f[1]+".options.displayFields"),c[0]&536870929|c[1]&1&&(d.$$scope={dirty:c,ctx:f}),i.$set(d);const m={};c[0]&2&&(m.name="schema."+f[1]+".options.cascadeDelete"),c[0]&536870949|c[1]&1&&(m.$$scope={dirty:c,ctx:f}),o.$set(m)},i(f){a||(M(u),M(i.$$.fragment,f),M(o.$$.fragment,f),a=!0)},o(f){I(u),I(i.$$.fragment,f),I(o.$$.fragment,f),a=!1},d(f){f&&y(e),u&&u.d(),V(i),V(o)}}}function mv(n){let e,t,l,i,s;const r=[{key:n[1]},n[9]];function o(f){n[20](f)}let a={$$slots:{options:[pv],default:[av,({interactive:f})=>({30:f}),({interactive:f})=>[f?1073741824:0]]},$$scope:{ctx:n}};for(let f=0;f<r.length;f+=1)a=Ae(a,r[f]);n[0]!==void 0&&(a.field=n[0]),e=new Mn({props:a}),le.push(()=>me(e,"field",o)),e.$on("rename",n[21]),e.$on("remove",n[22]);let u={};return i=new dr({props:u}),n[23](i),i.$on("save",n[24]),{c(){U(e.$$.fragment),l=D(),U(i.$$.fragment)},m(f,c){H(e,f,c),w(f,l,c),H(i,f,c),s=!0},p(f,c){const d=c[0]&514?mt(r,[c[0]&2&&{key:f[1]},c[0]&512&&Nt(f[9])]):{};c[0]&1073741951|c[1]&1&&(d.$$scope={dirty:c,ctx:f}),!t&&c[0]&1&&(t=!0,d.field=f[0],he(()=>t=!1)),e.$set(d);const m={};i.$set(m)},i(f){s||(M(e.$$.fragment,f),M(i.$$.fragment,f),s=!0)},o(f){I(e.$$.fragment,f),I(i.$$.fragment,f),s=!1},d(f){V(e,f),f&&y(l),n[23](null),V(i,f)}}}function _v(n,e,t){var Q;let l,i;const s=["field","key"];let r=ze(e,s),o;Ve(n,An,J=>t(12,o=J));let{field:a}=e,{key:u=""}=e;const f=[{label:"Single",value:!0},{label:"Multiple",value:!1}],c=[{label:"False",value:!1},{label:"True",value:!0}],d=["id","created","updated"],m=["username","email","emailVisibility","verified"];let v=null,_=[],g=null,k=((Q=a.options)==null?void 0:Q.maxSelect)==1,$=k;function C(){t(0,a.options={maxSelect:1,collectionId:null,cascadeDelete:!1,displayFields:[]},a),t(2,k=!0),t(11,$=k)}function T(){var J,Z;if(t(4,_=d.slice(0)),!!i){i.isAuth&&t(4,_=_.concat(m));for(const se of i.schema)_.push(se.name);if(((Z=(J=a.options)==null?void 0:J.displayFields)==null?void 0:Z.length)>0)for(let se=a.options.displayFields.length-1;se>=0;se--)_.includes(a.options.displayFields[se])||a.options.displayFields.splice(se,1)}}function S(){a.options.minSelect=lt(this.value),t(0,a),t(11,$),t(2,k)}function E(){a.options.maxSelect=lt(this.value),t(0,a),t(11,$),t(2,k)}function O(J){n.$$.not_equal(a.options.displayFields,J)&&(a.options.displayFields=J,t(0,a),t(11,$),t(2,k))}function A(J){n.$$.not_equal(a.options.cascadeDelete,J)&&(a.options.cascadeDelete=J,t(0,a),t(11,$),t(2,k))}const N=()=>v==null?void 0:v.show();function F(J){n.$$.not_equal(a.options.collectionId,J)&&(a.options.collectionId=J,t(0,a),t(11,$),t(2,k))}function L(J){k=J,t(2,k)}function P(J){a=J,t(0,a),t(11,$),t(2,k)}function R(J){De.call(this,n,J)}function q(J){De.call(this,n,J)}function z(J){le[J?"unshift":"push"](()=>{v=J,t(3,v)})}const K=J=>{var Z,se;(se=(Z=J==null?void 0:J.detail)==null?void 0:Z.collection)!=null&&se.id&&J.detail.collection.type!="view"&&t(0,a.options.collectionId=J.detail.collection.id,a)};return n.$$set=J=>{e=Ae(Ae({},e),It(J)),t(9,r=ze(e,s)),"field"in J&&t(0,a=J.field),"key"in J&&t(1,u=J.key)},n.$$.update=()=>{n.$$.dirty[0]&4096&&t(6,l=o.filter(J=>J.type!="view")),n.$$.dirty[0]&2052&&$!=k&&(t(11,$=k),k?(t(0,a.options.minSelect=null,a),t(0,a.options.maxSelect=1,a)):t(0,a.options.maxSelect=null,a)),n.$$.dirty[0]&1&&j.isEmpty(a.options)&&C(),n.$$.dirty[0]&4097&&t(5,i=o.find(J=>J.id==a.options.collectionId)||null),n.$$.dirty[0]&1025&&g!=a.options.collectionId&&(t(10,g=a.options.collectionId),T())},[a,u,k,v,_,i,l,f,c,r,g,$,o,S,E,O,A,N,F,L,P,R,q,z,K]}class hv extends ge{constructor(e){super(),be(this,e,_v,mv,_e,{field:0,key:1},null,[-1,-1])}}const bv=n=>({dragging:n&4,dragover:n&8}),da=n=>({dragging:n[2],dragover:n[3]});function gv(n){let e,t,l,i,s;const r=n[10].default,o=ut(r,n,n[9],da);return{c(){e=h("div"),o&&o.c(),p(e,"draggable",t=!n[1]),p(e,"class","draggable svelte-28orm4"),X(e,"dragging",n[2]),X(e,"dragover",n[3])},m(a,u){w(a,e,u),o&&o.m(e,null),l=!0,i||(s=[Y(e,"dragover",Ke(n[11])),Y(e,"dragleave",Ke(n[12])),Y(e,"dragend",n[13]),Y(e,"dragstart",n[14]),Y(e,"drop",n[15])],i=!0)},p(a,[u]){o&&o.p&&(!l||u&524)&&ct(o,r,a,a[9],l?ft(r,a[9],u,bv):dt(a[9]),da),(!l||u&2&&t!==(t=!a[1]))&&p(e,"draggable",t),(!l||u&4)&&X(e,"dragging",a[2]),(!l||u&8)&&X(e,"dragover",a[3])},i(a){l||(M(o,a),l=!0)},o(a){I(o,a),l=!1},d(a){a&&y(e),o&&o.d(a),i=!1,Te(s)}}}function vv(n,e,t){let{$$slots:l={},$$scope:i}=e;const s=pt();let{index:r}=e,{list:o=[]}=e,{group:a="default"}=e,{disabled:u=!1}=e,{dragHandleClass:f=""}=e,c=!1,d=!1;function m(T,S){if(!(!T||u)){if(f&&!T.target.classList.contains(f)){t(3,d=!1),t(2,c=!1),T.preventDefault();return}t(2,c=!0),T.dataTransfer.effectAllowed="move",T.dataTransfer.dropEffect="move",T.dataTransfer.setData("text/plain",JSON.stringify({index:S,group:a})),s("drag",T)}}function v(T,S){if(t(3,d=!1),t(2,c=!1),!T||u)return;T.dataTransfer.dropEffect="move";let E={};try{E=JSON.parse(T.dataTransfer.getData("text/plain"))}catch{}if(E.group!=a)return;const O=E.index<<0;O<S?(o.splice(S+1,0,o[O]),o.splice(O,1)):(o.splice(S,0,o[O]),o.splice(O+1,1)),t(6,o),s("sort",{oldIndex:O,newIndex:S,list:o})}const _=()=>{t(3,d=!0)},g=()=>{t(3,d=!1)},k=()=>{t(3,d=!1),t(2,c=!1)},$=T=>m(T,r),C=T=>v(T,r);return n.$$set=T=>{"index"in T&&t(0,r=T.index),"list"in T&&t(6,o=T.list),"group"in T&&t(7,a=T.group),"disabled"in T&&t(1,u=T.disabled),"dragHandleClass"in T&&t(8,f=T.dragHandleClass),"$$scope"in T&&t(9,i=T.$$scope)},[r,u,c,d,m,v,o,a,f,i,l,_,g,k,$,C]}class oi extends ge{constructor(e){super(),be(this,e,vv,gv,_e,{index:0,list:6,group:7,disabled:1,dragHandleClass:8})}}function pa(n,e,t){const l=n.slice();return l[17]=e[t],l[18]=e,l[19]=t,l}function ma(n){let e,t,l,i,s,r,o,a;return{c(){e=B(`,
            `),t=h("code"),t.textContent="username",l=B(` ,
            `),i=h("code"),i.textContent="email",s=B(` ,
            `),r=h("code"),r.textContent="emailVisibility",o=B(` ,
            `),a=h("code"),a.textContent="verified",p(t,"class","txt-sm"),p(i,"class","txt-sm"),p(r,"class","txt-sm"),p(a,"class","txt-sm")},m(u,f){w(u,e,f),w(u,t,f),w(u,l,f),w(u,i,f),w(u,s,f),w(u,r,f),w(u,o,f),w(u,a,f)},d(u){u&&y(e),u&&y(t),u&&y(l),u&&y(i),u&&y(s),u&&y(r),u&&y(o),u&&y(a)}}}function kv(n){let e,t,l,i;function s(u){n[6](u,n[17],n[18],n[19])}function r(){return n[7](n[19])}var o=n[1][n[17].type];function a(u){let f={key:u[4](u[17])};return u[17]!==void 0&&(f.field=u[17]),{props:f}}return o&&(e=gt(o,a(n)),le.push(()=>me(e,"field",s)),e.$on("remove",r),e.$on("rename",n[8])),{c(){e&&U(e.$$.fragment),l=D()},m(u,f){e&&H(e,u,f),w(u,l,f),i=!0},p(u,f){n=u;const c={};if(f&1&&(c.key=n[4](n[17])),!t&&f&1&&(t=!0,c.field=n[17],he(()=>t=!1)),f&1&&o!==(o=n[1][n[17].type])){if(e){ue();const d=e;I(d.$$.fragment,1,0,()=>{V(d,1)}),fe()}o?(e=gt(o,a(n)),le.push(()=>me(e,"field",s)),e.$on("remove",r),e.$on("rename",n[8]),U(e.$$.fragment),M(e.$$.fragment,1),H(e,l.parentNode,l)):e=null}else o&&e.$set(c)},i(u){i||(e&&M(e.$$.fragment,u),i=!0)},o(u){e&&I(e.$$.fragment,u),i=!1},d(u){e&&V(e,u),u&&y(l)}}}function _a(n,e){let t,l,i,s;function r(a){e[9](a)}let o={index:e[19],disabled:e[17].toDelete||e[17].id&&e[17].system,dragHandleClass:"drag-handle-wrapper",$$slots:{default:[kv]},$$scope:{ctx:e}};return e[0].schema!==void 0&&(o.list=e[0].schema),l=new oi({props:o}),le.push(()=>me(l,"list",r)),l.$on("drag",e[10]),l.$on("sort",e[11]),{key:n,first:null,c(){t=ke(),U(l.$$.fragment),this.first=t},m(a,u){w(a,t,u),H(l,a,u),s=!0},p(a,u){e=a;const f={};u&1&&(f.index=e[19]),u&1&&(f.disabled=e[17].toDelete||e[17].id&&e[17].system),u&1048577&&(f.$$scope={dirty:u,ctx:e}),!i&&u&1&&(i=!0,f.list=e[0].schema,he(()=>i=!1)),l.$set(f)},i(a){s||(M(l.$$.fragment,a),s=!0)},o(a){I(l.$$.fragment,a),s=!1},d(a){a&&y(t),V(l,a)}}}function yv(n){let e,t,l,i,s,r,o,a,u,f,c,d,m=[],v=new Map,_,g,k,$,C,T,S,E,O=n[0].$isAuth&&ma(),A=n[0].schema;const N=P=>P[17];for(let P=0;P<A.length;P+=1){let R=pa(n,A,P),q=N(R);v.set(q,m[P]=_a(q,R))}g=new fb({props:{class:"btn btn-block btn-outline"}}),g.$on("select",n[12]);function F(P){n[13](P)}let L={};return n[0]!==void 0&&(L.collection=n[0]),T=new rb({props:L}),le.push(()=>me(T,"collection",F)),{c(){e=h("div"),t=h("p"),l=B(`System fields:
        `),i=h("code"),i.textContent="id",s=B(` ,
        `),r=h("code"),r.textContent="created",o=B(` ,
        `),a=h("code"),a.textContent="updated",u=D(),O&&O.c(),f=B(`
        .`),c=D(),d=h("div");for(let P=0;P<m.length;P+=1)m[P].c();_=D(),U(g.$$.fragment),k=D(),$=h("hr"),C=D(),U(T.$$.fragment),p(i,"class","txt-sm"),p(r,"class","txt-sm"),p(a,"class","txt-sm"),p(t,"class","txt-sm"),p(e,"class","block m-b-25"),p(d,"class","schema-fields")},m(P,R){w(P,e,R),b(e,t),b(t,l),b(t,i),b(t,s),b(t,r),b(t,o),b(t,a),b(t,u),O&&O.m(t,null),b(t,f),w(P,c,R),w(P,d,R);for(let q=0;q<m.length;q+=1)m[q]&&m[q].m(d,null);w(P,_,R),H(g,P,R),w(P,k,R),w(P,$,R),w(P,C,R),H(T,P,R),E=!0},p(P,[R]){P[0].$isAuth?O||(O=ma(),O.c(),O.m(t,f)):O&&(O.d(1),O=null),R&55&&(A=P[0].schema,ue(),m=rt(m,R,N,1,P,A,v,d,Ot,_a,null,pa),fe());const q={};!S&&R&1&&(S=!0,q.collection=P[0],he(()=>S=!1)),T.$set(q)},i(P){if(!E){for(let R=0;R<A.length;R+=1)M(m[R]);M(g.$$.fragment,P),M(T.$$.fragment,P),E=!0}},o(P){for(let R=0;R<m.length;R+=1)I(m[R]);I(g.$$.fragment,P),I(T.$$.fragment,P),E=!1},d(P){P&&y(e),O&&O.d(),P&&y(c),P&&y(d);for(let R=0;R<m.length;R+=1)m[R].d();P&&y(_),V(g,P),P&&y(k),P&&y($),P&&y(C),V(T,P)}}}function wv(n,e,t){let l,{collection:i=new ln}=e;const s={text:Db,number:Lb,bool:Rb,email:lm,url:Kb,editor:Zb,date:cg,select:Lg,json:Vg,file:iv,relation:hv};function r(T){i.schema[T]&&(i.schema.splice(T,1),t(0,i))}function o(T="text"){const S=new sn({name:a(),type:T});S.onMountSelect=!0,i.schema.push(S),t(0,i)}function a(T="field"){let S="";for(;u(T+S);)++S;return T+S}function u(T){return!!i.schema.find(S=>S.name===T)}function f(T){return l.findIndex(S=>S===T)}function c(T,S){var E;!((E=i==null?void 0:i.schema)!=null&&E.length)||T===S||!S||t(0,i.indexes=i.indexes.map(O=>j.replaceIndexColumn(O,T,S)),i)}function d(T,S,E,O){E[O]=T,t(0,i)}const m=T=>r(T),v=T=>c(T.detail.oldName,T.detail.newName);function _(T){n.$$.not_equal(i.schema,T)&&(i.schema=T,t(0,i))}const g=T=>{if(!T.detail)return;const S=T.detail.target;S.style.opacity=0,setTimeout(()=>{var E;(E=S==null?void 0:S.style)==null||E.removeProperty("opacity")},0),T.detail.dataTransfer.setDragImage(S,0,0)},k=()=>{jt({})},$=T=>o(T.detail);function C(T){i=T,t(0,i)}return n.$$set=T=>{"collection"in T&&t(0,i=T.collection)},n.$$.update=()=>{n.$$.dirty&1&&typeof i.schema>"u"&&(t(0,i=i||new ln),t(0,i.schema=[],i)),n.$$.dirty&1&&(l=i.schema.filter(T=>!T.toDelete)||[])},[i,s,r,o,f,c,d,m,v,_,g,k,$,C]}class $v extends ge{constructor(e){super(),be(this,e,wv,yv,_e,{collection:0})}}function ha(n,e,t){const l=n.slice();return l[9]=e[t],l}function Tv(n){let e,t,l,i;function s(a){n[5](a)}var r=n[1];function o(a){let u={id:a[8],placeholder:"eg. SELECT id, name from posts",language:"sql-select",minHeight:"150"};return a[0].options.query!==void 0&&(u.value=a[0].options.query),{props:u}}return r&&(e=gt(r,o(n)),le.push(()=>me(e,"value",s)),e.$on("change",n[6])),{c(){e&&U(e.$$.fragment),l=ke()},m(a,u){e&&H(e,a,u),w(a,l,u),i=!0},p(a,u){const f={};if(u&256&&(f.id=a[8]),!t&&u&1&&(t=!0,f.value=a[0].options.query,he(()=>t=!1)),u&2&&r!==(r=a[1])){if(e){ue();const c=e;I(c.$$.fragment,1,0,()=>{V(c,1)}),fe()}r?(e=gt(r,o(a)),le.push(()=>me(e,"value",s)),e.$on("change",a[6]),U(e.$$.fragment),M(e.$$.fragment,1),H(e,l.parentNode,l)):e=null}else r&&e.$set(f)},i(a){i||(e&&M(e.$$.fragment,a),i=!0)},o(a){e&&I(e.$$.fragment,a),i=!1},d(a){a&&y(l),e&&V(e,a)}}}function Sv(n){let e;return{c(){e=h("textarea"),e.disabled=!0,p(e,"rows","7"),p(e,"placeholder","Loading...")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function ba(n){let e,t,l=n[3],i=[];for(let s=0;s<l.length;s+=1)i[s]=ga(ha(n,l,s));return{c(){e=h("div"),t=h("div");for(let s=0;s<i.length;s+=1)i[s].c();p(t,"class","content"),p(e,"class","help-block help-block-error")},m(s,r){w(s,e,r),b(e,t);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,null)},p(s,r){if(r&8){l=s[3];let o;for(o=0;o<l.length;o+=1){const a=ha(s,l,o);i[o]?i[o].p(a,r):(i[o]=ga(a),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=l.length}},d(s){s&&y(e),it(i,s)}}}function ga(n){let e,t=n[9]+"",l;return{c(){e=h("p"),l=B(t)},m(i,s){w(i,e,s),b(e,l)},p(i,s){s&8&&t!==(t=i[9]+"")&&oe(l,t)},d(i){i&&y(e)}}}function Cv(n){let e,t,l,i,s,r,o,a,u,f,c;const d=[Sv,Tv],m=[];function v(g,k){return g[2]?0:1}s=v(n),r=m[s]=d[s](n);let _=n[3].length&&ba(n);return{c(){e=h("label"),t=h("span"),t.textContent="Select query",i=D(),r.c(),o=D(),a=h("div"),a.innerHTML=`<ul><li>Wildcard columns (<code>*</code>) are not supported.</li> 
            <li>The query must have a unique <code>id</code> column.
                <br/>
                If your query doesn&#39;t have a suitable one, you can use the universal
                <code>(ROW_NUMBER() OVER()) as id</code>.</li> 
            <li>Expressions must be aliased with a valid formatted field name (eg.
                <code>MAX(balance) as maxBalance</code>).</li></ul>`,u=D(),_&&_.c(),f=ke(),p(t,"class","txt"),p(e,"for",l=n[8]),p(a,"class","help-block")},m(g,k){w(g,e,k),b(e,t),w(g,i,k),m[s].m(g,k),w(g,o,k),w(g,a,k),w(g,u,k),_&&_.m(g,k),w(g,f,k),c=!0},p(g,k){(!c||k&256&&l!==(l=g[8]))&&p(e,"for",l);let $=s;s=v(g),s===$?m[s].p(g,k):(ue(),I(m[$],1,1,()=>{m[$]=null}),fe(),r=m[s],r?r.p(g,k):(r=m[s]=d[s](g),r.c()),M(r,1),r.m(o.parentNode,o)),g[3].length?_?_.p(g,k):(_=ba(g),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},i(g){c||(M(r),c=!0)},o(g){I(r),c=!1},d(g){g&&y(e),g&&y(i),m[s].d(g),g&&y(o),g&&y(a),g&&y(u),_&&_.d(g),g&&y(f)}}}function Ev(n){let e,t;return e=new de({props:{class:"form-field required "+(n[3].length?"error":""),name:"options.query",$$slots:{default:[Cv,({uniqueId:l})=>({8:l}),({uniqueId:l})=>l?256:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&8&&(s.class="form-field required "+(l[3].length?"error":"")),i&4367&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ov(n,e,t){let l;Ve(n,Hn,c=>t(4,l=c));let{collection:i=new ln}=e,s,r=!1,o=[];function a(c){var v;t(3,o=[]);const d=j.getNestedVal(c,"schema",null);if(j.isEmpty(d))return;if(d!=null&&d.message){o.push(d==null?void 0:d.message);return}const m=j.extractColumnsFromQuery((v=i==null?void 0:i.options)==null?void 0:v.query);j.removeByValue(m,"id"),j.removeByValue(m,"created"),j.removeByValue(m,"updated");for(let _ in d)for(let g in d[_]){const k=d[_][g].message,$=m[_]||_;o.push(j.sentenize($+": "+k))}}Ut(async()=>{t(2,r=!0);try{t(1,s=(await Xe(()=>import("./CodeEditor-4cdb48d5.js"),["./CodeEditor-4cdb48d5.js","./index-fd4289fb.js"],import.meta.url)).default)}catch(c){console.warn(c)}t(2,r=!1)});function u(c){n.$$.not_equal(i.options.query,c)&&(i.options.query=c,t(0,i))}const f=()=>{o.length&&Dn("schema")};return n.$$set=c=>{"collection"in c&&t(0,i=c.collection)},n.$$.update=()=>{n.$$.dirty&16&&a(l)},[i,s,r,o,l,u,f]}class Dv extends ge{constructor(e){super(),be(this,e,Ov,Ev,_e,{collection:0})}}const Av=n=>({isAdminOnly:n&512}),va=n=>({isAdminOnly:n[9]}),Mv=n=>({isAdminOnly:n&512}),ka=n=>({isAdminOnly:n[9]}),Iv=n=>({isAdminOnly:n&512}),ya=n=>({isAdminOnly:n[9]});function Nv(n){let e,t;return e=new de({props:{class:"form-field rule-field "+(n[4]?"requied":"")+" "+(n[9]?"disabled":""),name:n[3],$$slots:{default:[Lv,({uniqueId:l})=>({18:l}),({uniqueId:l})=>l?262144:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&528&&(s.class="form-field rule-field "+(l[4]?"requied":"")+" "+(l[9]?"disabled":"")),i&8&&(s.name=l[3]),i&295655&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Fv(n){let e;return{c(){e=h("div"),e.innerHTML='<span class="loader"></span>',p(e,"class","txt-center")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function wa(n){let e,t,l;return{c(){e=h("button"),e.innerHTML=`<i class="ri-lock-line"></i> 
                        <span class="txt">Set Admins only</span>`,p(e,"type","button"),p(e,"class","btn btn-sm btn-transparent btn-hint lock-toggle svelte-1akuazq")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[11]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function $a(n){let e,t,l,i,s;return{c(){e=h("button"),e.innerHTML=`<small class="txt svelte-1akuazq">Unlock and set custom rule</small> 
                    <div class="icon svelte-1akuazq"><i class="ri-lock-unlock-line svelte-1akuazq"></i></div>`,p(e,"type","button"),p(e,"class","unlock-overlay svelte-1akuazq"),p(e,"aria-label","Unlock and set custom rule")},m(r,o){w(r,e,o),l=!0,i||(s=Y(e,"click",n[10]),i=!0)},p:x,i(r){l||(r&&Be(()=>{l&&(t||(t=Fe(e,Ht,{duration:150,start:.98},!0)),t.run(1))}),l=!0)},o(r){r&&(t||(t=Fe(e,Ht,{duration:150,start:.98},!1)),t.run(0)),l=!1},d(r){r&&y(e),r&&t&&t.end(),i=!1,s()}}}function Lv(n){let e,t,l,i,s,r,o=n[9]?"- Admins only":"",a,u,f,c,d,m,v,_,g,k,$;const C=n[12].beforeLabel,T=ut(C,n,n[15],ya),S=n[12].afterLabel,E=ut(S,n,n[15],ka);let O=!n[9]&&wa(n);function A(q){n[14](q)}var N=n[7];function F(q){let z={id:q[18],baseCollection:q[1],disabled:q[9],placeholder:q[9]?"":q[5]};return q[0]!==void 0&&(z.value=q[0]),{props:z}}N&&(m=gt(N,F(n)),n[13](m),le.push(()=>me(m,"value",A)));let L=n[9]&&$a(n);const P=n[12].default,R=ut(P,n,n[15],va);return{c(){e=h("div"),t=h("label"),T&&T.c(),l=D(),i=h("span"),s=B(n[2]),r=D(),a=B(o),u=D(),E&&E.c(),f=D(),O&&O.c(),d=D(),m&&U(m.$$.fragment),_=D(),L&&L.c(),g=D(),k=h("div"),R&&R.c(),p(i,"class","txt"),X(i,"txt-hint",n[9]),p(t,"for",c=n[18]),p(e,"class","input-wrapper svelte-1akuazq"),p(k,"class","help-block")},m(q,z){w(q,e,z),b(e,t),T&&T.m(t,null),b(t,l),b(t,i),b(i,s),b(i,r),b(i,a),b(t,u),E&&E.m(t,null),b(t,f),O&&O.m(t,null),b(e,d),m&&H(m,e,null),b(e,_),L&&L.m(e,null),w(q,g,z),w(q,k,z),R&&R.m(k,null),$=!0},p(q,z){T&&T.p&&(!$||z&33280)&&ct(T,C,q,q[15],$?ft(C,q[15],z,Iv):dt(q[15]),ya),(!$||z&4)&&oe(s,q[2]),(!$||z&512)&&o!==(o=q[9]?"- Admins only":"")&&oe(a,o),(!$||z&512)&&X(i,"txt-hint",q[9]),E&&E.p&&(!$||z&33280)&&ct(E,S,q,q[15],$?ft(S,q[15],z,Mv):dt(q[15]),ka),q[9]?O&&(O.d(1),O=null):O?O.p(q,z):(O=wa(q),O.c(),O.m(t,null)),(!$||z&262144&&c!==(c=q[18]))&&p(t,"for",c);const K={};if(z&262144&&(K.id=q[18]),z&2&&(K.baseCollection=q[1]),z&512&&(K.disabled=q[9]),z&544&&(K.placeholder=q[9]?"":q[5]),!v&&z&1&&(v=!0,K.value=q[0],he(()=>v=!1)),z&128&&N!==(N=q[7])){if(m){ue();const Q=m;I(Q.$$.fragment,1,0,()=>{V(Q,1)}),fe()}N?(m=gt(N,F(q)),q[13](m),le.push(()=>me(m,"value",A)),U(m.$$.fragment),M(m.$$.fragment,1),H(m,e,_)):m=null}else N&&m.$set(K);q[9]?L?(L.p(q,z),z&512&&M(L,1)):(L=$a(q),L.c(),M(L,1),L.m(e,null)):L&&(ue(),I(L,1,1,()=>{L=null}),fe()),R&&R.p&&(!$||z&33280)&&ct(R,P,q,q[15],$?ft(P,q[15],z,Av):dt(q[15]),va)},i(q){$||(M(T,q),M(E,q),m&&M(m.$$.fragment,q),M(L),M(R,q),$=!0)},o(q){I(T,q),I(E,q),m&&I(m.$$.fragment,q),I(L),I(R,q),$=!1},d(q){q&&y(e),T&&T.d(q),E&&E.d(q),O&&O.d(),n[13](null),m&&V(m),L&&L.d(),q&&y(g),q&&y(k),R&&R.d(q)}}}function qv(n){let e,t,l,i;const s=[Fv,Nv],r=[];function o(a,u){return a[8]?0:1}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(a,u){r[e].m(a,u),w(a,l,u),i=!0},p(a,[u]){let f=e;e=o(a),e===f?r[e].p(a,u):(ue(),I(r[f],1,1,()=>{r[f]=null}),fe(),t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),M(t,1),t.m(l.parentNode,l))},i(a){i||(M(t),i=!0)},o(a){I(t),i=!1},d(a){r[e].d(a),a&&y(l)}}}let Ta;function Pv(n,e,t){let l,{$$slots:i={},$$scope:s}=e,{collection:r=null}=e,{rule:o=null}=e,{label:a="Rule"}=e,{formKey:u="rule"}=e,{required:f=!1}=e,{placeholder:c="Leave empty to grant everyone access..."}=e,d=null,m=null,v=Ta,_=!1;g();async function g(){v||_||(t(8,_=!0),t(7,v=(await Xe(()=>import("./FilterAutocompleteInput-b9d5937e.js"),["./FilterAutocompleteInput-b9d5937e.js","./index-fd4289fb.js"],import.meta.url)).default),Ta=v,t(8,_=!1))}async function k(){t(0,o=m||""),await Kt(),d==null||d.focus()}async function $(){m=o,t(0,o=null)}function C(S){le[S?"unshift":"push"](()=>{d=S,t(6,d)})}function T(S){o=S,t(0,o)}return n.$$set=S=>{"collection"in S&&t(1,r=S.collection),"rule"in S&&t(0,o=S.rule),"label"in S&&t(2,a=S.label),"formKey"in S&&t(3,u=S.formKey),"required"in S&&t(4,f=S.required),"placeholder"in S&&t(5,c=S.placeholder),"$$scope"in S&&t(15,s=S.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t(9,l=o===null)},[o,r,a,u,f,c,d,v,_,l,k,$,i,C,T,s]}class Cl extends ge{constructor(e){super(),be(this,e,Pv,qv,_e,{collection:1,rule:0,label:2,formKey:3,required:4,placeholder:5})}}function Sa(n,e,t){const l=n.slice();return l[11]=e[t],l}function Ca(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O,A,N=n[2],F=[];for(let L=0;L<N.length;L+=1)F[L]=Ea(Sa(n,N,L));return{c(){e=h("div"),t=h("div"),l=h("div"),i=h("p"),i.textContent="The following record fields are available:",s=D(),r=h("div");for(let L=0;L<F.length;L+=1)F[L].c();o=D(),a=h("hr"),u=D(),f=h("p"),f.innerHTML="The request fields could be accessed with the special <em>@request</em> filter:",c=D(),d=h("div"),d.innerHTML=`<code>@request.headers.*</code> 
                        <code>@request.query.*</code> 
                        <code>@request.data.*</code> 
                        <code>@request.auth.*</code>`,m=D(),v=h("hr"),_=D(),g=h("p"),g.innerHTML="You could also add constraints and query other collections using the <em>@collection</em> filter:",k=D(),$=h("div"),$.innerHTML="<code>@collection.ANY_COLLECTION_NAME.*</code>",C=D(),T=h("hr"),S=D(),E=h("p"),E.innerHTML=`Example rule:
                        <br/> 
                        <code>@request.auth.id != &quot;&quot; &amp;&amp; created &gt; &quot;2022-01-01 00:00:00&quot;</code>`,p(i,"class","m-b-0"),p(r,"class","inline-flex flex-gap-5"),p(a,"class","m-t-10 m-b-5"),p(f,"class","m-b-0"),p(d,"class","inline-flex flex-gap-5"),p(v,"class","m-t-10 m-b-5"),p(g,"class","m-b-0"),p($,"class","inline-flex flex-gap-5"),p(T,"class","m-t-10 m-b-5"),p(l,"class","content"),p(t,"class","alert alert-warning m-0")},m(L,P){w(L,e,P),b(e,t),b(t,l),b(l,i),b(l,s),b(l,r);for(let R=0;R<F.length;R+=1)F[R]&&F[R].m(r,null);b(l,o),b(l,a),b(l,u),b(l,f),b(l,c),b(l,d),b(l,m),b(l,v),b(l,_),b(l,g),b(l,k),b(l,$),b(l,C),b(l,T),b(l,S),b(l,E),A=!0},p(L,P){if(P&4){N=L[2];let R;for(R=0;R<N.length;R+=1){const q=Sa(L,N,R);F[R]?F[R].p(q,P):(F[R]=Ea(q),F[R].c(),F[R].m(r,null))}for(;R<F.length;R+=1)F[R].d(1);F.length=N.length}},i(L){A||(L&&Be(()=>{A&&(O||(O=Fe(e,Ge,{duration:150},!0)),O.run(1))}),A=!0)},o(L){L&&(O||(O=Fe(e,Ge,{duration:150},!1)),O.run(0)),A=!1},d(L){L&&y(e),it(F,L),L&&O&&O.end()}}}function Ea(n){let e,t=n[11]+"",l;return{c(){e=h("code"),l=B(t)},m(i,s){w(i,e,s),b(e,l)},p(i,s){s&4&&t!==(t=i[11]+"")&&oe(l,t)},d(i){i&&y(e)}}}function Oa(n){let e,t,l,i,s,r,o,a,u;function f(g){n[6](g)}let c={label:"Create rule",formKey:"createRule",collection:n[0],$$slots:{afterLabel:[Rv,({isAdminOnly:g})=>({10:g}),({isAdminOnly:g})=>g?1024:0]},$$scope:{ctx:n}};n[0].createRule!==void 0&&(c.rule=n[0].createRule),e=new Cl({props:c}),le.push(()=>me(e,"rule",f));function d(g){n[7](g)}let m={label:"Update rule",formKey:"updateRule",collection:n[0]};n[0].updateRule!==void 0&&(m.rule=n[0].updateRule),i=new Cl({props:m}),le.push(()=>me(i,"rule",d));function v(g){n[8](g)}let _={label:"Delete rule",formKey:"deleteRule",collection:n[0]};return n[0].deleteRule!==void 0&&(_.rule=n[0].deleteRule),o=new Cl({props:_}),le.push(()=>me(o,"rule",v)),{c(){U(e.$$.fragment),l=D(),U(i.$$.fragment),r=D(),U(o.$$.fragment)},m(g,k){H(e,g,k),w(g,l,k),H(i,g,k),w(g,r,k),H(o,g,k),u=!0},p(g,k){const $={};k&1&&($.collection=g[0]),k&17408&&($.$$scope={dirty:k,ctx:g}),!t&&k&1&&(t=!0,$.rule=g[0].createRule,he(()=>t=!1)),e.$set($);const C={};k&1&&(C.collection=g[0]),!s&&k&1&&(s=!0,C.rule=g[0].updateRule,he(()=>s=!1)),i.$set(C);const T={};k&1&&(T.collection=g[0]),!a&&k&1&&(a=!0,T.rule=g[0].deleteRule,he(()=>a=!1)),o.$set(T)},i(g){u||(M(e.$$.fragment,g),M(i.$$.fragment,g),M(o.$$.fragment,g),u=!0)},o(g){I(e.$$.fragment,g),I(i.$$.fragment,g),I(o.$$.fragment,g),u=!1},d(g){V(e,g),g&&y(l),V(i,g),g&&y(r),V(o,g)}}}function Da(n){let e,t,l;return{c(){e=h("i"),p(e,"class","ri-information-line link-hint")},m(i,s){w(i,e,s),t||(l=$e(Pe.call(null,e,{text:'The Create rule is executed after a "dry save" of the submitted data, giving you access to the main record fields as in every other rule.',position:"top"})),t=!0)},d(i){i&&y(e),t=!1,l()}}}function Rv(n){let e,t=!n[10]&&Da();return{c(){t&&t.c(),e=ke()},m(l,i){t&&t.m(l,i),w(l,e,i)},p(l,i){l[10]?t&&(t.d(1),t=null):t||(t=Da(),t.c(),t.m(e.parentNode,e))},d(l){t&&t.d(l),l&&y(e)}}}function Aa(n){let e,t,l;function i(r){n[9](r)}let s={label:"Manage rule",formKey:"options.manageRule",placeholder:"",required:n[0].options.manageRule!==null,collection:n[0],$$slots:{default:[jv]},$$scope:{ctx:n}};return n[0].options.manageRule!==void 0&&(s.rule=n[0].options.manageRule),e=new Cl({props:s}),le.push(()=>me(e,"rule",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o&1&&(a.required=r[0].options.manageRule!==null),o&1&&(a.collection=r[0]),o&16384&&(a.$$scope={dirty:o,ctx:r}),!t&&o&1&&(t=!0,a.rule=r[0].options.manageRule,he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function jv(n){let e,t,l;return{c(){e=h("p"),e.textContent=`This API rule gives admin-like permissions to allow fully managing the auth record(s), eg.
                changing the password without requiring to enter the old one, directly updating the verified
                state or email, etc.`,t=D(),l=h("p"),l.innerHTML="This rule is executed in addition to the <code>create</code> and <code>update</code> API rules."},m(i,s){w(i,e,s),w(i,t,s),w(i,l,s)},p:x,d(i){i&&y(e),i&&y(t),i&&y(l)}}}function Hv(n){var P,R;let e,t,l,i,s,r=n[1]?"Hide available fields":"Show available fields",o,a,u,f,c,d,m,v,_,g,k,$,C,T,S=n[1]&&Ca(n);function E(q){n[4](q)}let O={label:"List/Search rule",formKey:"listRule",collection:n[0]};n[0].listRule!==void 0&&(O.rule=n[0].listRule),f=new Cl({props:O}),le.push(()=>me(f,"rule",E));function A(q){n[5](q)}let N={label:"View rule",formKey:"viewRule",collection:n[0]};n[0].viewRule!==void 0&&(N.rule=n[0].viewRule),m=new Cl({props:N}),le.push(()=>me(m,"rule",A));let F=!((P=n[0])!=null&&P.$isView)&&Oa(n),L=((R=n[0])==null?void 0:R.$isAuth)&&Aa(n);return{c(){e=h("div"),t=h("div"),l=h("p"),l.innerHTML=`All rules follow the
            <a href="https://pocketbase.io/docs/api-rules-and-filters/" target="_blank" rel="noopener noreferrer">PocketBase filter syntax and operators
            </a>.`,i=D(),s=h("button"),o=B(r),a=D(),S&&S.c(),u=D(),U(f.$$.fragment),d=D(),U(m.$$.fragment),_=D(),F&&F.c(),g=D(),L&&L.c(),k=ke(),p(s,"type","button"),p(s,"class","expand-handle txt-sm txt-bold txt-nowrap link-hint"),p(t,"class","flex txt-sm txt-hint m-b-5"),p(e,"class","block m-b-sm handle")},m(q,z){w(q,e,z),b(e,t),b(t,l),b(t,i),b(t,s),b(s,o),b(e,a),S&&S.m(e,null),w(q,u,z),H(f,q,z),w(q,d,z),H(m,q,z),w(q,_,z),F&&F.m(q,z),w(q,g,z),L&&L.m(q,z),w(q,k,z),$=!0,C||(T=Y(s,"click",n[3]),C=!0)},p(q,[z]){var J,Z;(!$||z&2)&&r!==(r=q[1]?"Hide available fields":"Show available fields")&&oe(o,r),q[1]?S?(S.p(q,z),z&2&&M(S,1)):(S=Ca(q),S.c(),M(S,1),S.m(e,null)):S&&(ue(),I(S,1,1,()=>{S=null}),fe());const K={};z&1&&(K.collection=q[0]),!c&&z&1&&(c=!0,K.rule=q[0].listRule,he(()=>c=!1)),f.$set(K);const Q={};z&1&&(Q.collection=q[0]),!v&&z&1&&(v=!0,Q.rule=q[0].viewRule,he(()=>v=!1)),m.$set(Q),(J=q[0])!=null&&J.$isView?F&&(ue(),I(F,1,1,()=>{F=null}),fe()):F?(F.p(q,z),z&1&&M(F,1)):(F=Oa(q),F.c(),M(F,1),F.m(g.parentNode,g)),(Z=q[0])!=null&&Z.$isAuth?L?(L.p(q,z),z&1&&M(L,1)):(L=Aa(q),L.c(),M(L,1),L.m(k.parentNode,k)):L&&(ue(),I(L,1,1,()=>{L=null}),fe())},i(q){$||(M(S),M(f.$$.fragment,q),M(m.$$.fragment,q),M(F),M(L),$=!0)},o(q){I(S),I(f.$$.fragment,q),I(m.$$.fragment,q),I(F),I(L),$=!1},d(q){q&&y(e),S&&S.d(),q&&y(u),V(f,q),q&&y(d),V(m,q),q&&y(_),F&&F.d(q),q&&y(g),L&&L.d(q),q&&y(k),C=!1,T()}}}function Vv(n,e,t){let l,{collection:i=new ln}=e,s=!1;const r=()=>t(1,s=!s);function o(m){n.$$.not_equal(i.listRule,m)&&(i.listRule=m,t(0,i))}function a(m){n.$$.not_equal(i.viewRule,m)&&(i.viewRule=m,t(0,i))}function u(m){n.$$.not_equal(i.createRule,m)&&(i.createRule=m,t(0,i))}function f(m){n.$$.not_equal(i.updateRule,m)&&(i.updateRule=m,t(0,i))}function c(m){n.$$.not_equal(i.deleteRule,m)&&(i.deleteRule=m,t(0,i))}function d(m){n.$$.not_equal(i.options.manageRule,m)&&(i.options.manageRule=m,t(0,i))}return n.$$set=m=>{"collection"in m&&t(0,i=m.collection)},n.$$.update=()=>{n.$$.dirty&1&&t(2,l=j.getAllCollectionIdentifiers(i))},[i,s,l,r,o,a,u,f,c,d]}class Uv extends ge{constructor(e){super(),be(this,e,Vv,Hv,_e,{collection:0})}}function Ma(n,e,t){const l=n.slice();return l[17]=e[t],l}function Ia(n,e,t){const l=n.slice();return l[17]=e[t],l}function Na(n,e,t){const l=n.slice();return l[17]=e[t],l}function Fa(n){let e;return{c(){e=h("p"),e.textContent="All data associated with the removed fields will be permanently deleted!"},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function La(n){var o;let e,t,l,i,s=n[3]&&qa(n),r=!((o=n[2])!=null&&o.$isView)&&Pa(n);return{c(){e=h("h6"),e.textContent="Changes:",t=D(),l=h("ul"),s&&s.c(),i=D(),r&&r.c(),p(l,"class","changes-list svelte-xqpcsf")},m(a,u){w(a,e,u),w(a,t,u),w(a,l,u),s&&s.m(l,null),b(l,i),r&&r.m(l,null)},p(a,u){var f;a[3]?s?s.p(a,u):(s=qa(a),s.c(),s.m(l,i)):s&&(s.d(1),s=null),(f=a[2])!=null&&f.$isView?r&&(r.d(1),r=null):r?r.p(a,u):(r=Pa(a),r.c(),r.m(l,null))},d(a){a&&y(e),a&&y(t),a&&y(l),s&&s.d(),r&&r.d()}}}function qa(n){var m,v;let e,t,l,i,s=((m=n[1])==null?void 0:m.name)+"",r,o,a,u,f,c=((v=n[2])==null?void 0:v.name)+"",d;return{c(){e=h("li"),t=h("div"),l=B(`Renamed collection
                        `),i=h("strong"),r=B(s),o=D(),a=h("i"),u=D(),f=h("strong"),d=B(c),p(i,"class","txt-strikethrough txt-hint"),p(a,"class","ri-arrow-right-line txt-sm"),p(f,"class","txt"),p(t,"class","inline-flex"),p(e,"class","svelte-xqpcsf")},m(_,g){w(_,e,g),b(e,t),b(t,l),b(t,i),b(i,r),b(t,o),b(t,a),b(t,u),b(t,f),b(f,d)},p(_,g){var k,$;g&2&&s!==(s=((k=_[1])==null?void 0:k.name)+"")&&oe(r,s),g&4&&c!==(c=(($=_[2])==null?void 0:$.name)+"")&&oe(d,c)},d(_){_&&y(e)}}}function Pa(n){let e,t,l,i=n[5],s=[];for(let f=0;f<i.length;f+=1)s[f]=Ra(Na(n,i,f));let r=n[7],o=[];for(let f=0;f<r.length;f+=1)o[f]=ja(Ia(n,r,f));let a=n[6],u=[];for(let f=0;f<a.length;f+=1)u[f]=Ha(Ma(n,a,f));return{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=D();for(let f=0;f<o.length;f+=1)o[f].c();t=D();for(let f=0;f<u.length;f+=1)u[f].c();l=ke()},m(f,c){for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(f,c);w(f,e,c);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(f,c);w(f,t,c);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(f,c);w(f,l,c)},p(f,c){if(c&32){i=f[5];let d;for(d=0;d<i.length;d+=1){const m=Na(f,i,d);s[d]?s[d].p(m,c):(s[d]=Ra(m),s[d].c(),s[d].m(e.parentNode,e))}for(;d<s.length;d+=1)s[d].d(1);s.length=i.length}if(c&128){r=f[7];let d;for(d=0;d<r.length;d+=1){const m=Ia(f,r,d);o[d]?o[d].p(m,c):(o[d]=ja(m),o[d].c(),o[d].m(t.parentNode,t))}for(;d<o.length;d+=1)o[d].d(1);o.length=r.length}if(c&64){a=f[6];let d;for(d=0;d<a.length;d+=1){const m=Ma(f,a,d);u[d]?u[d].p(m,c):(u[d]=Ha(m),u[d].c(),u[d].m(l.parentNode,l))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(f){it(s,f),f&&y(e),it(o,f),f&&y(t),it(u,f),f&&y(l)}}}function Ra(n){let e,t,l,i=n[17].name+"",s,r,o;return{c(){e=h("li"),t=B(`Multiple to single value conversion of field
                        `),l=h("strong"),s=B(i),r=D(),o=h("em"),o.textContent="(will keep only the last array item)",p(o,"class","txt-sm"),p(e,"class","svelte-xqpcsf")},m(a,u){w(a,e,u),b(e,t),b(e,l),b(l,s),b(e,r),b(e,o)},p(a,u){u&32&&i!==(i=a[17].name+"")&&oe(s,i)},d(a){a&&y(e)}}}function ja(n){let e,t,l,i,s=n[17].originalName+"",r,o,a,u,f,c=n[17].name+"",d;return{c(){e=h("li"),t=h("div"),l=B(`Renamed field
                            `),i=h("strong"),r=B(s),o=D(),a=h("i"),u=D(),f=h("strong"),d=B(c),p(i,"class","txt-strikethrough txt-hint"),p(a,"class","ri-arrow-right-line txt-sm"),p(f,"class","txt"),p(t,"class","inline-flex"),p(e,"class","svelte-xqpcsf")},m(m,v){w(m,e,v),b(e,t),b(t,l),b(t,i),b(i,r),b(t,o),b(t,a),b(t,u),b(t,f),b(f,d)},p(m,v){v&128&&s!==(s=m[17].originalName+"")&&oe(r,s),v&128&&c!==(c=m[17].name+"")&&oe(d,c)},d(m){m&&y(e)}}}function Ha(n){let e,t,l,i=n[17].name+"",s,r;return{c(){e=h("li"),t=B("Removed field "),l=h("span"),s=B(i),r=D(),p(l,"class","txt-bold"),p(e,"class","txt-danger svelte-xqpcsf")},m(o,a){w(o,e,a),b(e,t),b(e,l),b(l,s),b(e,r)},p(o,a){a&64&&i!==(i=o[17].name+"")&&oe(s,i)},d(o){o&&y(e)}}}function zv(n){let e,t,l,i,s,r,o,a,u=n[6].length&&Fa(),f=n[8]&&La(n);return{c(){e=h("div"),t=h("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',l=D(),i=h("div"),s=h("p"),s.textContent=`If any of the collection changes is part of another collection rule, filter or view query,
                you'll have to update it manually!`,r=D(),u&&u.c(),o=D(),f&&f.c(),a=ke(),p(t,"class","icon"),p(i,"class","content txt-bold"),p(e,"class","alert alert-warning")},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),b(i,s),b(i,r),u&&u.m(i,null),w(c,o,d),f&&f.m(c,d),w(c,a,d)},p(c,d){c[6].length?u||(u=Fa(),u.c(),u.m(i,null)):u&&(u.d(1),u=null),c[8]?f?f.p(c,d):(f=La(c),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null)},d(c){c&&y(e),u&&u.d(),c&&y(o),f&&f.d(c),c&&y(a)}}}function Bv(n){let e;return{c(){e=h("h4"),e.textContent="Confirm collection changes"},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function Wv(n){let e,t,l,i,s;return{c(){e=h("button"),e.innerHTML='<span class="txt">Cancel</span>',t=D(),l=h("button"),l.innerHTML='<span class="txt">Confirm</span>',e.autofocus=!0,p(e,"type","button"),p(e,"class","btn btn-transparent"),p(l,"type","button"),p(l,"class","btn btn-expanded")},m(r,o){w(r,e,o),w(r,t,o),w(r,l,o),e.focus(),i||(s=[Y(e,"click",n[11]),Y(l,"click",n[12])],i=!0)},p:x,d(r){r&&y(e),r&&y(t),r&&y(l),i=!1,Te(s)}}}function Kv(n){let e,t,l={class:"confirm-changes-panel",popup:!0,$$slots:{footer:[Wv],header:[Bv],default:[zv]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[13](e),e.$on("hide",n[14]),e.$on("show",n[15]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&16777710&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[13](null),V(e,i)}}}function Yv(n,e,t){let l,i,s,r,o;const a=pt();let u,f,c;async function d(T,S){t(1,f=T),t(2,c=S),await Kt(),l||i.length||s.length||r.length?u==null||u.show():v()}function m(){u==null||u.hide()}function v(){m(),a("confirm")}const _=()=>m(),g=()=>v();function k(T){le[T?"unshift":"push"](()=>{u=T,t(4,u)})}function $(T){De.call(this,n,T)}function C(T){De.call(this,n,T)}return n.$$.update=()=>{var T,S,E;n.$$.dirty&6&&t(3,l=(f==null?void 0:f.name)!=(c==null?void 0:c.name)),n.$$.dirty&4&&t(7,i=((T=c==null?void 0:c.schema)==null?void 0:T.filter(O=>O.id&&!O.toDelete&&O.originalName!=O.name))||[]),n.$$.dirty&4&&t(6,s=((S=c==null?void 0:c.schema)==null?void 0:S.filter(O=>O.id&&O.toDelete))||[]),n.$$.dirty&6&&t(5,r=((E=c==null?void 0:c.schema)==null?void 0:E.filter(O=>{var N,F,L;const A=(N=f==null?void 0:f.schema)==null?void 0:N.find(P=>P.id==O.id);return A?((F=A.options)==null?void 0:F.maxSelect)!=1&&((L=O.options)==null?void 0:L.maxSelect)==1:!1}))||[]),n.$$.dirty&12&&t(8,o=!(c!=null&&c.$isView)||l)},[m,f,c,l,u,r,s,i,o,v,d,_,g,k,$,C]}class Jv extends ge{constructor(e){super(),be(this,e,Yv,Kv,_e,{show:10,hide:0})}get show(){return this.$$.ctx[10]}get hide(){return this.$$.ctx[0]}}function Va(n,e,t){const l=n.slice();return l[48]=e[t][0],l[49]=e[t][1],l}function Zv(n){let e,t,l;function i(r){n[34](r)}let s={};return n[2]!==void 0&&(s.collection=n[2]),e=new $v({props:s}),le.push(()=>me(e,"collection",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};!t&&o[0]&4&&(t=!0,a.collection=r[2],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Gv(n){let e,t,l;function i(r){n[33](r)}let s={};return n[2]!==void 0&&(s.collection=n[2]),e=new Dv({props:s}),le.push(()=>me(e,"collection",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};!t&&o[0]&4&&(t=!0,a.collection=r[2],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Ua(n){let e,t,l,i;function s(o){n[35](o)}let r={};return n[2]!==void 0&&(r.collection=n[2]),t=new Uv({props:r}),le.push(()=>me(t,"collection",s)),{c(){e=h("div"),U(t.$$.fragment),p(e,"class","tab-item active")},m(o,a){w(o,e,a),H(t,e,null),i=!0},p(o,a){const u={};!l&&a[0]&4&&(l=!0,u.collection=o[2],he(()=>l=!1)),t.$set(u)},i(o){i||(M(t.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),i=!1},d(o){o&&y(e),V(t)}}}function za(n){let e,t,l,i;function s(o){n[36](o)}let r={};return n[2]!==void 0&&(r.collection=n[2]),t=new Y0({props:r}),le.push(()=>me(t,"collection",s)),{c(){e=h("div"),U(t.$$.fragment),p(e,"class","tab-item"),X(e,"active",n[3]===Al)},m(o,a){w(o,e,a),H(t,e,null),i=!0},p(o,a){const u={};!l&&a[0]&4&&(l=!0,u.collection=o[2],he(()=>l=!1)),t.$set(u),(!i||a[0]&8)&&X(e,"active",o[3]===Al)},i(o){i||(M(t.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),i=!1},d(o){o&&y(e),V(t)}}}function Qv(n){let e,t,l,i,s,r,o;const a=[Gv,Zv],u=[];function f(m,v){return m[2].$isView?0:1}l=f(n),i=u[l]=a[l](n);let c=n[3]===Xl&&Ua(n),d=n[2].$isAuth&&za(n);return{c(){e=h("div"),t=h("div"),i.c(),s=D(),c&&c.c(),r=D(),d&&d.c(),p(t,"class","tab-item"),X(t,"active",n[3]===Jn),p(e,"class","tabs-content svelte-12y0yzb")},m(m,v){w(m,e,v),b(e,t),u[l].m(t,null),b(e,s),c&&c.m(e,null),b(e,r),d&&d.m(e,null),o=!0},p(m,v){let _=l;l=f(m),l===_?u[l].p(m,v):(ue(),I(u[_],1,1,()=>{u[_]=null}),fe(),i=u[l],i?i.p(m,v):(i=u[l]=a[l](m),i.c()),M(i,1),i.m(t,null)),(!o||v[0]&8)&&X(t,"active",m[3]===Jn),m[3]===Xl?c?(c.p(m,v),v[0]&8&&M(c,1)):(c=Ua(m),c.c(),M(c,1),c.m(e,r)):c&&(ue(),I(c,1,1,()=>{c=null}),fe()),m[2].$isAuth?d?(d.p(m,v),v[0]&4&&M(d,1)):(d=za(m),d.c(),M(d,1),d.m(e,null)):d&&(ue(),I(d,1,1,()=>{d=null}),fe())},i(m){o||(M(i),M(c),M(d),o=!0)},o(m){I(i),I(c),I(d),o=!1},d(m){m&&y(e),u[l].d(),c&&c.d(),d&&d.d()}}}function Ba(n){let e,t,l,i,s,r,o;return r=new gn({props:{class:"dropdown dropdown-right m-t-5",$$slots:{default:[Xv]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=D(),l=h("button"),i=h("i"),s=D(),U(r.$$.fragment),p(e,"class","flex-fill"),p(i,"class","ri-more-line"),p(l,"type","button"),p(l,"aria-label","More"),p(l,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(a,u){w(a,e,u),w(a,t,u),w(a,l,u),b(l,i),b(l,s),H(r,l,null),o=!0},p(a,u){const f={};u[1]&2097152&&(f.$$scope={dirty:u,ctx:a}),r.$set(f)},i(a){o||(M(r.$$.fragment,a),o=!0)},o(a){I(r.$$.fragment,a),o=!1},d(a){a&&y(e),a&&y(t),a&&y(l),V(r)}}}function Xv(n){let e,t,l,i,s;return{c(){e=h("button"),e.innerHTML=`<i class="ri-file-copy-line"></i> 
                        <span class="txt">复制</span>`,t=D(),l=h("button"),l.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">删除</span>`,p(e,"type","button"),p(e,"class","dropdown-item closable"),p(l,"type","button"),p(l,"class","dropdown-item txt-danger closable")},m(r,o){w(r,e,o),w(r,t,o),w(r,l,o),i||(s=[Y(e,"click",n[24]),Y(l,"click",fn(Ke(n[25])))],i=!0)},p:x,d(r){r&&y(e),r&&y(t),r&&y(l),i=!1,Te(s)}}}function Wa(n){let e,t,l,i;return l=new gn({props:{class:"dropdown dropdown-right dropdown-nowrap m-t-5",$$slots:{default:[xv]},$$scope:{ctx:n}}}),{c(){e=h("i"),t=D(),U(l.$$.fragment),p(e,"class","ri-arrow-down-s-fill")},m(s,r){w(s,e,r),w(s,t,r),H(l,s,r),i=!0},p(s,r){const o={};r[0]&68|r[1]&2097152&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(M(l.$$.fragment,s),i=!0)},o(s){I(l.$$.fragment,s),i=!1},d(s){s&&y(e),s&&y(t),V(l,s)}}}function Ka(n){let e,t,l,i,s,r=n[49]+"",o,a,u,f,c;function d(){return n[28](n[48])}return{c(){e=h("button"),t=h("i"),i=D(),s=h("span"),o=B(r),a=B(" collection"),u=D(),p(t,"class",l=ul(j.getCollectionTypeIcon(n[48]))+" svelte-12y0yzb"),p(s,"class","txt"),p(e,"type","button"),p(e,"class","dropdown-item closable"),X(e,"selected",n[48]==n[2].type)},m(m,v){w(m,e,v),b(e,t),b(e,i),b(e,s),b(s,o),b(s,a),b(e,u),f||(c=Y(e,"click",d),f=!0)},p(m,v){n=m,v[0]&64&&l!==(l=ul(j.getCollectionTypeIcon(n[48]))+" svelte-12y0yzb")&&p(t,"class",l),v[0]&64&&r!==(r=n[49]+"")&&oe(o,r),v[0]&68&&X(e,"selected",n[48]==n[2].type)},d(m){m&&y(e),f=!1,c()}}}function xv(n){let e,t=Object.entries(n[6]),l=[];for(let i=0;i<t.length;i+=1)l[i]=Ka(Va(n,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ke()},m(i,s){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(i,s);w(i,e,s)},p(i,s){if(s[0]&131140){t=Object.entries(i[6]);let r;for(r=0;r<t.length;r+=1){const o=Va(i,t,r);l[r]?l[r].p(o,s):(l[r]=Ka(o),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(i){it(l,i),i&&y(e)}}}function Ya(n){let e;return{c(){e=h("div"),e.textContent="系统表",p(e,"class","help-block")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function e2(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O,A,N,F=(n[6][n[2].type]||"N/A")+"",L,P,R,q,z,K,Q,J,Z,se=n[2].$isNew&&Wa(n),ee=n[2].system&&Ya();return{c(){e=h("label"),t=B("Name"),i=D(),s=h("input"),f=D(),c=h("label"),d=B("DisplayName"),v=D(),_=h("input"),C=D(),T=h("div"),S=h("button"),E=h("span"),O=D(),A=h("span"),N=B("Type: "),L=B(F),P=D(),se&&se.c(),z=D(),ee&&ee.c(),K=ke(),p(e,"for",l=n[47]),p(s,"type","text"),p(s,"id",r=n[47]),s.required=!0,s.disabled=n[13],p(s,"spellcheck","false"),s.autofocus=o=n[2].$isNew,p(s,"placeholder",a=n[2].$isAuth?'eg. "users"':'eg. "posts"'),s.value=u=n[2].name,p(c,"for",m=n[47]),p(_,"type","text"),p(_,"id",g=n[47]),_.required=!0,_.disabled=n[13],p(_,"spellcheck","false"),_.autofocus=k=n[2].$isNew,_.value=$=n[2].name,p(A,"class","txt"),p(S,"type","button"),p(S,"class",R="btn btn-sm p-r-10 p-l-10 "+(n[2].$isNew?"btn-outline":"btn-transparent")),S.disabled=q=!n[2].$isNew,p(T,"class","form-field-addon")},m(te,pe){w(te,e,pe),b(e,t),w(te,i,pe),w(te,s,pe),w(te,f,pe),w(te,c,pe),b(c,d),w(te,v,pe),w(te,_,pe),w(te,C,pe),w(te,T,pe),b(T,S),b(S,E),b(S,O),b(S,A),b(A,N),b(A,L),b(S,P),se&&se.m(S,null),w(te,z,pe),ee&&ee.m(te,pe),w(te,K,pe),Q=!0,n[2].$isNew&&_.focus(),J||(Z=[Y(s,"input",n[26]),Y(_,"input",n[27])],J=!0)},p(te,pe){(!Q||pe[1]&65536&&l!==(l=te[47]))&&p(e,"for",l),(!Q||pe[1]&65536&&r!==(r=te[47]))&&p(s,"id",r),(!Q||pe[0]&8192)&&(s.disabled=te[13]),(!Q||pe[0]&4&&o!==(o=te[2].$isNew))&&(s.autofocus=o),(!Q||pe[0]&4&&a!==(a=te[2].$isAuth?'eg. "users"':'eg. "posts"'))&&p(s,"placeholder",a),(!Q||pe[0]&4&&u!==(u=te[2].name)&&s.value!==u)&&(s.value=u),(!Q||pe[1]&65536&&m!==(m=te[47]))&&p(c,"for",m),(!Q||pe[1]&65536&&g!==(g=te[47]))&&p(_,"id",g),(!Q||pe[0]&8192)&&(_.disabled=te[13]),(!Q||pe[0]&4&&k!==(k=te[2].$isNew))&&(_.autofocus=k),(!Q||pe[0]&4&&$!==($=te[2].name)&&_.value!==$)&&(_.value=$),(!Q||pe[0]&68)&&F!==(F=(te[6][te[2].type]||"N/A")+"")&&oe(L,F),te[2].$isNew?se?(se.p(te,pe),pe[0]&4&&M(se,1)):(se=Wa(te),se.c(),M(se,1),se.m(S,null)):se&&(ue(),I(se,1,1,()=>{se=null}),fe()),(!Q||pe[0]&4&&R!==(R="btn btn-sm p-r-10 p-l-10 "+(te[2].$isNew?"btn-outline":"btn-transparent")))&&p(S,"class",R),(!Q||pe[0]&4&&q!==(q=!te[2].$isNew))&&(S.disabled=q),te[2].system?ee||(ee=Ya(),ee.c(),ee.m(K.parentNode,K)):ee&&(ee.d(1),ee=null)},i(te){Q||(M(se),Q=!0)},o(te){I(se),Q=!1},d(te){te&&y(e),te&&y(i),te&&y(s),te&&y(f),te&&y(c),te&&y(v),te&&y(_),te&&y(C),te&&y(T),se&&se.d(),te&&y(z),ee&&ee.d(te),te&&y(K),J=!1,Te(Z)}}}function Ja(n){let e,t,l,i,s,r;return{c(){e=h("i"),p(e,"class","ri-error-warning-fill txt-danger")},m(o,a){w(o,e,a),i=!0,s||(r=$e(t=Pe.call(null,e,n[11])),s=!0)},p(o,a){t&&kt(t.update)&&a[0]&2048&&t.update.call(null,o[11])},i(o){i||(o&&Be(()=>{i&&(l||(l=Fe(e,Ht,{duration:150,start:.7},!0)),l.run(1))}),i=!0)},o(o){o&&(l||(l=Fe(e,Ht,{duration:150,start:.7},!1)),l.run(0)),i=!1},d(o){o&&y(e),o&&l&&l.end(),s=!1,r()}}}function Za(n){let e,t,l,i,s;return{c(){e=h("i"),p(e,"class","ri-error-warning-fill txt-danger")},m(r,o){w(r,e,o),l=!0,i||(s=$e(Pe.call(null,e,"Has errors")),i=!0)},i(r){l||(r&&Be(()=>{l&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!0)),t.run(1))}),l=!0)},o(r){r&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!1)),t.run(0)),l=!1},d(r){r&&y(e),r&&t&&t.end(),i=!1,s()}}}function Ga(n){var a,u,f;let e,t,l,i=!j.isEmpty((a=n[5])==null?void 0:a.options)&&!((f=(u=n[5])==null?void 0:u.options)!=null&&f.manageRule),s,r,o=i&&Qa();return{c(){e=h("button"),t=h("span"),t.textContent="更多设置",l=D(),o&&o.c(),p(t,"class","txt"),p(e,"type","button"),p(e,"class","tab-item"),X(e,"active",n[3]===Al)},m(c,d){w(c,e,d),b(e,t),b(e,l),o&&o.m(e,null),s||(r=Y(e,"click",n[32]),s=!0)},p(c,d){var m,v,_;d[0]&32&&(i=!j.isEmpty((m=c[5])==null?void 0:m.options)&&!((_=(v=c[5])==null?void 0:v.options)!=null&&_.manageRule)),i?o?d[0]&32&&M(o,1):(o=Qa(),o.c(),M(o,1),o.m(e,null)):o&&(ue(),I(o,1,1,()=>{o=null}),fe()),d[0]&8&&X(e,"active",c[3]===Al)},d(c){c&&y(e),o&&o.d(),s=!1,r()}}}function Qa(n){let e,t,l,i,s;return{c(){e=h("i"),p(e,"class","ri-error-warning-fill txt-danger")},m(r,o){w(r,e,o),l=!0,i||(s=$e(Pe.call(null,e,"Has errors")),i=!0)},i(r){l||(r&&Be(()=>{l&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!0)),t.run(1))}),l=!0)},o(r){r&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!1)),t.run(0)),l=!1},d(r){r&&y(e),r&&t&&t.end(),i=!1,s()}}}function t2(n){var z,K,Q,J,Z,se,ee,te;let e,t=n[2].$isNew?"新建表结构":"修改表结构",l,i,s,r,o,a,u,f,c,d,m,v=(z=n[2])!=null&&z.$isView?"视图查询语句":"表字段元素",_,g,k=!j.isEmpty(n[11]),$,C,T,S,E=!j.isEmpty((K=n[5])==null?void 0:K.listRule)||!j.isEmpty((Q=n[5])==null?void 0:Q.viewRule)||!j.isEmpty((J=n[5])==null?void 0:J.createRule)||!j.isEmpty((Z=n[5])==null?void 0:Z.updateRule)||!j.isEmpty((se=n[5])==null?void 0:se.deleteRule)||!j.isEmpty((te=(ee=n[5])==null?void 0:ee.options)==null?void 0:te.manageRule),O,A,N,F,L=!n[2].$isNew&&!n[2].system&&Ba(n);o=new de({props:{class:"form-field collection-field-name required m-b-0 "+(n[13]?"disabled":""),name:"name",$$slots:{default:[e2,({uniqueId:pe})=>({47:pe}),({uniqueId:pe})=>[0,pe?65536:0]]},$$scope:{ctx:n}}});let P=k&&Ja(n),R=E&&Za(),q=n[2].$isAuth&&Ga(n);return{c(){e=h("h4"),l=B(t),i=D(),L&&L.c(),s=D(),r=h("form"),U(o.$$.fragment),a=D(),u=h("input"),f=D(),c=h("div"),d=h("button"),m=h("span"),_=B(v),g=D(),P&&P.c(),$=D(),C=h("button"),T=h("span"),T.textContent="鉴权（默认打开）",S=D(),R&&R.c(),O=D(),q&&q.c(),p(e,"class","upsert-panel-title svelte-12y0yzb"),p(u,"type","submit"),p(u,"class","hidden"),p(u,"tabindex","-1"),p(r,"class","block"),p(m,"class","txt"),p(d,"type","button"),p(d,"class","tab-item"),X(d,"active",n[3]===Jn),p(T,"class","txt"),p(C,"type","button"),p(C,"class","tab-item"),X(C,"active",n[3]===Xl),p(c,"class","tabs-header stretched")},m(pe,Ee){w(pe,e,Ee),b(e,l),w(pe,i,Ee),L&&L.m(pe,Ee),w(pe,s,Ee),w(pe,r,Ee),H(o,r,null),b(r,a),b(r,u),w(pe,f,Ee),w(pe,c,Ee),b(c,d),b(d,m),b(m,_),b(d,g),P&&P.m(d,null),b(c,$),b(c,C),b(C,T),b(C,S),R&&R.m(C,null),b(c,O),q&&q.m(c,null),A=!0,N||(F=[Y(r,"submit",Ke(n[29])),Y(d,"click",n[30]),Y(C,"click",n[31])],N=!0)},p(pe,Ee){var ot,xe,Je,$t,Ft,Tt,Dt,Lt;(!A||Ee[0]&4)&&t!==(t=pe[2].$isNew?"新建表结构":"修改表结构")&&oe(l,t),!pe[2].$isNew&&!pe[2].system?L?(L.p(pe,Ee),Ee[0]&4&&M(L,1)):(L=Ba(pe),L.c(),M(L,1),L.m(s.parentNode,s)):L&&(ue(),I(L,1,1,()=>{L=null}),fe());const We={};Ee[0]&8192&&(We.class="form-field collection-field-name required m-b-0 "+(pe[13]?"disabled":"")),Ee[0]&8260|Ee[1]&2162688&&(We.$$scope={dirty:Ee,ctx:pe}),o.$set(We),(!A||Ee[0]&4)&&v!==(v=(ot=pe[2])!=null&&ot.$isView?"视图查询语句":"表字段元素")&&oe(_,v),Ee[0]&2048&&(k=!j.isEmpty(pe[11])),k?P?(P.p(pe,Ee),Ee[0]&2048&&M(P,1)):(P=Ja(pe),P.c(),M(P,1),P.m(d,null)):P&&(ue(),I(P,1,1,()=>{P=null}),fe()),(!A||Ee[0]&8)&&X(d,"active",pe[3]===Jn),Ee[0]&32&&(E=!j.isEmpty((xe=pe[5])==null?void 0:xe.listRule)||!j.isEmpty((Je=pe[5])==null?void 0:Je.viewRule)||!j.isEmpty(($t=pe[5])==null?void 0:$t.createRule)||!j.isEmpty((Ft=pe[5])==null?void 0:Ft.updateRule)||!j.isEmpty((Tt=pe[5])==null?void 0:Tt.deleteRule)||!j.isEmpty((Lt=(Dt=pe[5])==null?void 0:Dt.options)==null?void 0:Lt.manageRule)),E?R?Ee[0]&32&&M(R,1):(R=Za(),R.c(),M(R,1),R.m(C,null)):R&&(ue(),I(R,1,1,()=>{R=null}),fe()),(!A||Ee[0]&8)&&X(C,"active",pe[3]===Xl),pe[2].$isAuth?q?q.p(pe,Ee):(q=Ga(pe),q.c(),q.m(c,null)):q&&(q.d(1),q=null)},i(pe){A||(M(L),M(o.$$.fragment,pe),M(P),M(R),A=!0)},o(pe){I(L),I(o.$$.fragment,pe),I(P),I(R),A=!1},d(pe){pe&&y(e),pe&&y(i),L&&L.d(pe),pe&&y(s),pe&&y(r),V(o),pe&&y(f),pe&&y(c),P&&P.d(),R&&R.d(),q&&q.d(),N=!1,Te(F)}}}function n2(n){let e,t,l,i,s,r=n[2].$isNew?"创建":"保存",o,a,u,f;return{c(){e=h("button"),t=h("span"),t.textContent="取消",l=D(),i=h("button"),s=h("span"),o=B(r),p(t,"class","txt"),p(e,"type","button"),p(e,"class","btn btn-transparent"),e.disabled=n[9],p(s,"class","txt"),p(i,"type","button"),p(i,"class","btn btn-expanded"),i.disabled=a=!n[12]||n[9],X(i,"btn-loading",n[9])},m(c,d){w(c,e,d),b(e,t),w(c,l,d),w(c,i,d),b(i,s),b(s,o),u||(f=[Y(e,"click",n[22]),Y(i,"click",n[23])],u=!0)},p(c,d){d[0]&512&&(e.disabled=c[9]),d[0]&4&&r!==(r=c[2].$isNew?"创建":"保存")&&oe(o,r),d[0]&4608&&a!==(a=!c[12]||c[9])&&(i.disabled=a),d[0]&512&&X(i,"btn-loading",c[9])},d(c){c&&y(e),c&&y(l),c&&y(i),u=!1,Te(f)}}}function l2(n){let e,t,l,i,s={class:"overlay-panel-lg colored-header collection-panel",escClose:!1,overlayClose:!n[9],beforeHide:n[37],$$slots:{footer:[n2],header:[t2],default:[Qv]},$$scope:{ctx:n}};e=new Yt({props:s}),n[38](e),e.$on("hide",n[39]),e.$on("show",n[40]);let r={};return l=new Jv({props:r}),n[41](l),l.$on("confirm",n[42]),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(o,a){H(e,o,a),w(o,t,a),H(l,o,a),i=!0},p(o,a){const u={};a[0]&512&&(u.overlayClose=!o[9]),a[0]&1040&&(u.beforeHide=o[37]),a[0]&14956|a[1]&2097152&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const f={};l.$set(f)},i(o){i||(M(e.$$.fragment,o),M(l.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),I(l.$$.fragment,o),i=!1},d(o){n[38](null),V(e,o),o&&y(t),n[41](null),V(l,o)}}}const Jn="schema",Xl="api_rules",Al="options",i2="base",Xa="auth",xa="view";function gs(n){return JSON.stringify(n)}function s2(n,e,t){let l,i,s,r;Ve(n,Hn,ie=>t(5,r=ie));const o={};o[i2]="Base",o[xa]="View",o[Xa]="Auth";const a=pt();let u,f,c=null,d=new ln,m=!1,v=!1,_=Jn,g=gs(d),k="";function $(ie){t(3,_=ie)}function C(ie){return S(ie),t(10,v=!0),$(Jn),u==null?void 0:u.show()}function T(){return u==null?void 0:u.hide()}async function S(ie){jt({}),typeof ie<"u"?(t(20,c=ie),t(2,d=ie.$clone())):(t(20,c=null),t(2,d=new ln)),t(2,d.schema=d.schema||[],d),t(2,d.originalName=d.name||"",d),await Kt(),t(21,g=gs(d))}function E(){d.$isNew?O():f==null||f.show(c,d)}function O(){if(m)return;t(9,m=!0);const ie=A();let Le;d.$isNew?Le=ce.collections.create(ie):Le=ce.collections.update(d.id,ie),Le.then(at=>{tr(),L1(at),t(10,v=!1),T(),wt(d.$isNew?"建表成功.":"更新成功."),a("save",{isNew:d.$isNew,collection:at})}).catch(at=>{ce.error(at)}).finally(()=>{t(9,m=!1)})}function A(){const ie=d.$export();ie.schema=ie.schema.slice(0);for(let Le=ie.schema.length-1;Le>=0;Le--)ie.schema[Le].toDelete&&ie.schema.splice(Le,1);return ie}function N(){c!=null&&c.id&&Gt(`是否要删除 "${c==null?void 0:c.name}" 表 并清空其中数据?`,()=>ce.collections.delete(c==null?void 0:c.id).then(()=>{T(),wt(`成功删除 "${c==null?void 0:c.name}"表.`),a("delete",c),q1(c)}).catch(ie=>{ce.error(ie)}))}function F(ie){t(2,d.type=ie,d),Dn("schema")}function L(){i?Gt("不保存 直接取消么?",()=>{P()}):P()}async function P(){const ie=c==null?void 0:c.$clone();if(ie){if(ie.id="",ie.created="",ie.updated="",ie.name+="_duplicate",!j.isEmpty(ie.schema))for(const Le of ie.schema)Le.id="";if(!j.isEmpty(ie.indexes))for(let Le=0;Le<ie.indexes.length;Le++){const at=j.parseIndex(ie.indexes[Le]);at.indexName="idx_"+j.randomString(7),at.tableName=ie.name,ie.indexes[Le]=j.buildIndex(at)}}C(ie),await Kt(),t(21,g="")}const R=()=>T(),q=()=>E(),z=()=>L(),K=()=>N(),Q=ie=>{t(2,d.name=j.slugify(ie.target.value),d),ie.target.value=d.name},J=ie=>{t(2,d.name=j.slugify(ie.target.value),d),ie.target.value=d.name},Z=ie=>F(ie),se=()=>{s&&E()},ee=()=>$(Jn),te=()=>$(Xl),pe=()=>$(Al);function Ee(ie){d=ie,t(2,d),t(20,c)}function We(ie){d=ie,t(2,d),t(20,c)}function ot(ie){d=ie,t(2,d),t(20,c)}function xe(ie){d=ie,t(2,d),t(20,c)}const Je=()=>i&&v?(Gt("不保存直接取消?",()=>{t(10,v=!1),T()}),!1):!0;function $t(ie){le[ie?"unshift":"push"](()=>{u=ie,t(7,u)})}function Ft(ie){De.call(this,n,ie)}function Tt(ie){De.call(this,n,ie)}function Dt(ie){le[ie?"unshift":"push"](()=>{f=ie,t(8,f)})}const Lt=()=>O();return n.$$.update=()=>{var ie,Le;n.$$.dirty[0]&32&&(r.schema||(ie=r.options)!=null&&ie.query?t(11,k=j.getNestedVal(r,"schema.message")||"Has errors"):t(11,k="")),n.$$.dirty[0]&4&&d.type===xa&&(t(2,d.createRule=null,d),t(2,d.updateRule=null,d),t(2,d.deleteRule=null,d),t(2,d.indexes=[],d)),n.$$.dirty[0]&1048580&&d!=null&&d.name&&(c==null?void 0:c.name)!=(d==null?void 0:d.name)&&t(2,d.indexes=(Le=d.indexes)==null?void 0:Le.map(at=>j.replaceIndexTableName(at,d.name)),d),n.$$.dirty[0]&4&&t(13,l=!d.$isNew&&d.system),n.$$.dirty[0]&2097156&&t(4,i=g!=gs(d)),n.$$.dirty[0]&20&&t(12,s=d.$isNew||i),n.$$.dirty[0]&12&&_===Al&&d.type!==Xa&&$(Jn)},[$,T,d,_,i,r,o,u,f,m,v,k,s,l,E,O,N,F,L,C,c,g,R,q,z,K,Q,J,Z,se,ee,te,pe,Ee,We,ot,xe,Je,$t,Ft,Tt,Dt,Lt]}class dr extends ge{constructor(e){super(),be(this,e,s2,l2,_e,{changeTab:0,show:19,hide:1},null,[-1,-1])}get changeTab(){return this.$$.ctx[0]}get show(){return this.$$.ctx[19]}get hide(){return this.$$.ctx[1]}}function eu(n,e,t){const l=n.slice();return l[15]=e[t],l}function tu(n){let e,t=n[1].length&&nu();return{c(){t&&t.c(),e=ke()},m(l,i){t&&t.m(l,i),w(l,e,i)},p(l,i){l[1].length?t||(t=nu(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&y(e)}}}function nu(n){let e;return{c(){e=h("p"),e.textContent="未搜索到表",p(e,"class","txt-hint m-t-10 m-b-10 txt-center")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function lu(n,e){let t,l,i,s,r,o=e[15].name+"",a,u,f,c,d,m;return{key:n,first:null,c(){var v;t=h("a"),l=h("i"),s=D(),r=h("span"),a=B(o),u=D(),p(l,"class",i=j.getCollectionTypeIcon(e[15].type)),p(r,"class","txt"),p(t,"href",f="/collections?collectionId="+e[15].id),p(t,"class","sidebar-list-item"),p(t,"title",c=e[15].name),X(t,"active",((v=e[5])==null?void 0:v.id)===e[15].id),this.first=t},m(v,_){w(v,t,_),b(t,l),b(t,s),b(t,r),b(r,a),b(t,u),d||(m=$e(Zt.call(null,t)),d=!0)},p(v,_){var g;e=v,_&8&&i!==(i=j.getCollectionTypeIcon(e[15].type))&&p(l,"class",i),_&8&&o!==(o=e[15].name+"")&&oe(a,o),_&8&&f!==(f="/collections?collectionId="+e[15].id)&&p(t,"href",f),_&8&&c!==(c=e[15].name)&&p(t,"title",c),_&40&&X(t,"active",((g=e[5])==null?void 0:g.id)===e[15].id)},d(v){v&&y(t),d=!1,m()}}}function iu(n){let e,t,l,i;return{c(){e=h("footer"),t=h("button"),t.innerHTML=`<i class="ri-add-line"></i> 
                <span class="txt">新建表</span>`,p(t,"type","button"),p(t,"class","btn btn-block btn-outline"),p(e,"class","sidebar-footer")},m(s,r){w(s,e,r),b(e,t),l||(i=Y(t,"click",n[12]),l=!0)},p:x,d(s){s&&y(e),l=!1,i()}}}function r2(n){let e,t,l,i,s,r,o,a,u,f,c,d=[],m=new Map,v,_,g,k,$,C,T=n[3];const S=N=>N[15].id;for(let N=0;N<T.length;N+=1){let F=eu(n,T,N),L=S(F);m.set(L,d[N]=lu(L,F))}let E=null;T.length||(E=tu(n));let O=!n[7]&&iu(n),A={};return g=new dr({props:A}),n[13](g),g.$on("save",n[14]),{c(){e=h("aside"),t=h("header"),l=h("div"),i=h("div"),s=h("button"),s.innerHTML='<i class="ri-close-line"></i>',r=D(),o=h("input"),a=D(),u=h("hr"),f=D(),c=h("div");for(let N=0;N<d.length;N+=1)d[N].c();E&&E.c(),v=D(),O&&O.c(),_=D(),U(g.$$.fragment),p(s,"type","button"),p(s,"class","btn btn-xs btn-transparent btn-circle btn-clear"),X(s,"hidden",!n[4]),p(i,"class","form-field-addon"),p(o,"type","text"),p(o,"placeholder","搜索所有表..."),p(l,"class","form-field search"),X(l,"active",n[4]),p(t,"class","sidebar-header"),p(u,"class","m-t-5 m-b-xs"),p(c,"class","sidebar-content"),X(c,"fade",n[6]),X(c,"sidebar-content-compact",n[3].length>20),p(e,"class","page-sidebar collection-sidebar")},m(N,F){w(N,e,F),b(e,t),b(t,l),b(l,i),b(i,s),b(l,r),b(l,o),re(o,n[0]),b(e,a),b(e,u),b(e,f),b(e,c);for(let L=0;L<d.length;L+=1)d[L]&&d[L].m(c,null);E&&E.m(c,null),b(e,v),O&&O.m(e,null),w(N,_,F),H(g,N,F),k=!0,$||(C=[Y(s,"click",n[10]),Y(o,"input",n[11])],$=!0)},p(N,[F]){(!k||F&16)&&X(s,"hidden",!N[4]),F&1&&o.value!==N[0]&&re(o,N[0]),(!k||F&16)&&X(l,"active",N[4]),F&42&&(T=N[3],d=rt(d,F,S,1,N,T,m,c,dl,lu,null,eu),!T.length&&E?E.p(N,F):T.length?E&&(E.d(1),E=null):(E=tu(N),E.c(),E.m(c,null))),(!k||F&64)&&X(c,"fade",N[6]),(!k||F&8)&&X(c,"sidebar-content-compact",N[3].length>20),N[7]?O&&(O.d(1),O=null):O?O.p(N,F):(O=iu(N),O.c(),O.m(e,null));const L={};g.$set(L)},i(N){k||(M(g.$$.fragment,N),k=!0)},o(N){I(g.$$.fragment,N),k=!1},d(N){N&&y(e);for(let F=0;F<d.length;F+=1)d[F].d();E&&E.d(),O&&O.d(),N&&y(_),n[13](null),V(g,N),$=!1,Te(C)}}}function o2(){setTimeout(()=>{const n=document.querySelector(".collection-sidebar .sidebar-list-item.active");n&&(n==null||n.scrollIntoView({block:"nearest"}))},0)}function a2(n,e,t){let l,i,s,r,o,a,u;Ve(n,jn,$=>t(5,r=$)),Ve(n,An,$=>t(9,o=$)),Ve(n,Li,$=>t(6,a=$)),Ve(n,Dl,$=>t(7,u=$));let f,c="";function d($){Wt(jn,r=$,r)}const m=()=>t(0,c="");function v(){c=this.value,t(0,c)}const _=()=>f==null?void 0:f.show();function g($){le[$?"unshift":"push"](()=>{f=$,t(2,f)})}const k=$=>{var C;(C=$.detail)!=null&&C.isNew&&$.detail.collection&&d($.detail.collection)};return n.$$.update=()=>{n.$$.dirty&512&&o&&o2(),n.$$.dirty&1&&t(1,l=c.replace(/\s+/g,"").toLowerCase()),n.$$.dirty&1&&t(4,i=c!==""),n.$$.dirty&515&&t(3,s=o.filter($=>$.id==c||$.name.replace(/\s+/g,"").toLowerCase().includes(l)))},[c,l,f,s,i,r,a,u,d,o,m,v,_,g,k]}class u2 extends ge{constructor(e){super(),be(this,e,a2,r2,_e,{})}}function su(n,e,t){const l=n.slice();return l[14]=e[t][0],l[15]=e[t][1],l}function ru(n){n[18]=n[19].default}function ou(n,e,t){const l=n.slice();return l[14]=e[t][0],l[15]=e[t][1],l[21]=t,l}function au(n){let e;return{c(){e=h("hr"),p(e,"class","m-t-sm m-b-sm")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function uu(n,e){let t,l=e[21]===Object.keys(e[6]).length,i,s,r=e[15].label+"",o,a,u,f,c=l&&au();function d(){return e[9](e[14])}return{key:n,first:null,c(){t=ke(),c&&c.c(),i=D(),s=h("button"),o=B(r),a=D(),p(s,"type","button"),p(s,"class","sidebar-item"),X(s,"active",e[5]===e[14]),this.first=t},m(m,v){w(m,t,v),c&&c.m(m,v),w(m,i,v),w(m,s,v),b(s,o),b(s,a),u||(f=Y(s,"click",d),u=!0)},p(m,v){e=m,v&8&&(l=e[21]===Object.keys(e[6]).length),l?c||(c=au(),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),v&8&&r!==(r=e[15].label+"")&&oe(o,r),v&40&&X(s,"active",e[5]===e[14])},d(m){m&&y(t),c&&c.d(m),m&&y(i),m&&y(s),u=!1,f()}}}function fu(n){let e,t,l,i={ctx:n,current:null,token:null,hasCatch:!1,pending:d2,then:c2,catch:f2,value:19,blocks:[,,,]};return br(t=n[15].component,i),{c(){e=ke(),i.block.c()},m(s,r){w(s,e,r),i.block.m(s,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,l=!0},p(s,r){n=s,i.ctx=n,r&8&&t!==(t=n[15].component)&&br(t,i)||Vm(i,n,r)},i(s){l||(M(i.block),l=!0)},o(s){for(let r=0;r<3;r+=1){const o=i.blocks[r];I(o)}l=!1},d(s){s&&y(e),i.block.d(s),i.token=null,i=null}}}function f2(n){return{c:x,m:x,p:x,i:x,o:x,d:x}}function c2(n){ru(n);let e,t,l;return e=new n[18]({props:{collection:n[2]}}),{c(){U(e.$$.fragment),t=D()},m(i,s){H(e,i,s),w(i,t,s),l=!0},p(i,s){ru(i);const r={};s&4&&(r.collection=i[2]),e.$set(r)},i(i){l||(M(e.$$.fragment,i),l=!0)},o(i){I(e.$$.fragment,i),l=!1},d(i){V(e,i),i&&y(t)}}}function d2(n){return{c:x,m:x,p:x,i:x,o:x,d:x}}function cu(n,e){let t,l,i,s=e[5]===e[14]&&fu(e);return{key:n,first:null,c(){t=ke(),s&&s.c(),l=ke(),this.first=t},m(r,o){w(r,t,o),s&&s.m(r,o),w(r,l,o),i=!0},p(r,o){e=r,e[5]===e[14]?s?(s.p(e,o),o&40&&M(s,1)):(s=fu(e),s.c(),M(s,1),s.m(l.parentNode,l)):s&&(ue(),I(s,1,1,()=>{s=null}),fe())},i(r){i||(M(s),i=!0)},o(r){I(s),i=!1},d(r){r&&y(t),s&&s.d(r),r&&y(l)}}}function p2(n){let e,t,l,i=[],s=new Map,r,o,a=[],u=new Map,f,c=Object.entries(n[3]);const d=_=>_[14];for(let _=0;_<c.length;_+=1){let g=ou(n,c,_),k=d(g);s.set(k,i[_]=uu(k,g))}let m=Object.entries(n[3]);const v=_=>_[14];for(let _=0;_<m.length;_+=1){let g=su(n,m,_),k=v(g);u.set(k,a[_]=cu(k,g))}return{c(){var _;e=h("div"),t=h("aside"),l=h("nav");for(let g=0;g<i.length;g+=1)i[g].c();r=D(),o=h("div");for(let g=0;g<a.length;g+=1)a[g].c();p(l,"class","sidebar-content"),p(t,"class","docs-sidebar"),X(t,"compact",(_=n[2])==null?void 0:_.$isAuth),p(o,"class","docs-content"),p(e,"class","docs-content-wrapper")},m(_,g){w(_,e,g),b(e,t),b(t,l);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(l,null);b(e,r),b(e,o);for(let k=0;k<a.length;k+=1)a[k]&&a[k].m(o,null);f=!0},p(_,g){var k;g&106&&(c=Object.entries(_[3]),i=rt(i,g,d,1,_,c,s,l,dl,uu,null,ou)),(!f||g&4)&&X(t,"compact",(k=_[2])==null?void 0:k.$isAuth),g&44&&(m=Object.entries(_[3]),ue(),a=rt(a,g,v,1,_,m,u,o,Ot,cu,null,su),fe())},i(_){if(!f){for(let g=0;g<m.length;g+=1)M(a[g]);f=!0}},o(_){for(let g=0;g<a.length;g+=1)I(a[g]);f=!1},d(_){_&&y(e);for(let g=0;g<i.length;g+=1)i[g].d();for(let g=0;g<a.length;g+=1)a[g].d()}}}function m2(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<span class="txt">Close</span>',p(e,"type","button"),p(e,"class","btn btn-transparent")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[8]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function _2(n){let e,t,l={class:"docs-panel",$$slots:{footer:[m2],default:[p2]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[10](e),e.$on("hide",n[11]),e.$on("show",n[12]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&4194348&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[10](null),V(e,i)}}}function h2(n,e,t){const l={list:{label:"List/Search",component:Xe(()=>import("./ListApiDocs-d92935c1.js"),["./ListApiDocs-d92935c1.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css","./ListApiDocs-68f52edd.css"],import.meta.url)},view:{label:"View",component:Xe(()=>import("./ViewApiDocs-1ed8d69c.js"),["./ViewApiDocs-1ed8d69c.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-5c7be197.js"],import.meta.url)},create:{label:"Create",component:Xe(()=>import("./CreateApiDocs-33bbdffe.js"),["./CreateApiDocs-33bbdffe.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-5c7be197.js"],import.meta.url)},update:{label:"Update",component:Xe(()=>import("./UpdateApiDocs-829e55a7.js"),["./UpdateApiDocs-829e55a7.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-5c7be197.js"],import.meta.url)},delete:{label:"Delete",component:Xe(()=>import("./DeleteApiDocs-87d8a044.js"),["./DeleteApiDocs-87d8a044.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},realtime:{label:"Realtime",component:Xe(()=>import("./RealtimeApiDocs-9f184606.js"),["./RealtimeApiDocs-9f184606.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css"],import.meta.url)}},i={"auth-with-password":{label:"Auth with password",component:Xe(()=>import("./AuthWithPasswordDocs-5fcb5fa7.js"),["./AuthWithPasswordDocs-5fcb5fa7.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-5c7be197.js"],import.meta.url)},"auth-with-oauth2":{label:"Auth with OAuth2",component:Xe(()=>import("./AuthWithOAuth2Docs-3562e547.js"),["./AuthWithOAuth2Docs-3562e547.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-5c7be197.js"],import.meta.url)},refresh:{label:"Auth refresh",component:Xe(()=>import("./AuthRefreshDocs-531ed166.js"),["./AuthRefreshDocs-531ed166.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-5c7be197.js"],import.meta.url)},"request-verification":{label:"Request verification",component:Xe(()=>import("./RequestVerificationDocs-9a2bc7ee.js"),["./RequestVerificationDocs-9a2bc7ee.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-verification":{label:"Confirm verification",component:Xe(()=>import("./ConfirmVerificationDocs-f64e2832.js"),["./ConfirmVerificationDocs-f64e2832.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"request-password-reset":{label:"Request password reset",component:Xe(()=>import("./RequestPasswordResetDocs-3dc5d71e.js"),["./RequestPasswordResetDocs-3dc5d71e.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-password-reset":{label:"Confirm password reset",component:Xe(()=>import("./ConfirmPasswordResetDocs-9f333406.js"),["./ConfirmPasswordResetDocs-9f333406.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"request-email-change":{label:"Request email change",component:Xe(()=>import("./RequestEmailChangeDocs-35ce9751.js"),["./RequestEmailChangeDocs-35ce9751.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-email-change":{label:"Confirm email change",component:Xe(()=>import("./ConfirmEmailChangeDocs-4d1dca12.js"),["./ConfirmEmailChangeDocs-4d1dca12.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"list-auth-methods":{label:"List auth methods",component:Xe(()=>import("./AuthMethodsDocs-0857ad3b.js"),["./AuthMethodsDocs-0857ad3b.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-5c7be197.js"],import.meta.url)},"list-linked-accounts":{label:"List OAuth2 accounts",component:Xe(()=>import("./ListExternalAuthsDocs-265e8ba5.js"),["./ListExternalAuthsDocs-265e8ba5.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-5c7be197.js"],import.meta.url)},"unlink-account":{label:"Unlink OAuth2 account",component:Xe(()=>import("./UnlinkExternalAuthDocs-eb00e0f7.js"),["./UnlinkExternalAuthDocs-eb00e0f7.js","./SdkTabs-9a0f3612.js","./SdkTabs-9b0b7a06.css"],import.meta.url)}};let s,r=new ln,o,a=[];a.length&&(o=Object.keys(a)[0]);function u(k){return t(2,r=k),c(Object.keys(a)[0]),s==null?void 0:s.show()}function f(){return s==null?void 0:s.hide()}function c(k){t(5,o=k)}const d=()=>f(),m=k=>c(k);function v(k){le[k?"unshift":"push"](()=>{s=k,t(4,s)})}function _(k){De.call(this,n,k)}function g(k){De.call(this,n,k)}return n.$$.update=()=>{n.$$.dirty&12&&(r.$isAuth?(t(3,a=Object.assign({},l,i)),!(r!=null&&r.options.allowUsernameAuth)&&!(r!=null&&r.options.allowEmailAuth)&&delete a["auth-with-password"],r!=null&&r.options.allowOAuth2Auth||delete a["auth-with-oauth2"]):r.$isView?(t(3,a=Object.assign({},l)),delete a.create,delete a.update,delete a.delete,delete a.realtime):t(3,a=Object.assign({},l)))},[f,c,r,a,s,o,l,u,d,m,v,_,g]}class b2 extends ge{constructor(e){super(),be(this,e,h2,_2,_e,{show:7,hide:0,changeTab:1})}get show(){return this.$$.ctx[7]}get hide(){return this.$$.ctx[0]}get changeTab(){return this.$$.ctx[1]}}function g2(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Auth URL"),i=D(),s=h("input"),p(e,"for",l=n[5]),p(s,"type","url"),p(s,"id",r=n[5])},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].authUrl),o||(a=Y(s,"input",n[2]),o=!0)},p(u,f){f&32&&l!==(l=u[5])&&p(e,"for",l),f&32&&r!==(r=u[5])&&p(s,"id",r),f&1&&s.value!==u[0].authUrl&&re(s,u[0].authUrl)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function v2(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Token URL"),i=D(),s=h("input"),p(e,"for",l=n[5]),p(s,"type","url"),p(s,"id",r=n[5])},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].tokenUrl),o||(a=Y(s,"input",n[3]),o=!0)},p(u,f){f&32&&l!==(l=u[5])&&p(e,"for",l),f&32&&r!==(r=u[5])&&p(s,"id",r),f&1&&s.value!==u[0].tokenUrl&&re(s,u[0].tokenUrl)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function k2(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("User API URL"),i=D(),s=h("input"),p(e,"for",l=n[5]),p(s,"type","url"),p(s,"id",r=n[5])},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].userApiUrl),o||(a=Y(s,"input",n[4]),o=!0)},p(u,f){f&32&&l!==(l=u[5])&&p(e,"for",l),f&32&&r!==(r=u[5])&&p(s,"id",r),f&1&&s.value!==u[0].userApiUrl&&re(s,u[0].userApiUrl)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function y2(n){let e,t,l,i,s,r,o,a;return l=new de({props:{class:"form-field",name:n[1]+".authUrl",$$slots:{default:[g2,({uniqueId:u})=>({5:u}),({uniqueId:u})=>u?32:0]},$$scope:{ctx:n}}}),s=new de({props:{class:"form-field",name:n[1]+".tokenUrl",$$slots:{default:[v2,({uniqueId:u})=>({5:u}),({uniqueId:u})=>u?32:0]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field",name:n[1]+".userApiUrl",$$slots:{default:[k2,({uniqueId:u})=>({5:u}),({uniqueId:u})=>u?32:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),e.textContent="Selfhosted endpoints (optional)",t=D(),U(l.$$.fragment),i=D(),U(s.$$.fragment),r=D(),U(o.$$.fragment),p(e,"class","section-title")},m(u,f){w(u,e,f),w(u,t,f),H(l,u,f),w(u,i,f),H(s,u,f),w(u,r,f),H(o,u,f),a=!0},p(u,[f]){const c={};f&2&&(c.name=u[1]+".authUrl"),f&97&&(c.$$scope={dirty:f,ctx:u}),l.$set(c);const d={};f&2&&(d.name=u[1]+".tokenUrl"),f&97&&(d.$$scope={dirty:f,ctx:u}),s.$set(d);const m={};f&2&&(m.name=u[1]+".userApiUrl"),f&97&&(m.$$scope={dirty:f,ctx:u}),o.$set(m)},i(u){a||(M(l.$$.fragment,u),M(s.$$.fragment,u),M(o.$$.fragment,u),a=!0)},o(u){I(l.$$.fragment,u),I(s.$$.fragment,u),I(o.$$.fragment,u),a=!1},d(u){u&&y(e),u&&y(t),V(l,u),u&&y(i),V(s,u),u&&y(r),V(o,u)}}}function w2(n,e,t){let{key:l=""}=e,{config:i={}}=e;function s(){i.authUrl=this.value,t(0,i)}function r(){i.tokenUrl=this.value,t(0,i)}function o(){i.userApiUrl=this.value,t(0,i)}return n.$$set=a=>{"key"in a&&t(1,l=a.key),"config"in a&&t(0,i=a.config)},[i,l,s,r,o]}class du extends ge{constructor(e){super(),be(this,e,w2,y2,_e,{key:1,config:0})}}function $2(n){let e,t,l,i,s,r,o,a,u,f,c;return{c(){e=h("label"),t=B("Auth URL"),i=D(),s=h("input"),a=D(),u=h("div"),u.textContent="Eg. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/authorize",p(e,"for",l=n[4]),p(s,"type","url"),p(s,"id",r=n[4]),s.required=o=n[0].enabled,p(u,"class","help-block")},m(d,m){w(d,e,m),b(e,t),w(d,i,m),w(d,s,m),re(s,n[0].authUrl),w(d,a,m),w(d,u,m),f||(c=Y(s,"input",n[2]),f=!0)},p(d,m){m&16&&l!==(l=d[4])&&p(e,"for",l),m&16&&r!==(r=d[4])&&p(s,"id",r),m&1&&o!==(o=d[0].enabled)&&(s.required=o),m&1&&s.value!==d[0].authUrl&&re(s,d[0].authUrl)},d(d){d&&y(e),d&&y(i),d&&y(s),d&&y(a),d&&y(u),f=!1,c()}}}function T2(n){let e,t,l,i,s,r,o,a,u,f,c;return{c(){e=h("label"),t=B("Token URL"),i=D(),s=h("input"),a=D(),u=h("div"),u.textContent="Eg. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/token",p(e,"for",l=n[4]),p(s,"type","url"),p(s,"id",r=n[4]),s.required=o=n[0].enabled,p(u,"class","help-block")},m(d,m){w(d,e,m),b(e,t),w(d,i,m),w(d,s,m),re(s,n[0].tokenUrl),w(d,a,m),w(d,u,m),f||(c=Y(s,"input",n[3]),f=!0)},p(d,m){m&16&&l!==(l=d[4])&&p(e,"for",l),m&16&&r!==(r=d[4])&&p(s,"id",r),m&1&&o!==(o=d[0].enabled)&&(s.required=o),m&1&&s.value!==d[0].tokenUrl&&re(s,d[0].tokenUrl)},d(d){d&&y(e),d&&y(i),d&&y(s),d&&y(a),d&&y(u),f=!1,c()}}}function S2(n){let e,t,l,i,s,r;return l=new de({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".authUrl",$$slots:{default:[$2,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),s=new de({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".tokenUrl",$$slots:{default:[T2,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),e.textContent="Azure AD endpoints",t=D(),U(l.$$.fragment),i=D(),U(s.$$.fragment),p(e,"class","section-title")},m(o,a){w(o,e,a),w(o,t,a),H(l,o,a),w(o,i,a),H(s,o,a),r=!0},p(o,[a]){const u={};a&1&&(u.class="form-field "+(o[0].enabled?"required":"")),a&2&&(u.name=o[1]+".authUrl"),a&49&&(u.$$scope={dirty:a,ctx:o}),l.$set(u);const f={};a&1&&(f.class="form-field "+(o[0].enabled?"required":"")),a&2&&(f.name=o[1]+".tokenUrl"),a&49&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){r||(M(l.$$.fragment,o),M(s.$$.fragment,o),r=!0)},o(o){I(l.$$.fragment,o),I(s.$$.fragment,o),r=!1},d(o){o&&y(e),o&&y(t),V(l,o),o&&y(i),V(s,o)}}}function C2(n,e,t){let{key:l=""}=e,{config:i={}}=e;function s(){i.authUrl=this.value,t(0,i)}function r(){i.tokenUrl=this.value,t(0,i)}return n.$$set=o=>{"key"in o&&t(1,l=o.key),"config"in o&&t(0,i=o.config)},[i,l,s,r]}class E2 extends ge{constructor(e){super(),be(this,e,C2,S2,_e,{key:1,config:0})}}function O2(n){let e,t,l,i,s,r,o,a,u,f,c;return{c(){e=h("label"),t=B("Auth URL"),i=D(),s=h("input"),a=D(),u=h("div"),u.textContent="Eg. https://example.com/authorize/",p(e,"for",l=n[5]),p(s,"type","url"),p(s,"id",r=n[5]),s.required=o=n[0].enabled,p(u,"class","help-block")},m(d,m){w(d,e,m),b(e,t),w(d,i,m),w(d,s,m),re(s,n[0].authUrl),w(d,a,m),w(d,u,m),f||(c=Y(s,"input",n[2]),f=!0)},p(d,m){m&32&&l!==(l=d[5])&&p(e,"for",l),m&32&&r!==(r=d[5])&&p(s,"id",r),m&1&&o!==(o=d[0].enabled)&&(s.required=o),m&1&&s.value!==d[0].authUrl&&re(s,d[0].authUrl)},d(d){d&&y(e),d&&y(i),d&&y(s),d&&y(a),d&&y(u),f=!1,c()}}}function D2(n){let e,t,l,i,s,r,o,a,u,f,c;return{c(){e=h("label"),t=B("Token URL"),i=D(),s=h("input"),a=D(),u=h("div"),u.textContent="Eg. https://example.com/token/",p(e,"for",l=n[5]),p(s,"type","url"),p(s,"id",r=n[5]),s.required=o=n[0].enabled,p(u,"class","help-block")},m(d,m){w(d,e,m),b(e,t),w(d,i,m),w(d,s,m),re(s,n[0].tokenUrl),w(d,a,m),w(d,u,m),f||(c=Y(s,"input",n[3]),f=!0)},p(d,m){m&32&&l!==(l=d[5])&&p(e,"for",l),m&32&&r!==(r=d[5])&&p(s,"id",r),m&1&&o!==(o=d[0].enabled)&&(s.required=o),m&1&&s.value!==d[0].tokenUrl&&re(s,d[0].tokenUrl)},d(d){d&&y(e),d&&y(i),d&&y(s),d&&y(a),d&&y(u),f=!1,c()}}}function A2(n){let e,t,l,i,s,r,o,a,u,f,c;return{c(){e=h("label"),t=B("User API URL"),i=D(),s=h("input"),a=D(),u=h("div"),u.textContent="Eg. https://example.com/userinfo/",p(e,"for",l=n[5]),p(s,"type","url"),p(s,"id",r=n[5]),s.required=o=n[0].enabled,p(u,"class","help-block")},m(d,m){w(d,e,m),b(e,t),w(d,i,m),w(d,s,m),re(s,n[0].userApiUrl),w(d,a,m),w(d,u,m),f||(c=Y(s,"input",n[4]),f=!0)},p(d,m){m&32&&l!==(l=d[5])&&p(e,"for",l),m&32&&r!==(r=d[5])&&p(s,"id",r),m&1&&o!==(o=d[0].enabled)&&(s.required=o),m&1&&s.value!==d[0].userApiUrl&&re(s,d[0].userApiUrl)},d(d){d&&y(e),d&&y(i),d&&y(s),d&&y(a),d&&y(u),f=!1,c()}}}function M2(n){let e,t,l,i,s,r,o,a;return l=new de({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".authUrl",$$slots:{default:[O2,({uniqueId:u})=>({5:u}),({uniqueId:u})=>u?32:0]},$$scope:{ctx:n}}}),s=new de({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".tokenUrl",$$slots:{default:[D2,({uniqueId:u})=>({5:u}),({uniqueId:u})=>u?32:0]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".userApiUrl",$$slots:{default:[A2,({uniqueId:u})=>({5:u}),({uniqueId:u})=>u?32:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),e.textContent="Endpoints",t=D(),U(l.$$.fragment),i=D(),U(s.$$.fragment),r=D(),U(o.$$.fragment),p(e,"class","section-title")},m(u,f){w(u,e,f),w(u,t,f),H(l,u,f),w(u,i,f),H(s,u,f),w(u,r,f),H(o,u,f),a=!0},p(u,[f]){const c={};f&1&&(c.class="form-field "+(u[0].enabled?"required":"")),f&2&&(c.name=u[1]+".authUrl"),f&97&&(c.$$scope={dirty:f,ctx:u}),l.$set(c);const d={};f&1&&(d.class="form-field "+(u[0].enabled?"required":"")),f&2&&(d.name=u[1]+".tokenUrl"),f&97&&(d.$$scope={dirty:f,ctx:u}),s.$set(d);const m={};f&1&&(m.class="form-field "+(u[0].enabled?"required":"")),f&2&&(m.name=u[1]+".userApiUrl"),f&97&&(m.$$scope={dirty:f,ctx:u}),o.$set(m)},i(u){a||(M(l.$$.fragment,u),M(s.$$.fragment,u),M(o.$$.fragment,u),a=!0)},o(u){I(l.$$.fragment,u),I(s.$$.fragment,u),I(o.$$.fragment,u),a=!1},d(u){u&&y(e),u&&y(t),V(l,u),u&&y(i),V(s,u),u&&y(r),V(o,u)}}}function I2(n,e,t){let{key:l=""}=e,{config:i={}}=e;function s(){i.authUrl=this.value,t(0,i)}function r(){i.tokenUrl=this.value,t(0,i)}function o(){i.userApiUrl=this.value,t(0,i)}return n.$$set=a=>{"key"in a&&t(1,l=a.key),"config"in a&&t(0,i=a.config)},[i,l,s,r,o]}class vs extends ge{constructor(e){super(),be(this,e,I2,M2,_e,{key:1,config:0})}}function N2(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Client ID"),i=D(),s=h("input"),p(e,"for",l=n[23]),p(s,"type","text"),p(s,"id",r=n[23]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[2]),o||(a=Y(s,"input",n[12]),o=!0)},p(u,f){f&8388608&&l!==(l=u[23])&&p(e,"for",l),f&8388608&&r!==(r=u[23])&&p(s,"id",r),f&4&&s.value!==u[2]&&re(s,u[2])},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function F2(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Team ID"),i=D(),s=h("input"),p(e,"for",l=n[23]),p(s,"type","text"),p(s,"id",r=n[23]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[3]),o||(a=Y(s,"input",n[13]),o=!0)},p(u,f){f&8388608&&l!==(l=u[23])&&p(e,"for",l),f&8388608&&r!==(r=u[23])&&p(s,"id",r),f&8&&s.value!==u[3]&&re(s,u[3])},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function L2(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Key ID"),i=D(),s=h("input"),p(e,"for",l=n[23]),p(s,"type","text"),p(s,"id",r=n[23]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[4]),o||(a=Y(s,"input",n[14]),o=!0)},p(u,f){f&8388608&&l!==(l=u[23])&&p(e,"for",l),f&8388608&&r!==(r=u[23])&&p(s,"id",r),f&16&&s.value!==u[4]&&re(s,u[4])},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function q2(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=h("span"),t.textContent="Duration (in seconds)",l=D(),i=h("i"),r=D(),o=h("input"),p(t,"class","txt"),p(i,"class","ri-information-line link-hint"),p(e,"for",s=n[23]),p(o,"type","text"),p(o,"id",a=n[23]),p(o,"max",Ci),o.required=!0},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),w(c,r,d),w(c,o,d),re(o,n[6]),u||(f=[$e(Pe.call(null,i,{text:`Max ${Ci} seconds (~${Ci/(60*60*24*30)<<0} months).`,position:"top"})),Y(o,"input",n[15])],u=!0)},p(c,d){d&8388608&&s!==(s=c[23])&&p(e,"for",s),d&8388608&&a!==(a=c[23])&&p(o,"id",a),d&64&&o.value!==c[6]&&re(o,c[6])},d(c){c&&y(e),c&&y(r),c&&y(o),u=!1,Te(f)}}}function P2(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=B("Private key"),i=D(),s=h("textarea"),o=D(),a=h("div"),a.textContent="The key is not stored on the server and it is used only for generating the signed JWT.",p(e,"for",l=n[23]),p(s,"id",r=n[23]),s.required=!0,p(s,"rows","8"),p(s,"placeholder",`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`),p(a,"class","help-block")},m(c,d){w(c,e,d),b(e,t),w(c,i,d),w(c,s,d),re(s,n[5]),w(c,o,d),w(c,a,d),u||(f=Y(s,"input",n[16]),u=!0)},p(c,d){d&8388608&&l!==(l=c[23])&&p(e,"for",l),d&8388608&&r!==(r=c[23])&&p(s,"id",r),d&32&&re(s,c[5])},d(c){c&&y(e),c&&y(i),c&&y(s),c&&y(o),c&&y(a),u=!1,f()}}}function R2(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$;return i=new de({props:{class:"form-field required",name:"clientId",$$slots:{default:[N2,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field required",name:"teamId",$$slots:{default:[F2,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),f=new de({props:{class:"form-field required",name:"keyId",$$slots:{default:[L2,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),m=new de({props:{class:"form-field required",name:"duration",$$slots:{default:[q2,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),_=new de({props:{class:"form-field required",name:"privateKey",$$slots:{default:[P2,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),{c(){e=h("form"),t=h("div"),l=h("div"),U(i.$$.fragment),s=D(),r=h("div"),U(o.$$.fragment),a=D(),u=h("div"),U(f.$$.fragment),c=D(),d=h("div"),U(m.$$.fragment),v=D(),U(_.$$.fragment),p(l,"class","col-lg-6"),p(r,"class","col-lg-6"),p(u,"class","col-lg-6"),p(d,"class","col-lg-6"),p(t,"class","grid"),p(e,"id",n[9]),p(e,"autocomplete","off")},m(C,T){w(C,e,T),b(e,t),b(t,l),H(i,l,null),b(t,s),b(t,r),H(o,r,null),b(t,a),b(t,u),H(f,u,null),b(t,c),b(t,d),H(m,d,null),b(t,v),H(_,t,null),g=!0,k||($=Y(e,"submit",Ke(n[17])),k=!0)},p(C,T){const S={};T&25165828&&(S.$$scope={dirty:T,ctx:C}),i.$set(S);const E={};T&25165832&&(E.$$scope={dirty:T,ctx:C}),o.$set(E);const O={};T&25165840&&(O.$$scope={dirty:T,ctx:C}),f.$set(O);const A={};T&25165888&&(A.$$scope={dirty:T,ctx:C}),m.$set(A);const N={};T&25165856&&(N.$$scope={dirty:T,ctx:C}),_.$set(N)},i(C){g||(M(i.$$.fragment,C),M(o.$$.fragment,C),M(f.$$.fragment,C),M(m.$$.fragment,C),M(_.$$.fragment,C),g=!0)},o(C){I(i.$$.fragment,C),I(o.$$.fragment,C),I(f.$$.fragment,C),I(m.$$.fragment,C),I(_.$$.fragment,C),g=!1},d(C){C&&y(e),V(i),V(o),V(f),V(m),V(_),k=!1,$()}}}function j2(n){let e;return{c(){e=h("h4"),e.textContent="Generate Apple client secret",p(e,"class","center txt-break")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function H2(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("button"),t=B("Close"),l=D(),i=h("button"),s=h("i"),r=D(),o=h("span"),o.textContent="Generate and set secret",p(e,"type","button"),p(e,"class","btn btn-transparent"),e.disabled=n[7],p(s,"class","ri-key-line"),p(o,"class","txt"),p(i,"type","submit"),p(i,"form",n[9]),p(i,"class","btn btn-expanded"),i.disabled=a=!n[8]||n[7],X(i,"btn-loading",n[7])},m(c,d){w(c,e,d),b(e,t),w(c,l,d),w(c,i,d),b(i,s),b(i,r),b(i,o),u||(f=Y(e,"click",n[0]),u=!0)},p(c,d){d&128&&(e.disabled=c[7]),d&384&&a!==(a=!c[8]||c[7])&&(i.disabled=a),d&128&&X(i,"btn-loading",c[7])},d(c){c&&y(e),c&&y(l),c&&y(i),u=!1,f()}}}function V2(n){let e,t,l={overlayClose:!n[7],escClose:!n[7],beforeHide:n[18],popup:!0,$$slots:{footer:[H2],header:[j2],default:[R2]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[19](e),e.$on("show",n[20]),e.$on("hide",n[21]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&128&&(r.overlayClose=!i[7]),s&128&&(r.escClose=!i[7]),s&128&&(r.beforeHide=i[18]),s&16777724&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[19](null),V(e,i)}}}const Ci=15777e3;function U2(n,e,t){let l;const i=pt(),s="apple_secret_"+j.randomString(5);let r,o,a,u,f,c,d=!1;function m(F={}){t(2,o=F.clientId||""),t(3,a=F.teamId||""),t(4,u=F.keyId||""),t(5,f=F.privateKey||""),t(6,c=F.duration||Ci),jt({}),r==null||r.show()}function v(){return r==null?void 0:r.hide()}async function _(){t(7,d=!0);try{const F=await ce.settings.generateAppleClientSecret(o,a,u,f.trim(),c);t(7,d=!1),wt("Successfully generated client secret."),i("submit",F),r==null||r.hide()}catch(F){ce.error(F)}t(7,d=!1)}function g(){o=this.value,t(2,o)}function k(){a=this.value,t(3,a)}function $(){u=this.value,t(4,u)}function C(){c=this.value,t(6,c)}function T(){f=this.value,t(5,f)}const S=()=>_(),E=()=>!d;function O(F){le[F?"unshift":"push"](()=>{r=F,t(1,r)})}function A(F){De.call(this,n,F)}function N(F){De.call(this,n,F)}return t(8,l=!0),[v,r,o,a,u,f,c,d,l,s,_,m,g,k,$,C,T,S,E,O,A,N]}class z2 extends ge{constructor(e){super(),be(this,e,U2,V2,_e,{show:11,hide:0})}get show(){return this.$$.ctx[11]}get hide(){return this.$$.ctx[0]}}function B2(n){let e,t,l,i,s,r,o,a,u,f,c={};return o=new z2({props:c}),n[4](o),o.$on("submit",n[5]),{c(){e=h("button"),t=h("i"),l=D(),i=h("span"),i.textContent="Generate secret",r=D(),U(o.$$.fragment),p(t,"class","ri-key-line"),p(i,"class","txt"),p(e,"type","button"),p(e,"class",s="btn btn-sm btn-secondary btn-provider-"+n[1])},m(d,m){w(d,e,m),b(e,t),b(e,l),b(e,i),w(d,r,m),H(o,d,m),a=!0,u||(f=Y(e,"click",n[3]),u=!0)},p(d,[m]){(!a||m&2&&s!==(s="btn btn-sm btn-secondary btn-provider-"+d[1]))&&p(e,"class",s);const v={};o.$set(v)},i(d){a||(M(o.$$.fragment,d),a=!0)},o(d){I(o.$$.fragment,d),a=!1},d(d){d&&y(e),d&&y(r),n[4](null),V(o,d),u=!1,f()}}}function W2(n,e,t){let{key:l=""}=e,{config:i={}}=e,s;const r=()=>s==null?void 0:s.show({clientId:i.clientId});function o(u){le[u?"unshift":"push"](()=>{s=u,t(2,s)})}const a=u=>{var f;t(0,i.clientSecret=((f=u.detail)==null?void 0:f.secret)||"",i)};return n.$$set=u=>{"key"in u&&t(1,l=u.key),"config"in u&&t(0,i=u.config)},[i,l,s,r,o,a]}class K2 extends ge{constructor(e){super(),be(this,e,W2,B2,_e,{key:1,config:0})}}const Ei=[{key:"appleAuth",title:"Apple",logo:"apple.svg",optionsComponent:K2},{key:"googleAuth",title:"Google",logo:"google.svg"},{key:"microsoftAuth",title:"Microsoft",logo:"microsoft.svg",optionsComponent:E2},{key:"yandexAuth",title:"Yandex",logo:"yandex.svg"},{key:"facebookAuth",title:"Facebook",logo:"facebook.svg"},{key:"instagramAuth",title:"Instagram",logo:"instagram.svg"},{key:"githubAuth",title:"GitHub",logo:"github.svg"},{key:"gitlabAuth",title:"GitLab",logo:"gitlab.svg",optionsComponent:du},{key:"giteeAuth",title:"Gitee",logo:"gitee.svg"},{key:"giteaAuth",title:"Gitea",logo:"gitea.svg",optionsComponent:du},{key:"discordAuth",title:"Discord",logo:"discord.svg"},{key:"twitterAuth",title:"Twitter",logo:"twitter.svg"},{key:"kakaoAuth",title:"Kakao",logo:"kakao.svg"},{key:"vkAuth",title:"VK",logo:"vk.svg"},{key:"spotifyAuth",title:"Spotify",logo:"spotify.svg"},{key:"twitchAuth",title:"Twitch",logo:"twitch.svg"},{key:"stravaAuth",title:"Strava",logo:"strava.svg"},{key:"livechatAuth",title:"LiveChat",logo:"livechat.svg"},{key:"oidcAuth",title:"OpenID Connect",logo:"oidc.svg",optionsComponent:vs},{key:"oidc2Auth",title:"(2) OpenID Connect",logo:"oidc.svg",optionsComponent:vs},{key:"oidc3Auth",title:"(3) OpenID Connect",logo:"oidc.svg",optionsComponent:vs}];function pu(n,e,t){const l=n.slice();return l[9]=e[t],l}function Y2(n){let e;return{c(){e=h("h6"),e.textContent="No linked OAuth2 providers.",p(e,"class","txt-hint txt-center m-t-sm m-b-sm")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function J2(n){let e,t=n[1],l=[];for(let i=0;i<t.length;i+=1)l[i]=mu(pu(n,t,i));return{c(){e=h("div");for(let i=0;i<l.length;i+=1)l[i].c();p(e,"class","list")},m(i,s){w(i,e,s);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(i,s){if(s&58){t=i[1];let r;for(r=0;r<t.length;r+=1){const o=pu(i,t,r);l[r]?l[r].p(o,s):(l[r]=mu(o),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(i){i&&y(e),it(l,i)}}}function Z2(n){let e;return{c(){e=h("div"),e.innerHTML='<span class="loader"></span>',p(e,"class","block txt-center")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function mu(n){let e,t,l,i,s,r,o=n[4](n[9].provider)+"",a,u,f,c,d=n[9].providerId+"",m,v,_,g,k,$;function C(){return n[6](n[9])}return{c(){var T;e=h("div"),t=h("figure"),l=h("img"),s=D(),r=h("span"),a=B(o),u=D(),f=h("div"),c=B("ID: "),m=B(d),v=D(),_=h("button"),_.innerHTML='<i class="ri-close-line"></i>',g=D(),Xt(l.src,i="./images/oauth2/"+((T=n[3](n[9].provider))==null?void 0:T.logo))||p(l,"src",i),p(l,"alt","Provider logo"),p(t,"class","provider-logo"),p(r,"class","txt"),p(f,"class","txt-hint"),p(_,"type","button"),p(_,"class","btn btn-transparent link-hint btn-circle btn-sm m-l-auto"),p(e,"class","list-item")},m(T,S){w(T,e,S),b(e,t),b(t,l),b(e,s),b(e,r),b(r,a),b(e,u),b(e,f),b(f,c),b(f,m),b(e,v),b(e,_),b(e,g),k||($=Y(_,"click",C),k=!0)},p(T,S){var E;n=T,S&2&&!Xt(l.src,i="./images/oauth2/"+((E=n[3](n[9].provider))==null?void 0:E.logo))&&p(l,"src",i),S&2&&o!==(o=n[4](n[9].provider)+"")&&oe(a,o),S&2&&d!==(d=n[9].providerId+"")&&oe(m,d)},d(T){T&&y(e),k=!1,$()}}}function G2(n){let e;function t(s,r){var o;return s[2]?Z2:(o=s[0])!=null&&o.id&&s[1].length?J2:Y2}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,[r]){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:x,o:x,d(s){i.d(s),s&&y(e)}}}function Q2(n,e,t){const l=pt();let{record:i}=e,s=[],r=!1;function o(d){return Ei.find(m=>m.key==d+"Auth")||{}}function a(d){var m;return((m=o(d))==null?void 0:m.title)||j.sentenize(d,!1)}async function u(){if(!(i!=null&&i.id)){t(1,s=[]),t(2,r=!1);return}t(2,r=!0);try{t(1,s=await ce.collection(i.collectionId).listExternalAuths(i.id))}catch(d){ce.error(d)}t(2,r=!1)}function f(d){!(i!=null&&i.id)||!d||Gt(`Do you really want to unlink the ${a(d)} provider?`,()=>ce.collection(i.collectionId).unlinkExternalAuth(i.id,d).then(()=>{wt(`Successfully unlinked the ${a(d)} provider.`),l("unlink",d),u()}).catch(m=>{ce.error(m)}))}u();const c=d=>f(d.provider);return n.$$set=d=>{"record"in d&&t(0,i=d.record)},[i,s,r,o,a,f,c]}class X2 extends ge{constructor(e){super(),be(this,e,Q2,G2,_e,{record:0})}}function x2(n){let e,t,l,i,s,r,o,a,u,f,c,d;return{c(){e=h("label"),t=h("i"),l=D(),i=h("span"),i.textContent="Username",r=D(),o=h("input"),p(t,"class",j.getFieldTypeIcon("user")),p(i,"class","txt"),p(e,"for",s=n[13]),p(o,"type","text"),p(o,"requried",a=!n[2]),p(o,"placeholder",u=n[2]?"Leave empty to auto generate...":n[4]),p(o,"id",f=n[13])},m(m,v){w(m,e,v),b(e,t),b(e,l),b(e,i),w(m,r,v),w(m,o,v),re(o,n[0].username),c||(d=Y(o,"input",n[5]),c=!0)},p(m,v){v&8192&&s!==(s=m[13])&&p(e,"for",s),v&4&&a!==(a=!m[2])&&p(o,"requried",a),v&4&&u!==(u=m[2]?"Leave empty to auto generate...":m[4])&&p(o,"placeholder",u),v&8192&&f!==(f=m[13])&&p(o,"id",f),v&1&&o.value!==m[0].username&&re(o,m[0].username)},d(m){m&&y(e),m&&y(r),m&&y(o),c=!1,d()}}}function ek(n){let e,t,l,i,s,r,o,a,u,f,c=n[0].emailVisibility?"On":"Off",d,m,v,_,g,k,$,C;return{c(){var T;e=h("label"),t=h("i"),l=D(),i=h("span"),i.textContent="Email",r=D(),o=h("div"),a=h("button"),u=h("span"),f=B("Public: "),d=B(c),v=D(),_=h("input"),p(t,"class",j.getFieldTypeIcon("email")),p(i,"class","txt"),p(e,"for",s=n[13]),p(u,"class","txt"),p(a,"type","button"),p(a,"class",m="btn btn-sm btn-transparent "+(n[0].emailVisibility?"btn-success":"btn-hint")),p(o,"class","form-field-addon email-visibility-addon svelte-1751a4d"),p(_,"type","email"),_.autofocus=n[2],p(_,"autocomplete","off"),p(_,"id",g=n[13]),_.required=k=(T=n[1].options)==null?void 0:T.requireEmail,p(_,"class","svelte-1751a4d")},m(T,S){w(T,e,S),b(e,t),b(e,l),b(e,i),w(T,r,S),w(T,o,S),b(o,a),b(a,u),b(u,f),b(u,d),w(T,v,S),w(T,_,S),re(_,n[0].email),n[2]&&_.focus(),$||(C=[$e(Pe.call(null,a,{text:"Make email public or private",position:"top-right"})),Y(a,"click",n[6]),Y(_,"input",n[7])],$=!0)},p(T,S){var E;S&8192&&s!==(s=T[13])&&p(e,"for",s),S&1&&c!==(c=T[0].emailVisibility?"On":"Off")&&oe(d,c),S&1&&m!==(m="btn btn-sm btn-transparent "+(T[0].emailVisibility?"btn-success":"btn-hint"))&&p(a,"class",m),S&4&&(_.autofocus=T[2]),S&8192&&g!==(g=T[13])&&p(_,"id",g),S&2&&k!==(k=(E=T[1].options)==null?void 0:E.requireEmail)&&(_.required=k),S&1&&_.value!==T[0].email&&re(_,T[0].email)},d(T){T&&y(e),T&&y(r),T&&y(o),T&&y(v),T&&y(_),$=!1,Te(C)}}}function _u(n){let e,t;return e=new de({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[tk,({uniqueId:l})=>({13:l}),({uniqueId:l})=>l?8192:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&24584&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function tk(n){let e,t,l,i,s,r,o,a;return{c(){e=h("input"),l=D(),i=h("label"),s=B("Change password"),p(e,"type","checkbox"),p(e,"id",t=n[13]),p(i,"for",r=n[13])},m(u,f){w(u,e,f),e.checked=n[3],w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"change",n[8]),o=!0)},p(u,f){f&8192&&t!==(t=u[13])&&p(e,"id",t),f&8&&(e.checked=u[3]),f&8192&&r!==(r=u[13])&&p(i,"for",r)},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function hu(n){let e,t,l,i,s,r,o,a,u;return i=new de({props:{class:"form-field required",name:"password",$$slots:{default:[nk,({uniqueId:f})=>({13:f}),({uniqueId:f})=>f?8192:0]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[lk,({uniqueId:f})=>({13:f}),({uniqueId:f})=>f?8192:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),l=h("div"),U(i.$$.fragment),s=D(),r=h("div"),U(o.$$.fragment),p(l,"class","col-sm-6"),p(r,"class","col-sm-6"),p(t,"class","grid"),X(t,"p-t-xs",n[3]),p(e,"class","block")},m(f,c){w(f,e,c),b(e,t),b(t,l),H(i,l,null),b(t,s),b(t,r),H(o,r,null),u=!0},p(f,c){const d={};c&24577&&(d.$$scope={dirty:c,ctx:f}),i.$set(d);const m={};c&24577&&(m.$$scope={dirty:c,ctx:f}),o.$set(m),(!u||c&8)&&X(t,"p-t-xs",f[3])},i(f){u||(M(i.$$.fragment,f),M(o.$$.fragment,f),f&&Be(()=>{u&&(a||(a=Fe(e,Ge,{duration:150},!0)),a.run(1))}),u=!0)},o(f){I(i.$$.fragment,f),I(o.$$.fragment,f),f&&(a||(a=Fe(e,Ge,{duration:150},!1)),a.run(0)),u=!1},d(f){f&&y(e),V(i),V(o),f&&a&&a.end()}}}function nk(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=h("i"),l=D(),i=h("span"),i.textContent="Password",r=D(),o=h("input"),p(t,"class","ri-lock-line"),p(i,"class","txt"),p(e,"for",s=n[13]),p(o,"type","password"),p(o,"autocomplete","new-password"),p(o,"id",a=n[13]),o.required=!0},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),w(c,r,d),w(c,o,d),re(o,n[0].password),u||(f=Y(o,"input",n[9]),u=!0)},p(c,d){d&8192&&s!==(s=c[13])&&p(e,"for",s),d&8192&&a!==(a=c[13])&&p(o,"id",a),d&1&&o.value!==c[0].password&&re(o,c[0].password)},d(c){c&&y(e),c&&y(r),c&&y(o),u=!1,f()}}}function lk(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=h("i"),l=D(),i=h("span"),i.textContent="Password confirm",r=D(),o=h("input"),p(t,"class","ri-lock-line"),p(i,"class","txt"),p(e,"for",s=n[13]),p(o,"type","password"),p(o,"autocomplete","new-password"),p(o,"id",a=n[13]),o.required=!0},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),w(c,r,d),w(c,o,d),re(o,n[0].passwordConfirm),u||(f=Y(o,"input",n[10]),u=!0)},p(c,d){d&8192&&s!==(s=c[13])&&p(e,"for",s),d&8192&&a!==(a=c[13])&&p(o,"id",a),d&1&&o.value!==c[0].passwordConfirm&&re(o,c[0].passwordConfirm)},d(c){c&&y(e),c&&y(r),c&&y(o),u=!1,f()}}}function ik(n){let e,t,l,i,s,r,o,a;return{c(){e=h("input"),l=D(),i=h("label"),s=B("Verified"),p(e,"type","checkbox"),p(e,"id",t=n[13]),p(i,"for",r=n[13])},m(u,f){w(u,e,f),e.checked=n[0].verified,w(u,l,f),w(u,i,f),b(i,s),o||(a=[Y(e,"change",n[11]),Y(e,"change",Ke(n[12]))],o=!0)},p(u,f){f&8192&&t!==(t=u[13])&&p(e,"id",t),f&1&&(e.checked=u[0].verified),f&8192&&r!==(r=u[13])&&p(i,"for",r)},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,Te(a)}}}function sk(n){var g;let e,t,l,i,s,r,o,a,u,f,c,d,m;l=new de({props:{class:"form-field "+(n[2]?"":"required"),name:"username",$$slots:{default:[x2,({uniqueId:k})=>({13:k}),({uniqueId:k})=>k?8192:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field "+((g=n[1].options)!=null&&g.requireEmail?"required":""),name:"email",$$slots:{default:[ek,({uniqueId:k})=>({13:k}),({uniqueId:k})=>k?8192:0]},$$scope:{ctx:n}}});let v=!n[2]&&_u(n),_=(n[2]||n[3])&&hu(n);return d=new de({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[ik,({uniqueId:k})=>({13:k}),({uniqueId:k})=>k?8192:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),o=D(),a=h("div"),v&&v.c(),u=D(),_&&_.c(),f=D(),c=h("div"),U(d.$$.fragment),p(t,"class","col-lg-6"),p(s,"class","col-lg-6"),p(a,"class","col-lg-12"),p(c,"class","col-lg-12"),p(e,"class","grid m-b-base")},m(k,$){w(k,e,$),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),b(e,o),b(e,a),v&&v.m(a,null),b(a,u),_&&_.m(a,null),b(e,f),b(e,c),H(d,c,null),m=!0},p(k,[$]){var E;const C={};$&4&&(C.class="form-field "+(k[2]?"":"required")),$&24581&&(C.$$scope={dirty:$,ctx:k}),l.$set(C);const T={};$&2&&(T.class="form-field "+((E=k[1].options)!=null&&E.requireEmail?"required":"")),$&24583&&(T.$$scope={dirty:$,ctx:k}),r.$set(T),k[2]?v&&(ue(),I(v,1,1,()=>{v=null}),fe()):v?(v.p(k,$),$&4&&M(v,1)):(v=_u(k),v.c(),M(v,1),v.m(a,u)),k[2]||k[3]?_?(_.p(k,$),$&12&&M(_,1)):(_=hu(k),_.c(),M(_,1),_.m(a,null)):_&&(ue(),I(_,1,1,()=>{_=null}),fe());const S={};$&24581&&(S.$$scope={dirty:$,ctx:k}),d.$set(S)},i(k){m||(M(l.$$.fragment,k),M(r.$$.fragment,k),M(v),M(_),M(d.$$.fragment,k),m=!0)},o(k){I(l.$$.fragment,k),I(r.$$.fragment,k),I(v),I(_),I(d.$$.fragment,k),m=!1},d(k){k&&y(e),V(l),V(r),v&&v.d(),_&&_.d(),V(d)}}}function rk(n,e,t){let{collection:l=new ln}=e,{record:i=new Pn}=e,{isNew:s=i.$isNew}=e,r=i.username||null,o=!1;function a(){i.username=this.value,t(0,i),t(3,o)}const u=()=>t(0,i.emailVisibility=!i.emailVisibility,i);function f(){i.email=this.value,t(0,i),t(3,o)}function c(){o=this.checked,t(3,o)}function d(){i.password=this.value,t(0,i),t(3,o)}function m(){i.passwordConfirm=this.value,t(0,i),t(3,o)}function v(){i.verified=this.checked,t(0,i),t(3,o)}const _=g=>{s||Gt("Do you really want to manually change the verified account state?",()=>{},()=>{t(0,i.verified=!g.target.checked,i)})};return n.$$set=g=>{"collection"in g&&t(1,l=g.collection),"record"in g&&t(0,i=g.record),"isNew"in g&&t(2,s=g.isNew)},n.$$.update=()=>{n.$$.dirty&1&&!i.username&&i.username!==null&&t(0,i.username=null,i),n.$$.dirty&8&&(o||(t(0,i.password=null,i),t(0,i.passwordConfirm=null,i),Dn("password"),Dn("passwordConfirm")))},[i,l,s,o,r,a,u,f,c,d,m,v,_]}class ok extends ge{constructor(e){super(),be(this,e,rk,sk,_e,{collection:1,record:0,isNew:2})}}function ak(n){let e,t,l,i,s=n[1].name+"",r,o,a,u;return{c(){e=h("input"),l=D(),i=h("label"),r=B(s),p(e,"type","checkbox"),p(e,"id",t=n[3]),p(i,"for",o=n[3])},m(f,c){w(f,e,c),e.checked=n[0],w(f,l,c),w(f,i,c),b(i,r),a||(u=Y(e,"change",n[2]),a=!0)},p(f,c){c&8&&t!==(t=f[3])&&p(e,"id",t),c&1&&(e.checked=f[0]),c&2&&s!==(s=f[1].name+"")&&oe(r,s),c&8&&o!==(o=f[3])&&p(i,"for",o)},d(f){f&&y(e),f&&y(l),f&&y(i),a=!1,u()}}}function uk(n){let e,t;return e=new de({props:{class:"form-field form-field-toggle "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[ak,({uniqueId:l})=>({3:l}),({uniqueId:l})=>l?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&2&&(s.class="form-field form-field-toggle "+(l[1].required?"required":"")),i&2&&(s.name=l[1].name),i&27&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function fk(n,e,t){let{field:l=new sn}=e,{value:i=!1}=e;function s(){i=this.checked,t(0,i)}return n.$$set=r=>{"field"in r&&t(1,l=r.field),"value"in r&&t(0,i=r.value)},[i,l,s]}class ck extends ge{constructor(e){super(),be(this,e,fk,uk,_e,{field:1,value:0})}}function bu(n){let e,t,l,i;return{c(){e=h("div"),t=h("button"),t.innerHTML='<i class="ri-close-line"></i>',p(t,"type","button"),p(t,"class","link-hint clear-btn svelte-11df51y"),p(e,"class","form-field-addon")},m(s,r){w(s,e,r),b(e,t),l||(i=[$e(Pe.call(null,t,"Clear")),Y(t,"click",n[5])],l=!0)},p:x,d(s){s&&y(e),l=!1,Te(i)}}}function dk(n){let e,t,l,i,s,r=n[1].name+"",o,a,u,f,c,d,m,v,_,g=n[0]&&!n[1].required&&bu(n);function k(T){n[6](T)}function $(T){n[7](T)}let C={id:n[8],options:j.defaultFlatpickrOptions()};return n[2]!==void 0&&(C.value=n[2]),n[0]!==void 0&&(C.formattedValue=n[0]),d=new fr({props:C}),le.push(()=>me(d,"value",k)),le.push(()=>me(d,"formattedValue",$)),d.$on("close",n[3]),{c(){e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),a=B(" (UTC)"),f=D(),g&&g.c(),c=D(),U(d.$$.fragment),p(t,"class",l=ul(j.getFieldTypeIcon(n[1].type))+" svelte-11df51y"),p(s,"class","txt"),p(e,"for",u=n[8])},m(T,S){w(T,e,S),b(e,t),b(e,i),b(e,s),b(s,o),b(s,a),w(T,f,S),g&&g.m(T,S),w(T,c,S),H(d,T,S),_=!0},p(T,S){(!_||S&2&&l!==(l=ul(j.getFieldTypeIcon(T[1].type))+" svelte-11df51y"))&&p(t,"class",l),(!_||S&2)&&r!==(r=T[1].name+"")&&oe(o,r),(!_||S&256&&u!==(u=T[8]))&&p(e,"for",u),T[0]&&!T[1].required?g?g.p(T,S):(g=bu(T),g.c(),g.m(c.parentNode,c)):g&&(g.d(1),g=null);const E={};S&256&&(E.id=T[8]),!m&&S&4&&(m=!0,E.value=T[2],he(()=>m=!1)),!v&&S&1&&(v=!0,E.formattedValue=T[0],he(()=>v=!1)),d.$set(E)},i(T){_||(M(d.$$.fragment,T),_=!0)},o(T){I(d.$$.fragment,T),_=!1},d(T){T&&y(e),T&&y(f),g&&g.d(T),T&&y(c),V(d,T)}}}function pk(n){let e,t;return e=new de({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[dk,({uniqueId:l})=>({8:l}),({uniqueId:l})=>l?256:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&2&&(s.class="form-field "+(l[1].required?"required":"")),i&2&&(s.name=l[1].name),i&775&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function mk(n,e,t){let{field:l=new sn}=e,{value:i=void 0}=e,s=i;function r(c){c.detail&&c.detail.length==3&&t(0,i=c.detail[1])}function o(){t(0,i="")}const a=()=>o();function u(c){s=c,t(2,s),t(0,i)}function f(c){i=c,t(0,i)}return n.$$set=c=>{"field"in c&&t(1,l=c.field),"value"in c&&t(0,i=c.value)},n.$$.update=()=>{n.$$.dirty&1&&i&&i.length>19&&t(0,i=i.substring(0,19)),n.$$.dirty&5&&s!=i&&t(2,s=i)},[i,l,s,r,o,a,u,f]}class _k extends ge{constructor(e){super(),be(this,e,mk,pk,_e,{field:1,value:0})}}function hk(n){let e,t,l,i,s,r=n[1].name+"",o,a,u,f,c,d;function m(_){n[2](_)}let v={id:n[3],scriptSrc:"./libs/tinymce/tinymce.min.js",conf:j.defaultEditorOptions()};return n[0]!==void 0&&(v.value=n[0]),f=new or({props:v}),le.push(()=>me(f,"value",m)),{c(){e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),u=D(),U(f.$$.fragment),p(t,"class",l=j.getFieldTypeIcon(n[1].type)),p(s,"class","txt"),p(e,"for",a=n[3])},m(_,g){w(_,e,g),b(e,t),b(e,i),b(e,s),b(s,o),w(_,u,g),H(f,_,g),d=!0},p(_,g){(!d||g&2&&l!==(l=j.getFieldTypeIcon(_[1].type)))&&p(t,"class",l),(!d||g&2)&&r!==(r=_[1].name+"")&&oe(o,r),(!d||g&8&&a!==(a=_[3]))&&p(e,"for",a);const k={};g&8&&(k.id=_[3]),!c&&g&1&&(c=!0,k.value=_[0],he(()=>c=!1)),f.$set(k)},i(_){d||(M(f.$$.fragment,_),d=!0)},o(_){I(f.$$.fragment,_),d=!1},d(_){_&&y(e),_&&y(u),V(f,_)}}}function bk(n){let e,t;return e=new de({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[hk,({uniqueId:l})=>({3:l}),({uniqueId:l})=>l?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&2&&(s.class="form-field "+(l[1].required?"required":"")),i&2&&(s.name=l[1].name),i&27&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function gk(n,e,t){let{field:l=new sn}=e,{value:i=void 0}=e;function s(r){i=r,t(0,i)}return n.$$set=r=>{"field"in r&&t(1,l=r.field),"value"in r&&t(0,i=r.value)},[i,l,s]}class vk extends ge{constructor(e){super(),be(this,e,gk,bk,_e,{field:1,value:0})}}function kk(n){let e,t,l,i,s,r=n[1].name+"",o,a,u,f,c,d,m,v;return{c(){e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),u=D(),f=h("input"),p(t,"class",l=j.getFieldTypeIcon(n[1].type)),p(s,"class","txt"),p(e,"for",a=n[3]),p(f,"type","email"),p(f,"id",c=n[3]),f.required=d=n[1].required},m(_,g){w(_,e,g),b(e,t),b(e,i),b(e,s),b(s,o),w(_,u,g),w(_,f,g),re(f,n[0]),m||(v=Y(f,"input",n[2]),m=!0)},p(_,g){g&2&&l!==(l=j.getFieldTypeIcon(_[1].type))&&p(t,"class",l),g&2&&r!==(r=_[1].name+"")&&oe(o,r),g&8&&a!==(a=_[3])&&p(e,"for",a),g&8&&c!==(c=_[3])&&p(f,"id",c),g&2&&d!==(d=_[1].required)&&(f.required=d),g&1&&f.value!==_[0]&&re(f,_[0])},d(_){_&&y(e),_&&y(u),_&&y(f),m=!1,v()}}}function yk(n){let e,t;return e=new de({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[kk,({uniqueId:l})=>({3:l}),({uniqueId:l})=>l?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&2&&(s.class="form-field "+(l[1].required?"required":"")),i&2&&(s.name=l[1].name),i&27&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function wk(n,e,t){let{field:l=new sn}=e,{value:i=void 0}=e;function s(){i=this.value,t(0,i)}return n.$$set=r=>{"field"in r&&t(1,l=r.field),"value"in r&&t(0,i=r.value)},[i,l,s]}class $k extends ge{constructor(e){super(),be(this,e,wk,yk,_e,{field:1,value:0})}}function Tk(n){let e,t;return{c(){e=h("i"),p(e,"class","ri-file-line"),p(e,"alt",t=n[0].name)},m(l,i){w(l,e,i)},p(l,i){i&1&&t!==(t=l[0].name)&&p(e,"alt",t)},d(l){l&&y(e)}}}function Sk(n){let e,t,l;return{c(){e=h("img"),p(e,"draggable",!1),Xt(e.src,t=n[2])||p(e,"src",t),p(e,"width",n[1]),p(e,"height",n[1]),p(e,"alt",l=n[0].name)},m(i,s){w(i,e,s)},p(i,s){s&4&&!Xt(e.src,t=i[2])&&p(e,"src",t),s&2&&p(e,"width",i[1]),s&2&&p(e,"height",i[1]),s&1&&l!==(l=i[0].name)&&p(e,"alt",l)},d(i){i&&y(e)}}}function Ck(n){let e;function t(s,r){return s[2]?Sk:Tk}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,[r]){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:x,o:x,d(s){i.d(s),s&&y(e)}}}function Ek(n,e,t){let l,{file:i}=e,{size:s=50}=e;function r(){j.hasImageExtension(i==null?void 0:i.name)?j.generateThumb(i,s,s).then(o=>{t(2,l=o)}).catch(o=>{t(2,l=""),console.warn("Unable to generate thumb: ",o)}):t(2,l="")}return n.$$set=o=>{"file"in o&&t(0,i=o.file),"size"in o&&t(1,s=o.size)},n.$$.update=()=>{n.$$.dirty&1&&typeof i<"u"&&r()},t(2,l=""),[i,s,l]}class Ok extends ge{constructor(e){super(),be(this,e,Ek,Ck,_e,{file:0,size:1})}}function gu(n){let e;function t(s,r){return s[4]==="image"?Ak:Dk}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&y(e)}}}function Dk(n){let e,t;return{c(){e=h("object"),t=B("Cannot preview the file."),p(e,"title",n[2]),p(e,"data",n[1])},m(l,i){w(l,e,i),b(e,t)},p(l,i){i&4&&p(e,"title",l[2]),i&2&&p(e,"data",l[1])},d(l){l&&y(e)}}}function Ak(n){let e,t,l;return{c(){e=h("img"),Xt(e.src,t=n[1])||p(e,"src",t),p(e,"alt",l="Preview "+n[2])},m(i,s){w(i,e,s)},p(i,s){s&2&&!Xt(e.src,t=i[1])&&p(e,"src",t),s&4&&l!==(l="Preview "+i[2])&&p(e,"alt",l)},d(i){i&&y(e)}}}function Mk(n){var i;let e=(i=n[3])==null?void 0:i.isActive(),t,l=e&&gu(n);return{c(){l&&l.c(),t=ke()},m(s,r){l&&l.m(s,r),w(s,t,r)},p(s,r){var o;r&8&&(e=(o=s[3])==null?void 0:o.isActive()),e?l?l.p(s,r):(l=gu(s),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(s){l&&l.d(s),s&&y(t)}}}function Ik(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<i class="ri-close-line"></i>',p(e,"type","button"),p(e,"class","overlay-close")},m(i,s){w(i,e,s),t||(l=Y(e,"click",Ke(n[0])),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function Nk(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("a"),t=B(n[2]),l=D(),i=h("i"),s=D(),r=h("div"),o=D(),a=h("button"),a.textContent="Close",p(i,"class","ri-external-link-line"),p(e,"href",n[1]),p(e,"title",n[2]),p(e,"target","_blank"),p(e,"rel","noreferrer noopener"),p(e,"class","link-hint txt-ellipsis inline-flex"),p(r,"class","flex-fill"),p(a,"type","button"),p(a,"class","btn btn-transparent")},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),w(c,s,d),w(c,r,d),w(c,o,d),w(c,a,d),u||(f=Y(a,"click",n[0]),u=!0)},p(c,d){d&4&&oe(t,c[2]),d&2&&p(e,"href",c[1]),d&4&&p(e,"title",c[2])},d(c){c&&y(e),c&&y(s),c&&y(r),c&&y(o),c&&y(a),u=!1,f()}}}function Fk(n){let e,t,l={class:"preview preview-"+n[4],btnClose:!1,popup:!0,$$slots:{footer:[Nk],header:[Ik],default:[Mk]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[7](e),e.$on("show",n[8]),e.$on("hide",n[9]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&16&&(r.class="preview preview-"+i[4]),s&1054&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[7](null),V(e,i)}}}function Lk(n,e,t){let l,i,s,r,o="";function a(m){m!==""&&(t(1,o=m),r==null||r.show())}function u(){return r==null?void 0:r.hide()}function f(m){le[m?"unshift":"push"](()=>{r=m,t(3,r)})}function c(m){De.call(this,n,m)}function d(m){De.call(this,n,m)}return n.$$.update=()=>{n.$$.dirty&2&&t(6,l=o.indexOf("?")),n.$$.dirty&66&&t(2,i=o.substring(o.lastIndexOf("/")+1,l>0?l:void 0)),n.$$.dirty&4&&t(4,s=j.getFileType(i))},[u,o,i,r,s,a,l,f,c,d]}class qk extends ge{constructor(e){super(),be(this,e,Lk,Fk,_e,{show:5,hide:0})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[0]}}function Pk(n){let e,t,l,i,s;function r(u,f){return u[3]==="image"?Vk:u[3]==="video"||u[3]==="audio"?Hk:jk}let o=r(n),a=o(n);return{c(){e=h("a"),a.c(),p(e,"draggable",!1),p(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:"")),p(e,"href",n[6]),p(e,"target","_blank"),p(e,"rel","noreferrer"),p(e,"title",l=(n[7]?"Preview":"Download")+" "+n[0])},m(u,f){w(u,e,f),a.m(e,null),i||(s=Y(e,"click",fn(n[11])),i=!0)},p(u,f){o===(o=r(u))&&a?a.p(u,f):(a.d(1),a=o(u),a&&(a.c(),a.m(e,null))),f&2&&t!==(t="thumb "+(u[1]?`thumb-${u[1]}`:""))&&p(e,"class",t),f&64&&p(e,"href",u[6]),f&129&&l!==(l=(u[7]?"Preview":"Download")+" "+u[0])&&p(e,"title",l)},d(u){u&&y(e),a.d(),i=!1,s()}}}function Rk(n){let e,t;return{c(){e=h("div"),p(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:""))},m(l,i){w(l,e,i)},p(l,i){i&2&&t!==(t="thumb "+(l[1]?`thumb-${l[1]}`:""))&&p(e,"class",t)},d(l){l&&y(e)}}}function jk(n){let e;return{c(){e=h("i"),p(e,"class","ri-file-3-line")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function Hk(n){let e;return{c(){e=h("i"),p(e,"class","ri-video-line")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function Vk(n){let e,t,l,i,s;return{c(){e=h("img"),p(e,"draggable",!1),Xt(e.src,t=n[5])||p(e,"src",t),p(e,"alt",n[0]),p(e,"title",l="Preview "+n[0]),p(e,"loading","lazy")},m(r,o){w(r,e,o),i||(s=Y(e,"error",n[8]),i=!0)},p(r,o){o&32&&!Xt(e.src,t=r[5])&&p(e,"src",t),o&1&&p(e,"alt",r[0]),o&1&&l!==(l="Preview "+r[0])&&p(e,"title",l)},d(r){r&&y(e),i=!1,s()}}}function Uk(n){let e,t,l;function i(a,u){return a[2]?Rk:Pk}let s=i(n),r=s(n),o={};return t=new qk({props:o}),n[12](t),{c(){r.c(),e=D(),U(t.$$.fragment)},m(a,u){r.m(a,u),w(a,e,u),H(t,a,u),l=!0},p(a,[u]){s===(s=i(a))&&r?r.p(a,u):(r.d(1),r=s(a),r&&(r.c(),r.m(e.parentNode,e)));const f={};t.$set(f)},i(a){l||(M(t.$$.fragment,a),l=!0)},o(a){I(t.$$.fragment,a),l=!1},d(a){r.d(a),a&&y(e),n[12](null),V(t,a)}}}function zk(n,e,t){let l,i,{record:s=null}=e,{filename:r=""}=e,{size:o=""}=e,a,u="",f="",c="",d=!1;m();async function m(){t(2,d=!0);try{t(10,c=await ce.getAdminFileToken(s.collectionId))}catch(k){console.warn("File token failure:",k)}t(2,d=!1)}function v(){t(5,u="")}const _=k=>{i&&(k.preventDefault(),a==null||a.show(f))};function g(k){le[k?"unshift":"push"](()=>{a=k,t(4,a)})}return n.$$set=k=>{"record"in k&&t(9,s=k.record),"filename"in k&&t(0,r=k.filename),"size"in k&&t(1,o=k.size)},n.$$.update=()=>{n.$$.dirty&1&&t(3,l=j.getFileType(r)),n.$$.dirty&9&&t(7,i=["image","audio","video"].includes(l)||r.endsWith(".pdf")),n.$$.dirty&1541&&t(6,f=d?"":ce.files.getUrl(s,r,{token:c})),n.$$.dirty&1541&&t(5,u=d?"":ce.files.getUrl(s,r,{thumb:"100x100",token:c}))},[r,o,d,l,a,u,f,i,v,s,c,_,g]}class pr extends ge{constructor(e){super(),be(this,e,zk,Uk,_e,{record:9,filename:0,size:1})}}function vu(n,e,t){const l=n.slice();return l[29]=e[t],l[31]=t,l}function ku(n,e,t){const l=n.slice();l[34]=e[t],l[31]=t;const i=l[2].includes(l[34]);return l[35]=i,l}function Bk(n){let e,t,l;function i(){return n[17](n[34])}return{c(){e=h("button"),e.innerHTML='<i class="ri-close-line"></i>',p(e,"type","button"),p(e,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove")},m(s,r){w(s,e,r),t||(l=[$e(Pe.call(null,e,"Remove file")),Y(e,"click",i)],t=!0)},p(s,r){n=s},d(s){s&&y(e),t=!1,Te(l)}}}function Wk(n){let e,t,l;function i(){return n[16](n[34])}return{c(){e=h("button"),e.innerHTML='<span class="txt">Restore</span>',p(e,"type","button"),p(e,"class","btn btn-sm btn-danger btn-transparent")},m(s,r){w(s,e,r),t||(l=Y(e,"click",i),t=!0)},p(s,r){n=s},d(s){s&&y(e),t=!1,l()}}}function Kk(n){let e,t,l,i,s,r,o=n[34]+"",a,u,f,c,d,m;l=new pr({props:{record:n[3],filename:n[34]}});function v(k,$){return k[35]?Wk:Bk}let _=v(n),g=_(n);return{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),r=h("a"),a=B(o),c=D(),d=h("div"),g.c(),X(t,"fade",n[35]),p(r,"draggable",!1),p(r,"href",u=ce.files.getUrl(n[3],n[34],{token:n[10]})),p(r,"class",f="txt-ellipsis "+(n[35]?"txt-strikethrough txt-hint":"link-primary")),p(r,"title","Download"),p(r,"target","_blank"),p(r,"rel","noopener noreferrer"),p(s,"class","content"),p(d,"class","actions"),p(e,"class","list-item"),X(e,"dragging",n[32]),X(e,"dragover",n[33])},m(k,$){w(k,e,$),b(e,t),H(l,t,null),b(e,i),b(e,s),b(s,r),b(r,a),b(e,c),b(e,d),g.m(d,null),m=!0},p(k,$){const C={};$[0]&8&&(C.record=k[3]),$[0]&32&&(C.filename=k[34]),l.$set(C),(!m||$[0]&36)&&X(t,"fade",k[35]),(!m||$[0]&32)&&o!==(o=k[34]+"")&&oe(a,o),(!m||$[0]&1064&&u!==(u=ce.files.getUrl(k[3],k[34],{token:k[10]})))&&p(r,"href",u),(!m||$[0]&36&&f!==(f="txt-ellipsis "+(k[35]?"txt-strikethrough txt-hint":"link-primary")))&&p(r,"class",f),_===(_=v(k))&&g?g.p(k,$):(g.d(1),g=_(k),g&&(g.c(),g.m(d,null))),(!m||$[1]&2)&&X(e,"dragging",k[32]),(!m||$[1]&4)&&X(e,"dragover",k[33])},i(k){m||(M(l.$$.fragment,k),m=!0)},o(k){I(l.$$.fragment,k),m=!1},d(k){k&&y(e),V(l),g.d()}}}function yu(n,e){let t,l,i,s;function r(a){e[18](a)}let o={group:e[4].name+"_uploaded",index:e[31],disabled:!e[6],$$slots:{default:[Kk,({dragging:a,dragover:u})=>({32:a,33:u}),({dragging:a,dragover:u})=>[0,(a?2:0)|(u?4:0)]]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.list=e[0]),l=new oi({props:o}),le.push(()=>me(l,"list",r)),{key:n,first:null,c(){t=ke(),U(l.$$.fragment),this.first=t},m(a,u){w(a,t,u),H(l,a,u),s=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_uploaded"),u[0]&32&&(f.index=e[31]),u[0]&64&&(f.disabled=!e[6]),u[0]&1068|u[1]&70&&(f.$$scope={dirty:u,ctx:e}),!i&&u[0]&1&&(i=!0,f.list=e[0],he(()=>i=!1)),l.$set(f)},i(a){s||(M(l.$$.fragment,a),s=!0)},o(a){I(l.$$.fragment,a),s=!1},d(a){a&&y(t),V(l,a)}}}function Yk(n){let e,t,l,i,s,r,o,a,u=n[29].name+"",f,c,d,m,v,_,g;l=new Ok({props:{file:n[29]}});function k(){return n[19](n[31])}return{c(){e=h("div"),t=h("figure"),U(l.$$.fragment),i=D(),s=h("div"),r=h("small"),r.textContent="New",o=D(),a=h("span"),f=B(u),d=D(),m=h("button"),m.innerHTML='<i class="ri-close-line"></i>',p(t,"class","thumb"),p(r,"class","label label-success m-r-5"),p(a,"class","txt"),p(s,"class","filename m-r-auto"),p(s,"title",c=n[29].name),p(m,"type","button"),p(m,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),p(e,"class","list-item"),X(e,"dragging",n[32]),X(e,"dragover",n[33])},m($,C){w($,e,C),b(e,t),H(l,t,null),b(e,i),b(e,s),b(s,r),b(s,o),b(s,a),b(a,f),b(e,d),b(e,m),v=!0,_||(g=[$e(Pe.call(null,m,"Remove file")),Y(m,"click",k)],_=!0)},p($,C){n=$;const T={};C[0]&2&&(T.file=n[29]),l.$set(T),(!v||C[0]&2)&&u!==(u=n[29].name+"")&&oe(f,u),(!v||C[0]&2&&c!==(c=n[29].name))&&p(s,"title",c),(!v||C[1]&2)&&X(e,"dragging",n[32]),(!v||C[1]&4)&&X(e,"dragover",n[33])},i($){v||(M(l.$$.fragment,$),v=!0)},o($){I(l.$$.fragment,$),v=!1},d($){$&&y(e),V(l),_=!1,Te(g)}}}function wu(n,e){let t,l,i,s;function r(a){e[20](a)}let o={group:e[4].name+"_new",index:e[31],disabled:!e[6],$$slots:{default:[Yk,({dragging:a,dragover:u})=>({32:a,33:u}),({dragging:a,dragover:u})=>[0,(a?2:0)|(u?4:0)]]},$$scope:{ctx:e}};return e[1]!==void 0&&(o.list=e[1]),l=new oi({props:o}),le.push(()=>me(l,"list",r)),{key:n,first:null,c(){t=ke(),U(l.$$.fragment),this.first=t},m(a,u){w(a,t,u),H(l,a,u),s=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_new"),u[0]&2&&(f.index=e[31]),u[0]&64&&(f.disabled=!e[6]),u[0]&2|u[1]&70&&(f.$$scope={dirty:u,ctx:e}),!i&&u[0]&2&&(i=!0,f.list=e[1],he(()=>i=!1)),l.$set(f)},i(a){s||(M(l.$$.fragment,a),s=!0)},o(a){I(l.$$.fragment,a),s=!1},d(a){a&&y(t),V(l,a)}}}function Jk(n){let e,t,l,i,s,r=n[4].name+"",o,a,u,f,c=[],d=new Map,m,v=[],_=new Map,g,k,$,C,T,S,E,O,A,N,F,L,P=n[5];const R=K=>K[34]+K[3].id;for(let K=0;K<P.length;K+=1){let Q=ku(n,P,K),J=R(Q);d.set(J,c[K]=yu(J,Q))}let q=n[1];const z=K=>K[29].name+K[31];for(let K=0;K<q.length;K+=1){let Q=vu(n,q,K),J=z(Q);_.set(J,v[K]=wu(J,Q))}return{c(){var K,Q;e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),u=D(),f=h("div");for(let J=0;J<c.length;J+=1)c[J].c();m=D();for(let J=0;J<v.length;J+=1)v[J].c();g=D(),k=h("div"),$=h("input"),T=D(),S=h("button"),E=h("i"),O=D(),A=h("span"),A.textContent="Upload new file",p(t,"class",l=j.getFieldTypeIcon(n[4].type)),p(s,"class","txt"),p(e,"for",a=n[28]),p($,"type","file"),p($,"class","hidden"),p($,"accept",C=((Q=(K=n[4].options)==null?void 0:K.mimeTypes)==null?void 0:Q.join(","))||null),$.multiple=n[6],p(E,"class","ri-upload-cloud-line"),p(A,"class","txt"),p(S,"type","button"),p(S,"class","btn btn-transparent btn-sm btn-block"),S.disabled=n[11],p(k,"class","list-item list-item-btn"),p(f,"class","list")},m(K,Q){w(K,e,Q),b(e,t),b(e,i),b(e,s),b(s,o),w(K,u,Q),w(K,f,Q);for(let J=0;J<c.length;J+=1)c[J]&&c[J].m(f,null);b(f,m);for(let J=0;J<v.length;J+=1)v[J]&&v[J].m(f,null);b(f,g),b(f,k),b(k,$),n[21]($),b(k,T),b(k,S),b(S,E),b(S,O),b(S,A),n[24](f),N=!0,F||(L=[Y($,"change",n[22]),Y(S,"click",n[23])],F=!0)},p(K,Q){var J,Z;(!N||Q[0]&16&&l!==(l=j.getFieldTypeIcon(K[4].type)))&&p(t,"class",l),(!N||Q[0]&16)&&r!==(r=K[4].name+"")&&oe(o,r),(!N||Q[0]&268435456&&a!==(a=K[28]))&&p(e,"for",a),Q[0]&13437|Q[1]&6&&(P=K[5],ue(),c=rt(c,Q,R,1,K,P,d,f,Ot,yu,m,ku),fe()),Q[0]&16466|Q[1]&6&&(q=K[1],ue(),v=rt(v,Q,z,1,K,q,_,f,Ot,wu,g,vu),fe()),(!N||Q[0]&16&&C!==(C=((Z=(J=K[4].options)==null?void 0:J.mimeTypes)==null?void 0:Z.join(","))||null))&&p($,"accept",C),(!N||Q[0]&64)&&($.multiple=K[6]),(!N||Q[0]&2048)&&(S.disabled=K[11])},i(K){if(!N){for(let Q=0;Q<P.length;Q+=1)M(c[Q]);for(let Q=0;Q<q.length;Q+=1)M(v[Q]);N=!0}},o(K){for(let Q=0;Q<c.length;Q+=1)I(c[Q]);for(let Q=0;Q<v.length;Q+=1)I(v[Q]);N=!1},d(K){K&&y(e),K&&y(u),K&&y(f);for(let Q=0;Q<c.length;Q+=1)c[Q].d();for(let Q=0;Q<v.length;Q+=1)v[Q].d();n[21](null),n[24](null),F=!1,Te(L)}}}function Zk(n){let e,t,l,i,s;return t=new de({props:{class:`
            form-field form-field-list form-field-file
            `+(n[4].required?"required":"")+`
            `+(n[9]?"dragover":"")+`
        `,name:n[4].name,$$slots:{default:[Jk,({uniqueId:r})=>({28:r}),({uniqueId:r})=>[r?268435456:0]]},$$scope:{ctx:n}}}),{c(){e=h("div"),U(t.$$.fragment),p(e,"class","block")},m(r,o){w(r,e,o),H(t,e,null),l=!0,i||(s=[Y(e,"dragover",Ke(n[25])),Y(e,"dragleave",n[26]),Y(e,"drop",n[15])],i=!0)},p(r,o){const a={};o[0]&528&&(a.class=`
            form-field form-field-list form-field-file
            `+(r[4].required?"required":"")+`
            `+(r[9]?"dragover":"")+`
        `),o[0]&16&&(a.name=r[4].name),o[0]&268439039|o[1]&64&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){l||(M(t.$$.fragment,r),l=!0)},o(r){I(t.$$.fragment,r),l=!1},d(r){r&&y(e),V(t),i=!1,Te(s)}}}function Gk(n,e,t){let l,i,s,{record:r}=e,{value:o=""}=e,{uploadedFiles:a=[]}=e,{deletedFileNames:u=[]}=e,{field:f=new sn}=e,c,d,m=!1,v="";function _(z){j.removeByValue(u,z),t(2,u)}function g(z){j.pushUnique(u,z),t(2,u)}function k(z){j.isEmpty(a[z])||a.splice(z,1),t(1,a)}function $(){d==null||d.dispatchEvent(new CustomEvent("change",{detail:{value:o,uploadedFiles:a,deletedFileNames:u},bubbles:!0}))}function C(z){var Q,J;z.preventDefault(),t(9,m=!1);const K=((Q=z.dataTransfer)==null?void 0:Q.files)||[];if(!(s||!K.length)){for(const Z of K){const se=i.length+a.length-u.length;if(((J=f.options)==null?void 0:J.maxSelect)<=se)break;a.push(Z)}t(1,a)}}Ut(async()=>{t(10,v=await ce.getAdminFileToken(r.collectionId))});const T=z=>_(z),S=z=>g(z);function E(z){o=z,t(0,o),t(6,l),t(4,f)}const O=z=>k(z);function A(z){a=z,t(1,a)}function N(z){le[z?"unshift":"push"](()=>{c=z,t(7,c)})}const F=()=>{for(let z of c.files)a.push(z);t(1,a),t(7,c.value=null,c)},L=()=>c==null?void 0:c.click();function P(z){le[z?"unshift":"push"](()=>{d=z,t(8,d)})}const R=()=>{t(9,m=!0)},q=()=>{t(9,m=!1)};return n.$$set=z=>{"record"in z&&t(3,r=z.record),"value"in z&&t(0,o=z.value),"uploadedFiles"in z&&t(1,a=z.uploadedFiles),"deletedFileNames"in z&&t(2,u=z.deletedFileNames),"field"in z&&t(4,f=z.field)},n.$$.update=()=>{var z,K;n.$$.dirty[0]&2&&(Array.isArray(a)||t(1,a=j.toArray(a))),n.$$.dirty[0]&4&&(Array.isArray(u)||t(2,u=j.toArray(u))),n.$$.dirty[0]&16&&t(6,l=((z=f.options)==null?void 0:z.maxSelect)>1),n.$$.dirty[0]&65&&j.isEmpty(o)&&t(0,o=l?[]:""),n.$$.dirty[0]&1&&t(5,i=j.toArray(o)),n.$$.dirty[0]&54&&t(11,s=(i.length||a.length)&&((K=f.options)==null?void 0:K.maxSelect)<=i.length+a.length-u.length),n.$$.dirty[0]&6&&(a!==-1||u!==-1)&&$()},[o,a,u,r,f,i,l,c,d,m,v,s,_,g,k,C,T,S,E,O,A,N,F,L,P,R,q]}class Qk extends ge{constructor(e){super(),be(this,e,Gk,Zk,_e,{record:3,value:0,uploadedFiles:1,deletedFileNames:2,field:4},null,[-1,-1])}}function Xk(n){let e,t,l,i,s,r=n[1].name+"",o,a,u,f,c,d,m,v;return{c(){e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),u=D(),f=h("textarea"),p(t,"class",l=j.getFieldTypeIcon(n[1].type)),p(s,"class","txt"),p(e,"for",a=n[4]),p(f,"id",c=n[4]),p(f,"class","txt-mono"),f.required=d=n[1].required,f.value=n[2]},m(_,g){w(_,e,g),b(e,t),b(e,i),b(e,s),b(s,o),w(_,u,g),w(_,f,g),m||(v=Y(f,"input",n[3]),m=!0)},p(_,g){g&2&&l!==(l=j.getFieldTypeIcon(_[1].type))&&p(t,"class",l),g&2&&r!==(r=_[1].name+"")&&oe(o,r),g&16&&a!==(a=_[4])&&p(e,"for",a),g&16&&c!==(c=_[4])&&p(f,"id",c),g&2&&d!==(d=_[1].required)&&(f.required=d),g&4&&(f.value=_[2])},d(_){_&&y(e),_&&y(u),_&&y(f),m=!1,v()}}}function xk(n){let e,t;return e=new de({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[Xk,({uniqueId:l})=>({4:l}),({uniqueId:l})=>l?16:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&2&&(s.class="form-field "+(l[1].required?"required":"")),i&2&&(s.name=l[1].name),i&55&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function ey(n,e,t){let{field:l=new sn}=e,{value:i=void 0}=e,s=JSON.stringify(typeof i>"u"?null:i,null,2);const r=o=>{t(2,s=o.target.value),t(0,i=o.target.value.trim())};return n.$$set=o=>{"field"in o&&t(1,l=o.field),"value"in o&&t(0,i=o.value)},n.$$.update=()=>{n.$$.dirty&5&&i!==(s==null?void 0:s.trim())&&(t(2,s=JSON.stringify(typeof i>"u"?null:i,null,2)),t(0,i=s))},[i,l,s,r]}class ty extends ge{constructor(e){super(),be(this,e,ey,xk,_e,{field:1,value:0})}}function ny(n){let e,t,l,i,s,r=n[1].name+"",o,a,u,f,c,d,m,v,_,g;return{c(){var k,$;e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),u=D(),f=h("input"),p(t,"class",l=j.getFieldTypeIcon(n[1].type)),p(s,"class","txt"),p(e,"for",a=n[3]),p(f,"type","number"),p(f,"id",c=n[3]),f.required=d=n[1].required,p(f,"min",m=(k=n[1].options)==null?void 0:k.min),p(f,"max",v=($=n[1].options)==null?void 0:$.max),p(f,"step","any")},m(k,$){w(k,e,$),b(e,t),b(e,i),b(e,s),b(s,o),w(k,u,$),w(k,f,$),re(f,n[0]),_||(g=Y(f,"input",n[2]),_=!0)},p(k,$){var C,T;$&2&&l!==(l=j.getFieldTypeIcon(k[1].type))&&p(t,"class",l),$&2&&r!==(r=k[1].name+"")&&oe(o,r),$&8&&a!==(a=k[3])&&p(e,"for",a),$&8&&c!==(c=k[3])&&p(f,"id",c),$&2&&d!==(d=k[1].required)&&(f.required=d),$&2&&m!==(m=(C=k[1].options)==null?void 0:C.min)&&p(f,"min",m),$&2&&v!==(v=(T=k[1].options)==null?void 0:T.max)&&p(f,"max",v),$&1&&lt(f.value)!==k[0]&&re(f,k[0])},d(k){k&&y(e),k&&y(u),k&&y(f),_=!1,g()}}}function ly(n){let e,t;return e=new de({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[ny,({uniqueId:l})=>({3:l}),({uniqueId:l})=>l?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&2&&(s.class="form-field "+(l[1].required?"required":"")),i&2&&(s.name=l[1].name),i&27&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function iy(n,e,t){let{field:l=new sn}=e,{value:i=void 0}=e;function s(){i=lt(this.value),t(0,i)}return n.$$set=r=>{"field"in r&&t(1,l=r.field),"value"in r&&t(0,i=r.value)},[i,l,s]}class sy extends ge{constructor(e){super(),be(this,e,iy,ly,_e,{field:1,value:0})}}function $u(n){return typeof n=="function"?{threshold:100,callback:n}:n||{}}function ry(n,e){e=$u(e),e!=null&&e.callback&&e.callback();function t(l){if(!(e!=null&&e.callback))return;l.target.scrollHeight-l.target.clientHeight-l.target.scrollTop<=e.threshold&&e.callback()}return n.addEventListener("scroll",t),n.addEventListener("resize",t),{update(l){e=$u(l)},destroy(){n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}}}function Tu(n,e,t){const l=n.slice();l[6]=e[t];const i=j.toArray(l[0][l[6]]).slice(0,5);return l[7]=i,l}function Su(n,e,t){const l=n.slice();return l[10]=e[t],l}function Cu(n){let e,t;return e=new pr({props:{record:n[0],filename:n[10],size:"xs"}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&1&&(s.record=l[0]),i&3&&(s.filename=l[10]),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Eu(n){let e=!j.isEmpty(n[10]),t,l,i=e&&Cu(n);return{c(){i&&i.c(),t=ke()},m(s,r){i&&i.m(s,r),w(s,t,r),l=!0},p(s,r){r&3&&(e=!j.isEmpty(s[10])),e?i?(i.p(s,r),r&3&&M(i,1)):(i=Cu(s),i.c(),M(i,1),i.m(t.parentNode,t)):i&&(ue(),I(i,1,1,()=>{i=null}),fe())},i(s){l||(M(i),l=!0)},o(s){I(i),l=!1},d(s){i&&i.d(s),s&&y(t)}}}function Ou(n){let e,t,l=n[7],i=[];for(let r=0;r<l.length;r+=1)i[r]=Eu(Su(n,l,r));const s=r=>I(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ke()},m(r,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,o);w(r,e,o),t=!0},p(r,o){if(o&3){l=r[7];let a;for(a=0;a<l.length;a+=1){const u=Su(r,l,a);i[a]?(i[a].p(u,o),M(i[a],1)):(i[a]=Eu(u),i[a].c(),M(i[a],1),i[a].m(e.parentNode,e))}for(ue(),a=l.length;a<i.length;a+=1)s(a);fe()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)M(i[o]);t=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)I(i[o]);t=!1},d(r){it(i,r),r&&y(e)}}}function oy(n){let e,t,l,i,s,r,o=j.truncate(j.displayValue(n[0],n[2]),70)+"",a,u,f,c,d=n[1],m=[];for(let _=0;_<d.length;_+=1)m[_]=Ou(Tu(n,d,_));const v=_=>I(m[_],1,1,()=>{m[_]=null});return{c(){e=h("div"),t=h("i"),i=D();for(let _=0;_<m.length;_+=1)m[_].c();s=D(),r=h("span"),a=B(o),p(t,"class","link-hint txt-sm ri-information-line svelte-fhw3qk"),p(r,"class","txt txt-ellipsis svelte-fhw3qk"),p(e,"class","record-info svelte-fhw3qk")},m(_,g){w(_,e,g),b(e,t),b(e,i);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(e,null);b(e,s),b(e,r),b(r,a),u=!0,f||(c=$e(l=Pe.call(null,t,{text:j.truncate(JSON.stringify(j.truncateObject(n[0]),null,2),800,!0),class:"code",position:"left"})),f=!0)},p(_,[g]){if(l&&kt(l.update)&&g&1&&l.update.call(null,{text:j.truncate(JSON.stringify(j.truncateObject(_[0]),null,2),800,!0),class:"code",position:"left"}),g&3){d=_[1];let k;for(k=0;k<d.length;k+=1){const $=Tu(_,d,k);m[k]?(m[k].p($,g),M(m[k],1)):(m[k]=Ou($),m[k].c(),M(m[k],1),m[k].m(e,s))}for(ue(),k=d.length;k<m.length;k+=1)v(k);fe()}(!u||g&5)&&o!==(o=j.truncate(j.displayValue(_[0],_[2]),70)+"")&&oe(a,o)},i(_){if(!u){for(let g=0;g<d.length;g+=1)M(m[g]);u=!0}},o(_){m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)I(m[g]);u=!1},d(_){_&&y(e),it(m,_),f=!1,c()}}}function ay(n,e,t){let l,i,s,r;Ve(n,An,u=>t(5,r=u));let{record:o}=e,{displayFields:a=[]}=e;return n.$$set=u=>{"record"in u&&t(0,o=u.record),"displayFields"in u&&t(3,a=u.displayFields)},n.$$.update=()=>{n.$$.dirty&33&&t(4,l=r==null?void 0:r.find(u=>u.id==(o==null?void 0:o.collectionId))),n.$$.dirty&24&&t(1,i=(a==null?void 0:a.filter(u=>{var f;return!!((f=l==null?void 0:l.schema)!=null&&f.find(c=>c.name==u&&c.type=="file"))}))||[]),n.$$.dirty&10&&t(2,s=(i.length?a==null?void 0:a.filter(u=>!i.includes(u)):a)||[])},[o,i,s,a,l,r]}class Zi extends ge{constructor(e){super(),be(this,e,ay,oy,_e,{record:0,displayFields:3})}}function Du(n,e,t){const l=n.slice();return l[49]=e[t],l[51]=t,l}function Au(n,e,t){const l=n.slice();l[49]=e[t];const i=l[8](l[49]);return l[5]=i,l}function Mu(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<div class="txt">New record</div>',p(e,"type","button"),p(e,"class","btn btn-transparent btn-hint p-l-sm p-r-sm")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[31]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function Iu(n){let e,t=!n[12]&&Nu(n);return{c(){t&&t.c(),e=ke()},m(l,i){t&&t.m(l,i),w(l,e,i)},p(l,i){l[12]?t&&(t.d(1),t=null):t?t.p(l,i):(t=Nu(l),t.c(),t.m(e.parentNode,e))},d(l){t&&t.d(l),l&&y(e)}}}function Nu(n){var s;let e,t,l,i=((s=n[2])==null?void 0:s.length)&&Fu(n);return{c(){e=h("div"),t=h("span"),t.textContent="No records found.",l=D(),i&&i.c(),p(t,"class","txt txt-hint"),p(e,"class","list-item")},m(r,o){w(r,e,o),b(e,t),b(e,l),i&&i.m(e,null)},p(r,o){var a;(a=r[2])!=null&&a.length?i?i.p(r,o):(i=Fu(r),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(r){r&&y(e),i&&i.d()}}}function Fu(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<span class="txt">Clear filters</span>',p(e,"type","button"),p(e,"class","btn btn-hint btn-sm")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[35]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function uy(n){let e;return{c(){e=h("i"),p(e,"class","ri-checkbox-blank-circle-line txt-disabled")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function fy(n){let e;return{c(){e=h("i"),p(e,"class","ri-checkbox-circle-fill txt-success")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Lu(n){let e,t,l,i;function s(){return n[32](n[49])}return{c(){e=h("div"),t=h("button"),t.innerHTML='<i class="ri-pencil-line"></i>',p(t,"type","button"),p(t,"class","btn btn-sm btn-circle btn-transparent btn-hint m-l-auto"),p(e,"class","actions nonintrusive")},m(r,o){w(r,e,o),b(e,t),l||(i=[$e(Pe.call(null,t,"Edit")),Y(t,"keydown",fn(n[27])),Y(t,"click",fn(s))],l=!0)},p(r,o){n=r},d(r){r&&y(e),l=!1,Te(i)}}}function qu(n,e){var g;let t,l,i,s,r,o,a,u;function f(k,$){return k[5]?fy:uy}let c=f(e),d=c(e);s=new Zi({props:{record:e[49],displayFields:e[13]}});let m=!((g=e[10])!=null&&g.$isView)&&Lu(e);function v(){return e[33](e[49])}function _(...k){return e[34](e[49],...k)}return{key:n,first:null,c(){t=h("div"),d.c(),l=D(),i=h("div"),U(s.$$.fragment),r=D(),m&&m.c(),p(i,"class","content"),p(t,"tabindex","0"),p(t,"class","list-item handle"),X(t,"selected",e[5]),X(t,"disabled",!e[5]&&e[4]>1&&!e[9]),this.first=t},m(k,$){w(k,t,$),d.m(t,null),b(t,l),b(t,i),H(s,i,null),b(t,r),m&&m.m(t,null),o=!0,a||(u=[Y(t,"click",v),Y(t,"keydown",_)],a=!0)},p(k,$){var T;e=k,c!==(c=f(e))&&(d.d(1),d=c(e),d&&(d.c(),d.m(t,l)));const C={};$[0]&128&&(C.record=e[49]),$[0]&8192&&(C.displayFields=e[13]),s.$set(C),(T=e[10])!=null&&T.$isView?m&&(m.d(1),m=null):m?m.p(e,$):(m=Lu(e),m.c(),m.m(t,null)),(!o||$[0]&384)&&X(t,"selected",e[5]),(!o||$[0]&912)&&X(t,"disabled",!e[5]&&e[4]>1&&!e[9])},i(k){o||(M(s.$$.fragment,k),o=!0)},o(k){I(s.$$.fragment,k),o=!1},d(k){k&&y(t),d.d(),V(s),m&&m.d(),a=!1,Te(u)}}}function Pu(n){let e;return{c(){e=h("div"),e.innerHTML='<div class="block txt-center"><span class="loader loader-sm active"></span></div>',p(e,"class","list-item")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Ru(n){let e,t=n[5].length+"",l,i,s,r;return{c(){e=B("("),l=B(t),i=B(" of MAX "),s=B(n[4]),r=B(")")},m(o,a){w(o,e,a),w(o,l,a),w(o,i,a),w(o,s,a),w(o,r,a)},p(o,a){a[0]&32&&t!==(t=o[5].length+"")&&oe(l,t),a[0]&16&&oe(s,o[4])},d(o){o&&y(e),o&&y(l),o&&y(i),o&&y(s),o&&y(r)}}}function cy(n){let e;return{c(){e=h("p"),e.textContent="No selected records.",p(e,"class","txt-hint")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function dy(n){let e,t,l=n[5],i=[];for(let r=0;r<l.length;r+=1)i[r]=ju(Du(n,l,r));const s=r=>I(i[r],1,1,()=>{i[r]=null});return{c(){e=h("div");for(let r=0;r<i.length;r+=1)i[r].c();p(e,"class","selected-list svelte-1u8jhky")},m(r,o){w(r,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(r,o){if(o[0]&73760|o[1]&6291456){l=r[5];let a;for(a=0;a<l.length;a+=1){const u=Du(r,l,a);i[a]?(i[a].p(u,o),M(i[a],1)):(i[a]=ju(u),i[a].c(),M(i[a],1),i[a].m(e,null))}for(ue(),a=l.length;a<i.length;a+=1)s(a);fe()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)M(i[o]);t=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)I(i[o]);t=!1},d(r){r&&y(e),it(i,r)}}}function py(n){let e,t,l,i,s,r,o,a;t=new Zi({props:{record:n[49],displayFields:n[13]}});function u(){return n[37](n[49])}return{c(){e=h("span"),U(t.$$.fragment),l=D(),i=h("button"),i.innerHTML='<i class="ri-close-line"></i>',s=D(),p(i,"type","button"),p(i,"title","Remove"),p(i,"class","btn btn-circle btn-transparent btn-hint btn-xs"),p(e,"class","label"),X(e,"label-danger",n[52]),X(e,"label-warning",n[53])},m(f,c){w(f,e,c),H(t,e,null),b(e,l),b(e,i),w(f,s,c),r=!0,o||(a=Y(i,"click",u),o=!0)},p(f,c){n=f;const d={};c[0]&32&&(d.record=n[49]),c[0]&8192&&(d.displayFields=n[13]),t.$set(d),(!r||c[1]&2097152)&&X(e,"label-danger",n[52]),(!r||c[1]&4194304)&&X(e,"label-warning",n[53])},i(f){r||(M(t.$$.fragment,f),r=!0)},o(f){I(t.$$.fragment,f),r=!1},d(f){f&&y(e),V(t),f&&y(s),o=!1,a()}}}function ju(n){let e,t,l;function i(r){n[38](r)}let s={index:n[51],$$slots:{default:[py,({dragging:r,dragover:o})=>({52:r,53:o}),({dragging:r,dragover:o})=>[0,(r?2097152:0)|(o?4194304:0)]]},$$scope:{ctx:n}};return n[5]!==void 0&&(s.list=n[5]),e=new oi({props:s}),le.push(()=>me(e,"list",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o[0]&8224|o[1]&39845888&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&32&&(t=!0,a.list=r[5],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function my(n){var R;let e,t,l,i,s,r=[],o=new Map,a,u,f,c,d,m,v,_,g,k,$,C;t=new ar({props:{value:n[2],autocompleteCollection:n[10]}}),t.$on("submit",n[30]);let T=!((R=n[10])!=null&&R.$isView)&&Mu(n),S=n[7];const E=q=>q[49].id;for(let q=0;q<S.length;q+=1){let z=Au(n,S,q),K=E(z);o.set(K,r[q]=qu(K,z))}let O=null;S.length||(O=Iu(n));let A=n[12]&&Pu(),N=n[4]>1&&Ru(n);const F=[dy,cy],L=[];function P(q,z){return q[5].length?0:1}return v=P(n),_=L[v]=F[v](n),{c(){e=h("div"),U(t.$$.fragment),l=D(),T&&T.c(),i=D(),s=h("div");for(let q=0;q<r.length;q+=1)r[q].c();O&&O.c(),a=D(),A&&A.c(),f=D(),c=h("h5"),d=B(`Selected
        `),N&&N.c(),m=D(),_.c(),g=ke(),p(e,"class","flex m-b-base flex-gap-10"),p(s,"class","list picker-list m-b-base svelte-1u8jhky"),p(c,"class","section-title")},m(q,z){w(q,e,z),H(t,e,null),b(e,l),T&&T.m(e,null),w(q,i,z),w(q,s,z);for(let K=0;K<r.length;K+=1)r[K]&&r[K].m(s,null);O&&O.m(s,null),b(s,a),A&&A.m(s,null),w(q,f,z),w(q,c,z),b(c,d),N&&N.m(c,null),w(q,m,z),L[v].m(q,z),w(q,g,z),k=!0,$||(C=$e(u=ry.call(null,s,n[36])),$=!0)},p(q,z){var J;const K={};z[0]&4&&(K.value=q[2]),z[0]&1024&&(K.autocompleteCollection=q[10]),t.$set(K),(J=q[10])!=null&&J.$isView?T&&(T.d(1),T=null):T?T.p(q,z):(T=Mu(q),T.c(),T.m(e,null)),z[0]&145364&&(S=q[7],ue(),r=rt(r,z,E,1,q,S,o,s,Ot,qu,a,Au),fe(),!S.length&&O?O.p(q,z):S.length?O&&(O.d(1),O=null):(O=Iu(q),O.c(),O.m(s,a))),q[12]?A||(A=Pu(),A.c(),A.m(s,null)):A&&(A.d(1),A=null),u&&kt(u.update)&&z[0]&2056&&u.update.call(null,q[36]),q[4]>1?N?N.p(q,z):(N=Ru(q),N.c(),N.m(c,null)):N&&(N.d(1),N=null);let Q=v;v=P(q),v===Q?L[v].p(q,z):(ue(),I(L[Q],1,1,()=>{L[Q]=null}),fe(),_=L[v],_?_.p(q,z):(_=L[v]=F[v](q),_.c()),M(_,1),_.m(g.parentNode,g))},i(q){if(!k){M(t.$$.fragment,q);for(let z=0;z<S.length;z+=1)M(r[z]);M(_),k=!0}},o(q){I(t.$$.fragment,q);for(let z=0;z<r.length;z+=1)I(r[z]);I(_),k=!1},d(q){q&&y(e),V(t),T&&T.d(),q&&y(i),q&&y(s);for(let z=0;z<r.length;z+=1)r[z].d();O&&O.d(),A&&A.d(),q&&y(f),q&&y(c),N&&N.d(),q&&y(m),L[v].d(q),q&&y(g),$=!1,C()}}}function _y(n){var o;let e,t,l,i=(((o=n[10])==null?void 0:o.name)||"")+"",s,r;return{c(){e=h("h4"),t=B("Select "),l=h("strong"),s=B(i),r=B(" records")},m(a,u){w(a,e,u),b(e,t),b(e,l),b(l,s),b(e,r)},p(a,u){var f;u[0]&1024&&i!==(i=(((f=a[10])==null?void 0:f.name)||"")+"")&&oe(s,i)},d(a){a&&y(e)}}}function hy(n){let e,t,l,i,s;return{c(){e=h("button"),e.innerHTML='<span class="txt">Cancel</span>',t=D(),l=h("button"),l.innerHTML='<span class="txt">Set selection</span>',p(e,"type","button"),p(e,"class","btn btn-transparent"),p(l,"type","button"),p(l,"class","btn")},m(r,o){w(r,e,o),w(r,t,o),w(r,l,o),i||(s=[Y(e,"click",n[28]),Y(l,"click",n[29])],i=!0)},p:x,d(r){r&&y(e),r&&y(t),r&&y(l),i=!1,Te(s)}}}function by(n){let e,t,l,i;const s=[{popup:!0},{class:"overlay-panel-xl"},n[19]];let r={$$slots:{footer:[hy],header:[_y],default:[my]},$$scope:{ctx:n}};for(let a=0;a<s.length;a+=1)r=Ae(r,s[a]);e=new Yt({props:r}),n[39](e),e.$on("hide",n[40]),e.$on("show",n[41]);let o={collection:n[10]};return l=new rm({props:o}),n[42](l),l.$on("save",n[43]),l.$on("delete",n[44]),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(a,u){H(e,a,u),w(a,t,u),H(l,a,u),i=!0},p(a,u){const f=u[0]&524288?mt(s,[s[0],s[1],Nt(a[19])]):{};u[0]&16380|u[1]&33554432&&(f.$$scope={dirty:u,ctx:a}),e.$set(f);const c={};u[0]&1024&&(c.collection=a[10]),l.$set(c)},i(a){i||(M(e.$$.fragment,a),M(l.$$.fragment,a),i=!0)},o(a){I(e.$$.fragment,a),I(l.$$.fragment,a),i=!1},d(a){n[39](null),V(e,a),a&&y(t),n[42](null),V(l,a)}}}const ki=50;function gy(n,e,t){let l,i,s,r,o,a,u,f;const c=["value","field","show","hide"];let d=ze(e,c),m;Ve(n,An,Oe=>t(26,m=Oe));const v=pt(),_="picker_"+j.randomString(5);let{value:g}=e,{field:k}=e,$,C,T="",S=[],E=[],O=1,A=0,N=!1,F=!1;function L(){return t(2,T=""),t(7,S=[]),t(5,E=[]),R(),q(!0),$==null?void 0:$.show()}function P(){return $==null?void 0:$.hide()}async function R(){const Oe=j.toArray(g);if(!i||!Oe.length)return;t(24,F=!0);let ye=[];const nt=Oe.slice(),qt=[];for(;nt.length>0;){const At=[];for(const xt of nt.splice(0,ki))At.push(`id="${xt}"`);qt.push(ce.collection(i).getFullList(ki,{filter:At.join("||"),$autoCancel:!1}))}try{await Promise.all(qt).then(At=>{ye=ye.concat(...At)}),t(5,E=[]);for(const At of Oe){const xt=j.findByKey(ye,"id",At);xt&&E.push(xt)}T.trim()||t(7,S=j.filterDuplicatesByKey(E.concat(S))),t(24,F=!1)}catch(At){At.isAbort||(ce.error(At),t(24,F=!1))}}async function q(Oe=!1){if(i){t(3,N=!0),Oe&&(T.trim()?t(7,S=[]):t(7,S=j.toArray(E).slice()));try{const ye=Oe?1:O+1,nt=j.getAllCollectionIdentifiers(r),qt=await ce.collection(i).getList(ye,ki,{filter:j.normalizeSearchFilter(T,nt),sort:r!=null&&r.$isView?"":"-created",skipTotal:1,$cancelKey:_+"loadList"});t(7,S=j.filterDuplicatesByKey(S.concat(qt.items))),O=qt.page,t(23,A=qt.items.length),t(3,N=!1)}catch(ye){ye.isAbort||(ce.error(ye),t(3,N=!1))}}}function z(Oe){l==1?t(5,E=[Oe]):u&&(j.pushOrReplaceByKey(E,Oe),t(5,E))}function K(Oe){j.removeByKey(E,"id",Oe.id),t(5,E)}function Q(Oe){f(Oe)?K(Oe):z(Oe)}function J(){var Oe;l!=1?t(20,g=E.map(ye=>ye.id)):t(20,g=((Oe=E==null?void 0:E[0])==null?void 0:Oe.id)||""),v("save",E),P()}function Z(Oe){De.call(this,n,Oe)}const se=()=>P(),ee=()=>J(),te=Oe=>t(2,T=Oe.detail),pe=()=>C==null?void 0:C.show(),Ee=Oe=>C==null?void 0:C.show(Oe),We=Oe=>Q(Oe),ot=(Oe,ye)=>{(ye.code==="Enter"||ye.code==="Space")&&(ye.preventDefault(),ye.stopPropagation(),Q(Oe))},xe=()=>t(2,T=""),Je=()=>{a&&!N&&q()},$t=Oe=>K(Oe);function Ft(Oe){E=Oe,t(5,E)}function Tt(Oe){le[Oe?"unshift":"push"](()=>{$=Oe,t(1,$)})}function Dt(Oe){De.call(this,n,Oe)}function Lt(Oe){De.call(this,n,Oe)}function ie(Oe){le[Oe?"unshift":"push"](()=>{C=Oe,t(6,C)})}const Le=Oe=>{j.removeByKey(S,"id",Oe.detail.id),S.unshift(Oe.detail),t(7,S),z(Oe.detail)},at=Oe=>{j.removeByKey(S,"id",Oe.detail.id),t(7,S),K(Oe.detail)};return n.$$set=Oe=>{e=Ae(Ae({},e),It(Oe)),t(19,d=ze(e,c)),"value"in Oe&&t(20,g=Oe.value),"field"in Oe&&t(21,k=Oe.field)},n.$$.update=()=>{var Oe,ye,nt;n.$$.dirty[0]&2097152&&t(4,l=((Oe=k==null?void 0:k.options)==null?void 0:Oe.maxSelect)||null),n.$$.dirty[0]&2097152&&t(25,i=(ye=k==null?void 0:k.options)==null?void 0:ye.collectionId),n.$$.dirty[0]&2097152&&t(13,s=(nt=k==null?void 0:k.options)==null?void 0:nt.displayFields),n.$$.dirty[0]&100663296&&t(10,r=m.find(qt=>qt.id==i)||null),n.$$.dirty[0]&6&&typeof T<"u"&&$!=null&&$.isActive()&&q(!0),n.$$.dirty[0]&16777224&&t(12,o=N||F),n.$$.dirty[0]&8388608&&t(11,a=A==ki),n.$$.dirty[0]&48&&t(9,u=l===null||l>E.length),n.$$.dirty[0]&32&&t(8,f=function(qt){return j.findByKey(E,"id",qt.id)})},[P,$,T,N,l,E,C,S,f,u,r,a,o,s,q,z,K,Q,J,d,g,k,L,A,F,i,m,Z,se,ee,te,pe,Ee,We,ot,xe,Je,$t,Ft,Tt,Dt,Lt,ie,Le,at]}class vy extends ge{constructor(e){super(),be(this,e,gy,by,_e,{value:20,field:21,show:22,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[22]}get hide(){return this.$$.ctx[0]}}function Hu(n,e,t){const l=n.slice();return l[20]=e[t],l[22]=t,l}function Vu(n,e,t){const l=n.slice();return l[25]=e[t],l}function Uu(n){let e,t=n[5]&&zu(n);return{c(){t&&t.c(),e=ke()},m(l,i){t&&t.m(l,i),w(l,e,i)},p(l,i){l[5]?t?t.p(l,i):(t=zu(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&y(e)}}}function zu(n){let e,t=j.toArray(n[0]).slice(0,10),l=[];for(let i=0;i<t.length;i+=1)l[i]=Bu(Vu(n,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ke()},m(i,s){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(i,s);w(i,e,s)},p(i,s){if(s&1){t=j.toArray(i[0]).slice(0,10);let r;for(r=0;r<t.length;r+=1){const o=Vu(i,t,r);l[r]?l[r].p(o,s):(l[r]=Bu(),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(i){it(l,i),i&&y(e)}}}function Bu(n){let e;return{c(){e=h("div"),e.innerHTML=`<div class="skeleton-loader"></div> 
                        `,p(e,"class","list-item")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function ky(n){var d;let e,t,l,i,s,r,o,a,u,f;l=new Zi({props:{record:n[20],displayFields:(d=n[2].options)==null?void 0:d.displayFields}});function c(){return n[10](n[20])}return{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),r=h("button"),r.innerHTML='<i class="ri-close-line"></i>',o=D(),p(t,"class","content"),p(r,"type","button"),p(r,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),p(s,"class","actions"),p(e,"class","list-item"),X(e,"dragging",n[23]),X(e,"dragover",n[24])},m(m,v){w(m,e,v),b(e,t),H(l,t,null),b(e,i),b(e,s),b(s,r),w(m,o,v),a=!0,u||(f=[$e(Pe.call(null,r,"Remove")),Y(r,"click",c)],u=!0)},p(m,v){var g;n=m;const _={};v&16&&(_.record=n[20]),v&4&&(_.displayFields=(g=n[2].options)==null?void 0:g.displayFields),l.$set(_),(!a||v&8388608)&&X(e,"dragging",n[23]),(!a||v&16777216)&&X(e,"dragover",n[24])},i(m){a||(M(l.$$.fragment,m),a=!0)},o(m){I(l.$$.fragment,m),a=!1},d(m){m&&y(e),V(l),m&&y(o),u=!1,Te(f)}}}function Wu(n,e){let t,l,i,s;function r(a){e[11](a)}let o={group:e[2].name+"_relation",index:e[22],disabled:!e[6],$$slots:{default:[ky,({dragging:a,dragover:u})=>({23:a,24:u}),({dragging:a,dragover:u})=>(a?8388608:0)|(u?16777216:0)]},$$scope:{ctx:e}};return e[4]!==void 0&&(o.list=e[4]),l=new oi({props:o}),le.push(()=>me(l,"list",r)),l.$on("sort",e[12]),{key:n,first:null,c(){t=ke(),U(l.$$.fragment),this.first=t},m(a,u){w(a,t,u),H(l,a,u),s=!0},p(a,u){e=a;const f={};u&4&&(f.group=e[2].name+"_relation"),u&16&&(f.index=e[22]),u&64&&(f.disabled=!e[6]),u&293601300&&(f.$$scope={dirty:u,ctx:e}),!i&&u&16&&(i=!0,f.list=e[4],he(()=>i=!1)),l.$set(f)},i(a){s||(M(l.$$.fragment,a),s=!0)},o(a){I(l.$$.fragment,a),s=!1},d(a){a&&y(t),V(l,a)}}}function yy(n){let e,t,l,i,s,r=n[2].name+"",o,a,u,f,c,d=[],m=new Map,v,_,g,k,$,C,T=n[4];const S=O=>O[20].id;for(let O=0;O<T.length;O+=1){let A=Hu(n,T,O),N=S(A);m.set(N,d[O]=Wu(N,A))}let E=null;return T.length||(E=Uu(n)),{c(){e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),u=D(),f=h("div"),c=h("div");for(let O=0;O<d.length;O+=1)d[O].c();E&&E.c(),v=D(),_=h("div"),g=h("button"),g.innerHTML=`<i class="ri-magic-line"></i> 
                
                <span class="txt">Open picker</span>`,p(t,"class",l=ul(j.getFieldTypeIcon(n[2].type))+" svelte-1ynw0pc"),p(s,"class","txt"),p(e,"for",a=n[19]),p(c,"class","relations-list svelte-1ynw0pc"),p(g,"type","button"),p(g,"class","btn btn-transparent btn-sm btn-block"),p(_,"class","list-item list-item-btn"),p(f,"class","list")},m(O,A){w(O,e,A),b(e,t),b(e,i),b(e,s),b(s,o),w(O,u,A),w(O,f,A),b(f,c);for(let N=0;N<d.length;N+=1)d[N]&&d[N].m(c,null);E&&E.m(c,null),b(f,v),b(f,_),b(_,g),k=!0,$||(C=Y(g,"click",n[13]),$=!0)},p(O,A){(!k||A&4&&l!==(l=ul(j.getFieldTypeIcon(O[2].type))+" svelte-1ynw0pc"))&&p(t,"class",l),(!k||A&4)&&r!==(r=O[2].name+"")&&oe(o,r),(!k||A&524288&&a!==(a=O[19]))&&p(e,"for",a),A&25166325&&(T=O[4],ue(),d=rt(d,A,S,1,O,T,m,c,Ot,Wu,null,Hu),fe(),!T.length&&E?E.p(O,A):T.length?E&&(E.d(1),E=null):(E=Uu(O),E.c(),E.m(c,null)))},i(O){if(!k){for(let A=0;A<T.length;A+=1)M(d[A]);k=!0}},o(O){for(let A=0;A<d.length;A+=1)I(d[A]);k=!1},d(O){O&&y(e),O&&y(u),O&&y(f);for(let A=0;A<d.length;A+=1)d[A].d();E&&E.d(),$=!1,C()}}}function wy(n){let e,t,l,i,s={class:"form-field form-field-list "+(n[2].required?"required":""),name:n[2].name,$$slots:{default:[yy,({uniqueId:o})=>({19:o}),({uniqueId:o})=>o?524288:0]},$$scope:{ctx:n}};e=new de({props:s}),n[14](e);let r={value:n[0],field:n[2]};return l=new vy({props:r}),n[15](l),l.$on("save",n[16]),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(o,a){H(e,o,a),w(o,t,a),H(l,o,a),i=!0},p(o,[a]){const u={};a&4&&(u.class="form-field form-field-list "+(o[2].required?"required":"")),a&4&&(u.name=o[2].name),a&268959863&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const f={};a&1&&(f.value=o[0]),a&4&&(f.field=o[2]),l.$set(f)},i(o){i||(M(e.$$.fragment,o),M(l.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),I(l.$$.fragment,o),i=!1},d(o){n[14](null),V(e,o),o&&y(t),n[15](null),V(l,o)}}}const Ku=100;function $y(n,e,t){let l,{value:i}=e,{picker:s}=e,{field:r=new sn}=e,o,a=[],u=!1,f;function c(){if(u)return!1;const E=j.toArray(i);return t(4,a=a.filter(O=>E.includes(O.id))),E.length!=a.length}async function d(){var N,F;const E=j.toArray(i);if(t(4,a=[]),!((N=r==null?void 0:r.options)!=null&&N.collectionId)||!E.length){t(5,u=!1);return}t(5,u=!0);const O=E.slice(),A=[];for(;O.length>0;){const L=[];for(const P of O.splice(0,Ku))L.push(`id="${P}"`);A.push(ce.collection((F=r==null?void 0:r.options)==null?void 0:F.collectionId).getFullList(Ku,{filter:L.join("||"),$autoCancel:!1}))}try{let L=[];await Promise.all(A).then(P=>{L=L.concat(...P)});for(const P of E){const R=j.findByKey(L,"id",P);R&&a.push(R)}t(4,a),v()}catch(L){ce.error(L)}t(5,u=!1)}function m(E){j.removeByKey(a,"id",E.id),t(4,a),v()}function v(){var E;l?t(0,i=a.map(O=>O.id)):t(0,i=((E=a[0])==null?void 0:E.id)||"")}Hi(()=>{clearTimeout(f)});const _=E=>m(E);function g(E){a=E,t(4,a)}const k=()=>{v()},$=()=>s==null?void 0:s.show();function C(E){le[E?"unshift":"push"](()=>{o=E,t(3,o)})}function T(E){le[E?"unshift":"push"](()=>{s=E,t(1,s)})}const S=E=>{var O;t(4,a=E.detail||[]),t(0,i=l?a.map(A=>A.id):((O=a[0])==null?void 0:O.id)||"")};return n.$$set=E=>{"value"in E&&t(0,i=E.value),"picker"in E&&t(1,s=E.picker),"field"in E&&t(2,r=E.field)},n.$$.update=()=>{var E;n.$$.dirty&4&&t(6,l=((E=r.options)==null?void 0:E.maxSelect)!=1),n.$$.dirty&9&&typeof i<"u"&&(o==null||o.changed()),n.$$.dirty&529&&c()&&(t(5,u=!0),clearTimeout(f),t(9,f=setTimeout(d,0)))},[i,s,r,o,a,u,l,m,v,f,_,g,k,$,C,T,S]}class Ty extends ge{constructor(e){super(),be(this,e,$y,wy,_e,{value:0,picker:1,field:2})}}function Yu(n){let e,t,l=n[1].options.maxSelect+"",i,s;return{c(){e=h("div"),t=B("Select up to "),i=B(l),s=B(" items."),p(e,"class","help-block")},m(r,o){w(r,e,o),b(e,t),b(e,i),b(e,s)},p(r,o){o&2&&l!==(l=r[1].options.maxSelect+"")&&oe(i,l)},d(r){r&&y(e)}}}function Sy(n){var $,C,T,S,E,O;let e,t,l,i,s,r=n[1].name+"",o,a,u,f,c,d,m,v;function _(A){n[3](A)}let g={id:n[4],toggle:!n[1].required||n[2],multiple:n[2],closable:!n[2]||(($=n[0])==null?void 0:$.length)>=((C=n[1].options)==null?void 0:C.maxSelect),items:(T=n[1].options)==null?void 0:T.values,searchable:((E=(S=n[1].options)==null?void 0:S.values)==null?void 0:E.length)>5};n[0]!==void 0&&(g.selected=n[0]),f=new cr({props:g}),le.push(()=>me(f,"selected",_));let k=((O=n[1].options)==null?void 0:O.maxSelect)>1&&Yu(n);return{c(){e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),u=D(),U(f.$$.fragment),d=D(),k&&k.c(),m=ke(),p(t,"class",l=j.getFieldTypeIcon(n[1].type)),p(s,"class","txt"),p(e,"for",a=n[4])},m(A,N){w(A,e,N),b(e,t),b(e,i),b(e,s),b(s,o),w(A,u,N),H(f,A,N),w(A,d,N),k&&k.m(A,N),w(A,m,N),v=!0},p(A,N){var L,P,R,q,z,K;(!v||N&2&&l!==(l=j.getFieldTypeIcon(A[1].type)))&&p(t,"class",l),(!v||N&2)&&r!==(r=A[1].name+"")&&oe(o,r),(!v||N&16&&a!==(a=A[4]))&&p(e,"for",a);const F={};N&16&&(F.id=A[4]),N&6&&(F.toggle=!A[1].required||A[2]),N&4&&(F.multiple=A[2]),N&7&&(F.closable=!A[2]||((L=A[0])==null?void 0:L.length)>=((P=A[1].options)==null?void 0:P.maxSelect)),N&2&&(F.items=(R=A[1].options)==null?void 0:R.values),N&2&&(F.searchable=((z=(q=A[1].options)==null?void 0:q.values)==null?void 0:z.length)>5),!c&&N&1&&(c=!0,F.selected=A[0],he(()=>c=!1)),f.$set(F),((K=A[1].options)==null?void 0:K.maxSelect)>1?k?k.p(A,N):(k=Yu(A),k.c(),k.m(m.parentNode,m)):k&&(k.d(1),k=null)},i(A){v||(M(f.$$.fragment,A),v=!0)},o(A){I(f.$$.fragment,A),v=!1},d(A){A&&y(e),A&&y(u),V(f,A),A&&y(d),k&&k.d(A),A&&y(m)}}}function Cy(n){let e,t;return e=new de({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[Sy,({uniqueId:l})=>({4:l}),({uniqueId:l})=>l?16:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&2&&(s.class="form-field "+(l[1].required?"required":"")),i&2&&(s.name=l[1].name),i&55&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ey(n,e,t){let l,{field:i=new sn}=e,{value:s=void 0}=e;function r(o){s=o,t(0,s),t(2,l),t(1,i)}return n.$$set=o=>{"field"in o&&t(1,i=o.field),"value"in o&&t(0,s=o.value)},n.$$.update=()=>{var o;n.$$.dirty&2&&t(2,l=((o=i.options)==null?void 0:o.maxSelect)>1),n.$$.dirty&5&&typeof s>"u"&&t(0,s=l?[]:""),n.$$.dirty&7&&l&&Array.isArray(s)&&s.length>i.options.maxSelect&&t(0,s=s.slice(s.length-i.options.maxSelect))},[s,i,l,r]}class Oy extends ge{constructor(e){super(),be(this,e,Ey,Cy,_e,{field:1,value:0})}}function Dy(n){let e,t,l,i=[n[3]],s={};for(let r=0;r<i.length;r+=1)s=Ae(s,i[r]);return{c(){e=h("textarea"),En(e,s),X(e,"svelte-1x1pbts",!0)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),n[5](e),re(e,n[0]),t||(l=[Y(e,"input",n[6]),Y(e,"keydown",n[2])],t=!0)},p(r,[o]){En(e,s=mt(i,[o&8&&r[3]])),o&1&&re(e,r[0]),X(e,"svelte-1x1pbts",!0)},i:x,o:x,d(r){r&&y(e),n[5](null),t=!1,Te(l)}}}function Ay(n,e,t){const l=["value","maxHeight"];let i=ze(e,l),{value:s=""}=e,{maxHeight:r=200}=e,o,a;function u(){clearTimeout(a),a=setTimeout(()=>{o&&(t(1,o.style.height="",o),t(1,o.style.height=Math.min(o.scrollHeight,r)+"px",o))},0)}function f(m){if((m==null?void 0:m.code)==="Enter"&&!(m!=null&&m.shiftKey)&&!(m!=null&&m.isComposing)){m.preventDefault();const v=o.closest("form");v!=null&&v.requestSubmit&&v.requestSubmit()}}Ut(()=>(u(),()=>clearTimeout(a)));function c(m){le[m?"unshift":"push"](()=>{o=m,t(1,o)})}function d(){s=this.value,t(0,s)}return n.$$set=m=>{e=Ae(Ae({},e),It(m)),t(3,i=ze(e,l)),"value"in m&&t(0,s=m.value),"maxHeight"in m&&t(4,r=m.maxHeight)},n.$$.update=()=>{n.$$.dirty&1&&typeof s!==void 0&&u()},[s,o,f,i,r,c,d]}class My extends ge{constructor(e){super(),be(this,e,Ay,Dy,_e,{value:0,maxHeight:4})}}function Iy(n){let e,t,l,i,s,r=n[1].name+"",o,a,u,f,c,d;function m(_){n[2](_)}let v={id:n[3],required:n[1].required};return n[0]!==void 0&&(v.value=n[0]),f=new My({props:v}),le.push(()=>me(f,"value",m)),{c(){e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),u=D(),U(f.$$.fragment),p(t,"class",l=j.getFieldTypeIcon(n[1].type)),p(s,"class","txt"),p(e,"for",a=n[3])},m(_,g){w(_,e,g),b(e,t),b(e,i),b(e,s),b(s,o),w(_,u,g),H(f,_,g),d=!0},p(_,g){(!d||g&2&&l!==(l=j.getFieldTypeIcon(_[1].type)))&&p(t,"class",l),(!d||g&2)&&r!==(r=_[1].name+"")&&oe(o,r),(!d||g&8&&a!==(a=_[3]))&&p(e,"for",a);const k={};g&8&&(k.id=_[3]),g&2&&(k.required=_[1].required),!c&&g&1&&(c=!0,k.value=_[0],he(()=>c=!1)),f.$set(k)},i(_){d||(M(f.$$.fragment,_),d=!0)},o(_){I(f.$$.fragment,_),d=!1},d(_){_&&y(e),_&&y(u),V(f,_)}}}function Ny(n){let e,t;return e=new de({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[Iy,({uniqueId:l})=>({3:l}),({uniqueId:l})=>l?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&2&&(s.class="form-field "+(l[1].required?"required":"")),i&2&&(s.name=l[1].name),i&27&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Fy(n,e,t){let{field:l=new sn}=e,{value:i=void 0}=e;function s(r){i=r,t(0,i)}return n.$$set=r=>{"field"in r&&t(1,l=r.field),"value"in r&&t(0,i=r.value)},[i,l,s]}class Ly extends ge{constructor(e){super(),be(this,e,Fy,Ny,_e,{field:1,value:0})}}function qy(n){let e,t,l,i,s,r=n[1].name+"",o,a,u,f,c,d,m,v;return{c(){e=h("label"),t=h("i"),i=D(),s=h("span"),o=B(r),u=D(),f=h("input"),p(t,"class",l=j.getFieldTypeIcon(n[1].type)),p(s,"class","txt"),p(e,"for",a=n[3]),p(f,"type","url"),p(f,"id",c=n[3]),f.required=d=n[1].required},m(_,g){w(_,e,g),b(e,t),b(e,i),b(e,s),b(s,o),w(_,u,g),w(_,f,g),re(f,n[0]),m||(v=Y(f,"input",n[2]),m=!0)},p(_,g){g&2&&l!==(l=j.getFieldTypeIcon(_[1].type))&&p(t,"class",l),g&2&&r!==(r=_[1].name+"")&&oe(o,r),g&8&&a!==(a=_[3])&&p(e,"for",a),g&8&&c!==(c=_[3])&&p(f,"id",c),g&2&&d!==(d=_[1].required)&&(f.required=d),g&1&&f.value!==_[0]&&re(f,_[0])},d(_){_&&y(e),_&&y(u),_&&y(f),m=!1,v()}}}function Py(n){let e,t;return e=new de({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[qy,({uniqueId:l})=>({3:l}),({uniqueId:l})=>l?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&2&&(s.class="form-field "+(l[1].required?"required":"")),i&2&&(s.name=l[1].name),i&27&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ry(n,e,t){let{field:l=new sn}=e,{value:i=void 0}=e;function s(){i=this.value,t(0,i)}return n.$$set=r=>{"field"in r&&t(1,l=r.field),"value"in r&&t(0,i=r.value)},[i,l,s]}class jy extends ge{constructor(e){super(),be(this,e,Ry,Py,_e,{field:1,value:0})}}function Ju(n,e,t){const l=n.slice();return l[66]=e[t],l[67]=e,l[68]=t,l}function Zu(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_;return{c(){e=h("div"),t=h("div"),l=h("div"),l.innerHTML='<i class="ri-information-line"></i>',i=D(),s=h("div"),r=B(`当前记录存在草稿
                            `),o=h("button"),o.textContent="恢复草稿",a=D(),u=h("button"),u.innerHTML='<i class="ri-close-line"></i>',f=D(),c=h("div"),p(l,"class","icon"),p(o,"type","button"),p(o,"class","btn btn-sm btn-secondary"),p(s,"class","flex flex-gap-xs"),p(u,"type","button"),p(u,"class","close"),p(u,"aria-label","Discard draft"),p(t,"class","alert alert-info m-0"),p(c,"class","clearfix p-b-base"),p(e,"class","block")},m(g,k){w(g,e,k),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),b(s,o),b(t,a),b(t,u),b(e,f),b(e,c),m=!0,v||(_=[Y(o,"click",n[36]),$e(Pe.call(null,u,"Discard draft")),Y(u,"click",Ke(n[37]))],v=!0)},p:x,i(g){m||(d&&d.end(1),m=!0)},o(g){d=Ws(e,Ge,{duration:150}),m=!1},d(g){g&&y(e),g&&d&&d.end(),v=!1,Te(_)}}}function Gu(n){let e,t,l,i,s;return{c(){e=h("div"),t=h("i"),p(t,"class","ri-calendar-event-line txt-disabled"),p(e,"class","form-field-addon")},m(r,o){w(r,e,o),b(e,t),i||(s=$e(l=Pe.call(null,t,{text:`Created: ${n[3].created}
Updated: ${n[3].updated}`,position:"left"})),i=!0)},p(r,o){l&&kt(l.update)&&o[0]&8&&l.update.call(null,{text:`Created: ${r[3].created}
Updated: ${r[3].updated}`,position:"left"})},d(r){r&&y(e),i=!1,s()}}}function Hy(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_=!n[6]&&Gu(n);return{c(){e=h("label"),t=h("i"),l=D(),i=h("span"),i.textContent="id",s=D(),r=h("span"),a=D(),_&&_.c(),u=D(),f=h("input"),p(t,"class",ul(j.getFieldTypeIcon("primary"))+" svelte-qc5ngu"),p(i,"class","txt"),p(r,"class","flex-fill"),p(e,"for",o=n[69]),p(f,"type","text"),p(f,"id",c=n[69]),p(f,"placeholder","Leave empty to auto generate..."),p(f,"minlength","15"),f.readOnly=d=!n[6]},m(g,k){w(g,e,k),b(e,t),b(e,l),b(e,i),b(e,s),b(e,r),w(g,a,k),_&&_.m(g,k),w(g,u,k),w(g,f,k),re(f,n[3].id),m||(v=Y(f,"input",n[38]),m=!0)},p(g,k){k[2]&128&&o!==(o=g[69])&&p(e,"for",o),g[6]?_&&(_.d(1),_=null):_?_.p(g,k):(_=Gu(g),_.c(),_.m(u.parentNode,u)),k[2]&128&&c!==(c=g[69])&&p(f,"id",c),k[0]&64&&d!==(d=!g[6])&&(f.readOnly=d),k[0]&8&&f.value!==g[3].id&&re(f,g[3].id)},d(g){g&&y(e),g&&y(a),_&&_.d(g),g&&y(u),g&&y(f),m=!1,v()}}}function Qu(n){var u,f;let e,t,l,i,s;function r(c){n[39](c)}let o={isNew:n[6],collection:n[0]};n[3]!==void 0&&(o.record=n[3]),e=new ok({props:o}),le.push(()=>me(e,"record",r));let a=((f=(u=n[0])==null?void 0:u.schema)==null?void 0:f.length)&&Xu();return{c(){U(e.$$.fragment),l=D(),a&&a.c(),i=ke()},m(c,d){H(e,c,d),w(c,l,d),a&&a.m(c,d),w(c,i,d),s=!0},p(c,d){var v,_;const m={};d[0]&64&&(m.isNew=c[6]),d[0]&1&&(m.collection=c[0]),!t&&d[0]&8&&(t=!0,m.record=c[3],he(()=>t=!1)),e.$set(m),(_=(v=c[0])==null?void 0:v.schema)!=null&&_.length?a||(a=Xu(),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i(c){s||(M(e.$$.fragment,c),s=!0)},o(c){I(e.$$.fragment,c),s=!1},d(c){V(e,c),c&&y(l),a&&a.d(c),c&&y(i)}}}function Xu(n){let e;return{c(){e=h("hr")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Vy(n){let e,t,l;function i(r){n[52](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new Ty({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Uy(n){let e,t,l,i,s;function r(f){n[49](f,n[66])}function o(f){n[50](f,n[66])}function a(f){n[51](f,n[66])}let u={field:n[66],record:n[3]};return n[3][n[66].name]!==void 0&&(u.value=n[3][n[66].name]),n[4][n[66].name]!==void 0&&(u.uploadedFiles=n[4][n[66].name]),n[5][n[66].name]!==void 0&&(u.deletedFileNames=n[5][n[66].name]),e=new Qk({props:u}),le.push(()=>me(e,"value",r)),le.push(()=>me(e,"uploadedFiles",o)),le.push(()=>me(e,"deletedFileNames",a)),{c(){U(e.$$.fragment)},m(f,c){H(e,f,c),s=!0},p(f,c){n=f;const d={};c[0]&1&&(d.field=n[66]),c[0]&8&&(d.record=n[3]),!t&&c[0]&9&&(t=!0,d.value=n[3][n[66].name],he(()=>t=!1)),!l&&c[0]&17&&(l=!0,d.uploadedFiles=n[4][n[66].name],he(()=>l=!1)),!i&&c[0]&33&&(i=!0,d.deletedFileNames=n[5][n[66].name],he(()=>i=!1)),e.$set(d)},i(f){s||(M(e.$$.fragment,f),s=!0)},o(f){I(e.$$.fragment,f),s=!1},d(f){V(e,f)}}}function zy(n){let e,t,l;function i(r){n[48](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new ty({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function By(n){let e,t,l;function i(r){n[47](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new Oy({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Wy(n){let e,t,l;function i(r){n[46](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new _k({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Ky(n){let e,t,l;function i(r){n[45](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new vk({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Yy(n){let e,t,l;function i(r){n[44](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new jy({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Jy(n){let e,t,l;function i(r){n[43](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new $k({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Zy(n){let e,t,l;function i(r){n[42](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new ck({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Gy(n){let e,t,l;function i(r){n[41](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new sy({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Qy(n){let e,t,l;function i(r){n[40](r,n[66])}let s={field:n[66]};return n[3][n[66].name]!==void 0&&(s.value=n[3][n[66].name]),e=new Ly({props:s}),le.push(()=>me(e,"value",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function xu(n,e){let t,l,i,s,r;const o=[Qy,Gy,Zy,Jy,Yy,Ky,Wy,By,zy,Uy,Vy],a=[];function u(f,c){return f[66].type==="text"?0:f[66].type==="number"?1:f[66].type==="bool"?2:f[66].type==="email"?3:f[66].type==="url"?4:f[66].type==="editor"?5:f[66].type==="date"?6:f[66].type==="select"?7:f[66].type==="json"?8:f[66].type==="file"?9:f[66].type==="relation"?10:-1}return~(l=u(e))&&(i=a[l]=o[l](e)),{key:n,first:null,c(){t=ke(),i&&i.c(),s=ke(),this.first=t},m(f,c){w(f,t,c),~l&&a[l].m(f,c),w(f,s,c),r=!0},p(f,c){e=f;let d=l;l=u(e),l===d?~l&&a[l].p(e,c):(i&&(ue(),I(a[d],1,1,()=>{a[d]=null}),fe()),~l?(i=a[l],i?i.p(e,c):(i=a[l]=o[l](e),i.c()),M(i,1),i.m(s.parentNode,s)):i=null)},i(f){r||(M(i),r=!0)},o(f){I(i),r=!1},d(f){f&&y(t),~l&&a[l].d(f),f&&y(s)}}}function ef(n){let e,t,l;return t=new X2({props:{record:n[3]}}),{c(){e=h("div"),U(t.$$.fragment),p(e,"class","tab-item"),X(e,"active",n[12]===xl)},m(i,s){w(i,e,s),H(t,e,null),l=!0},p(i,s){const r={};s[0]&8&&(r.record=i[3]),t.$set(r),(!l||s[0]&4096)&&X(e,"active",i[12]===xl)},i(i){l||(M(t.$$.fragment,i),l=!0)},o(i){I(t.$$.fragment,i),l=!1},d(i){i&&y(e),V(t)}}}function Xy(n){var $,C;let e,t,l,i,s,r,o=[],a=new Map,u,f,c,d,m=!n[7]&&n[9]&&Zu(n);i=new de({props:{class:"form-field "+(n[6]?"":"readonly"),name:"id",$$slots:{default:[Hy,({uniqueId:T})=>({69:T}),({uniqueId:T})=>[0,0,T?128:0]]},$$scope:{ctx:n}}});let v=(($=n[0])==null?void 0:$.isAuth)&&Qu(n),_=((C=n[0])==null?void 0:C.schema)||[];const g=T=>T[66].name;for(let T=0;T<_.length;T+=1){let S=Ju(n,_,T),E=g(S);a.set(E,o[T]=xu(E,S))}let k=n[0].$isAuth&&!n[6]&&ef(n);return{c(){e=h("div"),t=h("form"),m&&m.c(),l=D(),U(i.$$.fragment),s=D(),v&&v.c(),r=D();for(let T=0;T<o.length;T+=1)o[T].c();u=D(),k&&k.c(),p(t,"id",n[15]),p(t,"class","tab-item"),X(t,"active",n[12]===al),p(e,"class","tabs-content")},m(T,S){w(T,e,S),b(e,t),m&&m.m(t,null),b(t,l),H(i,t,null),b(t,s),v&&v.m(t,null),b(t,r);for(let E=0;E<o.length;E+=1)o[E]&&o[E].m(t,null);b(e,u),k&&k.m(e,null),f=!0,c||(d=[Y(t,"submit",Ke(n[18])),Y(t,"keydown",n[23])],c=!0)},p(T,S){var O,A;!T[7]&&T[9]?m?(m.p(T,S),S[0]&640&&M(m,1)):(m=Zu(T),m.c(),M(m,1),m.m(t,l)):m&&(ue(),I(m,1,1,()=>{m=null}),fe());const E={};S[0]&64&&(E.class="form-field "+(T[6]?"":"readonly")),S[0]&72|S[2]&384&&(E.$$scope={dirty:S,ctx:T}),i.$set(E),(O=T[0])!=null&&O.isAuth?v?(v.p(T,S),S[0]&1&&M(v,1)):(v=Qu(T),v.c(),M(v,1),v.m(t,r)):v&&(ue(),I(v,1,1,()=>{v=null}),fe()),S[0]&57&&(_=((A=T[0])==null?void 0:A.schema)||[],ue(),o=rt(o,S,g,1,T,_,a,t,Ot,xu,null,Ju),fe()),(!f||S[0]&4096)&&X(t,"active",T[12]===al),T[0].$isAuth&&!T[6]?k?(k.p(T,S),S[0]&65&&M(k,1)):(k=ef(T),k.c(),M(k,1),k.m(e,null)):k&&(ue(),I(k,1,1,()=>{k=null}),fe())},i(T){if(!f){M(m),M(i.$$.fragment,T),M(v);for(let S=0;S<_.length;S+=1)M(o[S]);M(k),f=!0}},o(T){I(m),I(i.$$.fragment,T),I(v);for(let S=0;S<o.length;S+=1)I(o[S]);I(k),f=!1},d(T){T&&y(e),m&&m.d(),V(i),v&&v.d();for(let S=0;S<o.length;S+=1)o[S].d();k&&k.d(),c=!1,Te(d)}}}function tf(n){let e,t,l,i,s,r,o;return r=new gn({props:{class:"dropdown dropdown-right dropdown-nowrap",$$slots:{default:[xy]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=D(),l=h("button"),i=h("i"),s=D(),U(r.$$.fragment),p(e,"class","flex-fill"),p(i,"class","ri-more-line"),p(l,"type","button"),p(l,"aria-label","More"),p(l,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(a,u){w(a,e,u),w(a,t,u),w(a,l,u),b(l,i),b(l,s),H(r,l,null),o=!0},p(a,u){const f={};u[0]&5|u[2]&256&&(f.$$scope={dirty:u,ctx:a}),r.$set(f)},i(a){o||(M(r.$$.fragment,a),o=!0)},o(a){I(r.$$.fragment,a),o=!1},d(a){a&&y(e),a&&y(t),a&&y(l),V(r)}}}function nf(n){let e,t,l;return{c(){e=h("button"),e.innerHTML=`<i class="ri-mail-check-line"></i> 
                            <span class="txt">发送验证邮件</span>`,p(e,"type","button"),p(e,"class","dropdown-item closable")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[30]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function lf(n){let e,t,l;return{c(){e=h("button"),e.innerHTML=`<i class="ri-mail-lock-line"></i> 
                            <span class="txt">发送密码重置邮件</span>`,p(e,"type","button"),p(e,"class","dropdown-item closable")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[31]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function xy(n){let e,t,l,i,s,r,o,a=n[0].$isAuth&&!n[2].verified&&n[2].email&&nf(n),u=n[0].$isAuth&&n[2].email&&lf(n);return{c(){a&&a.c(),e=D(),u&&u.c(),t=D(),l=h("button"),l.innerHTML=`<i class="ri-file-copy-line"></i> 
                        <span class="txt">复制</span>`,i=D(),s=h("button"),s.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">删除</span>`,p(l,"type","button"),p(l,"class","dropdown-item closable"),p(s,"type","button"),p(s,"class","dropdown-item txt-danger closable")},m(f,c){a&&a.m(f,c),w(f,e,c),u&&u.m(f,c),w(f,t,c),w(f,l,c),w(f,i,c),w(f,s,c),r||(o=[Y(l,"click",n[32]),Y(s,"click",fn(Ke(n[33])))],r=!0)},p(f,c){f[0].$isAuth&&!f[2].verified&&f[2].email?a?a.p(f,c):(a=nf(f),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),f[0].$isAuth&&f[2].email?u?u.p(f,c):(u=lf(f),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null)},d(f){a&&a.d(f),f&&y(e),u&&u.d(f),f&&y(t),f&&y(l),f&&y(i),f&&y(s),r=!1,Te(o)}}}function sf(n){let e,t,l,i,s,r;return{c(){e=h("div"),t=h("button"),t.textContent="用户数据",l=D(),i=h("button"),i.textContent="第三方登录（默认关闭）",p(t,"type","button"),p(t,"class","tab-item"),X(t,"active",n[12]===al),p(i,"type","button"),p(i,"class","tab-item"),X(i,"active",n[12]===xl),p(e,"class","tabs-header stretched")},m(o,a){w(o,e,a),b(e,t),b(e,l),b(e,i),s||(r=[Y(t,"click",n[34]),Y(i,"click",n[35])],s=!0)},p(o,a){a[0]&4096&&X(t,"active",o[12]===al),a[0]&4096&&X(i,"active",o[12]===xl)},d(o){o&&y(e),s=!1,Te(r)}}}function ew(n){var _;let e,t=n[6]?"新建":"修改",l,i,s,r=((_=n[0])==null?void 0:_.name)+"",o,a,u,f,c,d,m=!n[6]&&tf(n),v=n[0].$isAuth&&!n[6]&&sf(n);return{c(){e=h("h4"),l=B(t),i=D(),s=h("strong"),o=B(r),a=B(" 记录"),u=D(),m&&m.c(),f=D(),v&&v.c(),c=ke(),p(e,"class","panel-title svelte-qc5ngu")},m(g,k){w(g,e,k),b(e,l),b(e,i),b(e,s),b(s,o),b(e,a),w(g,u,k),m&&m.m(g,k),w(g,f,k),v&&v.m(g,k),w(g,c,k),d=!0},p(g,k){var $;(!d||k[0]&64)&&t!==(t=g[6]?"新建":"修改")&&oe(l,t),(!d||k[0]&1)&&r!==(r=(($=g[0])==null?void 0:$.name)+"")&&oe(o,r),g[6]?m&&(ue(),I(m,1,1,()=>{m=null}),fe()):m?(m.p(g,k),k[0]&64&&M(m,1)):(m=tf(g),m.c(),M(m,1),m.m(f.parentNode,f)),g[0].$isAuth&&!g[6]?v?v.p(g,k):(v=sf(g),v.c(),v.m(c.parentNode,c)):v&&(v.d(1),v=null)},i(g){d||(M(m),d=!0)},o(g){I(m),d=!1},d(g){g&&y(e),g&&y(u),m&&m.d(g),g&&y(f),v&&v.d(g),g&&y(c)}}}function tw(n){let e,t,l,i,s,r=n[6]?"创建":"保存",o,a,u,f;return{c(){e=h("button"),t=h("span"),t.textContent="取消",l=D(),i=h("button"),s=h("span"),o=B(r),p(t,"class","txt"),p(e,"type","button"),p(e,"class","btn btn-transparent"),e.disabled=n[10],p(s,"class","txt"),p(i,"type","submit"),p(i,"form",n[15]),p(i,"class","btn btn-expanded"),i.disabled=a=!n[13]||n[10],X(i,"btn-loading",n[10])},m(c,d){w(c,e,d),b(e,t),w(c,l,d),w(c,i,d),b(i,s),b(s,o),u||(f=Y(e,"click",n[29]),u=!0)},p(c,d){d[0]&1024&&(e.disabled=c[10]),d[0]&64&&r!==(r=c[6]?"创建":"保存")&&oe(o,r),d[0]&9216&&a!==(a=!c[13]||c[10])&&(i.disabled=a),d[0]&1024&&X(i,"btn-loading",c[10])},d(c){c&&y(e),c&&y(l),c&&y(i),u=!1,f()}}}function nw(n){var i;let e,t,l={class:`
        record-panel
        `+(n[14]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+((i=n[0])!=null&&i.$isAuth&&!n[6]?"colored-header":"")+`
    `,beforeHide:n[53],$$slots:{footer:[tw],header:[ew],default:[Xy]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[54](e),e.$on("hide",n[55]),e.$on("show",n[56]),{c(){U(e.$$.fragment)},m(s,r){H(e,s,r),t=!0},p(s,r){var a;const o={};r[0]&16449&&(o.class=`
        record-panel
        `+(s[14]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+((a=s[0])!=null&&a.$isAuth&&!s[6]?"colored-header":"")+`
    `),r[0]&2176&&(o.beforeHide=s[53]),r[0]&14077|r[2]&256&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[54](null),V(e,s)}}}const al="form",xl="providers";function lw(n,e,t){let l,i,s,r;const o=pt(),a="record_"+j.randomString(5);let{collection:u}=e,f,c=null,d=null,m=null,v=!1,_=!1,g={},k={},$=JSON.stringify(null),C=$,T=al,S=!0,E=!1;function O(ve){return N(ve),t(11,_=!0),t(12,T=al),f==null?void 0:f.show()}function A(){return f==null?void 0:f.hide()}async function N(ve){t(27,E=!1),jt({}),t(2,c=ve||new Pn),t(3,d=c.$clone()),t(4,g={}),t(5,k={}),await Kt(),t(9,m=P()),!m||z(d,m)?t(9,m=null):(delete m.password,delete m.passwordConfirm),t(25,$=JSON.stringify(d)),t(27,E=!0)}async function F(ve){var qe,Ye;jt({}),t(2,c=ve||new Pn),t(4,g={}),t(5,k={});const Me=((Ye=(qe=u==null?void 0:u.schema)==null?void 0:qe.filter(zt=>zt.type!="file"))==null?void 0:Ye.map(zt=>zt.name))||[];for(let zt in ve.$export())Me.includes(zt)||t(3,d[zt]=ve[zt],d);await Kt(),t(25,$=JSON.stringify(d)),K()}function L(){return"record_draft_"+((u==null?void 0:u.id)||"")+"_"+((c==null?void 0:c.id)||"")}function P(ve){try{const Me=window.localStorage.getItem(L());if(Me)return new Pn(JSON.parse(Me))}catch{}return ve}function R(ve){window.localStorage.setItem(L(),ve)}function q(){m&&(t(3,d=m),t(9,m=null))}function z(ve,Me){var zn;const qe=ve==null?void 0:ve.$clone(),Ye=Me==null?void 0:Me.$clone(),zt=(zn=u==null?void 0:u.schema)==null?void 0:zn.filter(Nn=>Nn.type==="file");for(let Nn of zt)qe==null||delete qe[Nn.name],Ye==null||delete Ye[Nn.name];return qe==null||delete qe.password,qe==null||delete qe.passwordConfirm,Ye==null||delete Ye.password,Ye==null||delete Ye.passwordConfirm,JSON.stringify(qe)==JSON.stringify(Ye)}function K(){t(9,m=null),window.localStorage.removeItem(L())}function Q(ve=!0){if(v||!r||!(u!=null&&u.id))return;t(10,v=!0);const Me=Z();let qe;S?qe=ce.collection(u.id).create(Me):qe=ce.collection(u.id).update(d.id,Me),qe.then(Ye=>{wt(S?"成功创建一条记录.":"成功更新一条记录."),K(),ve?(t(11,_=!1),A()):F(Ye),o("save",Ye)}).catch(Ye=>{ce.error(Ye)}).finally(()=>{t(10,v=!1)})}function J(){c!=null&&c.id&&Gt("是否删除",()=>ce.collection(c.collectionId).delete(c.id).then(()=>{A(),wt("成功删除"),o("delete",c)}).catch(ve=>{ce.error(ve)}))}function Z(){const ve=(d==null?void 0:d.$export())||{},Me=new FormData,qe={id:ve.id};for(const Ye of(u==null?void 0:u.schema)||[])qe[Ye.name]=!0;u!=null&&u.isAuth&&(qe.username=!0,qe.email=!0,qe.emailVisibility=!0,qe.password=!0,qe.passwordConfirm=!0,qe.verified=!0);for(const Ye in ve)qe[Ye]&&(typeof ve[Ye]>"u"&&(ve[Ye]=null),j.addValueToFormData(Me,Ye,ve[Ye]));for(const Ye in g){const zt=j.toArray(g[Ye]);for(const zn of zt)Me.append(Ye,zn)}for(const Ye in k){const zt=j.toArray(k[Ye]);for(const zn of zt)Me.append(Ye+"."+zn,"")}return Me}function se(){!(u!=null&&u.id)||!(c!=null&&c.email)||Gt(`是否发送验证邮件到： ${c.email}?`,()=>ce.collection(u.id).requestVerification(c.email).then(()=>{wt(`成功发送到： ${c.email}.`)}).catch(ve=>{ce.error(ve)}))}function ee(){!(u!=null&&u.id)||!(c!=null&&c.email)||Gt(`是否发送密码重置邮件到： ${c.email}?`,()=>ce.collection(u.id).requestPasswordReset(c.email).then(()=>{wt(`成功发送密码重置邮件到： ${c.email}.`)}).catch(ve=>{ce.error(ve)}))}function te(){s?Gt("是否不保存就退出",()=>{pe()}):pe()}async function pe(){const ve=c==null?void 0:c.$clone();if(ve){ve.id="",ve.created="",ve.updated="";const Me=(u==null?void 0:u.schema)||[];for(const qe of Me)qe.type==="file"&&delete ve[qe.name]}K(),O(ve),await Kt(),t(25,$="")}function Ee(ve){(ve.ctrlKey||ve.metaKey)&&ve.code=="KeyS"&&(ve.preventDefault(),ve.stopPropagation(),Q(!1))}const We=()=>A(),ot=()=>se(),xe=()=>ee(),Je=()=>te(),$t=()=>J(),Ft=()=>t(12,T=al),Tt=()=>t(12,T=xl),Dt=()=>q(),Lt=()=>K();function ie(){d.id=this.value,t(3,d)}function Le(ve){d=ve,t(3,d)}function at(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function Oe(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function ye(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function nt(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function qt(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function At(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function xt(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function Xn(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function xn(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function In(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}function _t(ve,Me){n.$$.not_equal(g[Me.name],ve)&&(g[Me.name]=ve,t(4,g))}function Un(ve,Me){n.$$.not_equal(k[Me.name],ve)&&(k[Me.name]=ve,t(5,k))}function Gi(ve,Me){n.$$.not_equal(d[Me.name],ve)&&(d[Me.name]=ve,t(3,d))}const ui=()=>s&&_?(Gt("是否不保存就退出 ?",()=>{t(11,_=!1),A()}),!1):(jt({}),K(),!0);function Qi(ve){le[ve?"unshift":"push"](()=>{f=ve,t(8,f)})}function Xi(ve){De.call(this,n,ve)}function fi(ve){De.call(this,n,ve)}return n.$$set=ve=>{"collection"in ve&&t(0,u=ve.collection)},n.$$.update=()=>{var ve;n.$$.dirty[0]&1&&t(14,l=!!((ve=u==null?void 0:u.schema)!=null&&ve.find(Me=>Me.type==="editor"))),n.$$.dirty[0]&48&&t(28,i=j.hasNonEmptyProps(g)||j.hasNonEmptyProps(k)),n.$$.dirty[0]&8&&t(26,C=JSON.stringify(d)),n.$$.dirty[0]&369098752&&t(7,s=i||$!=C),n.$$.dirty[0]&4&&t(6,S=!c||c.$isNew),n.$$.dirty[0]&192&&t(13,r=S||s),n.$$.dirty[0]&201326592&&E&&R(C)},[u,A,c,d,g,k,S,s,f,m,v,_,T,r,l,a,q,K,Q,J,se,ee,te,Ee,O,$,C,E,i,We,ot,xe,Je,$t,Ft,Tt,Dt,Lt,ie,Le,at,Oe,ye,nt,qt,At,xt,Xn,xn,In,_t,Un,Gi,ui,Qi,Xi,fi]}class rm extends ge{constructor(e){super(),be(this,e,lw,nw,_e,{collection:0,show:24,hide:1},null,[-1,-1,-1])}get show(){return this.$$.ctx[24]}get hide(){return this.$$.ctx[1]}}function iw(n){let e;return{c(){e=h("span"),e.textContent="N/A",p(e,"class","txt txt-hint")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function sw(n){let e,t,l,i,s,r;return{c(){e=h("div"),t=h("div"),l=B(n[2]),i=D(),s=h("div"),r=B(n[1]),p(t,"class","date"),p(s,"class","time svelte-zdiknu"),p(e,"class","datetime svelte-zdiknu")},m(o,a){w(o,e,a),b(e,t),b(t,l),b(e,i),b(e,s),b(s,r)},p(o,a){a&4&&oe(l,o[2]),a&2&&oe(r,o[1])},d(o){o&&y(e)}}}function rw(n){let e;function t(s,r){return s[0]?sw:iw}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,[r]){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:x,o:x,d(s){i.d(s),s&&y(e)}}}function ow(n,e,t){let l,i,{date:s=""}=e;return n.$$set=r=>{"date"in r&&t(0,s=r.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,l=s?s.substring(0,10):null),n.$$.dirty&1&&t(1,i=s?s.substring(10,19):null)},[s,i,l]}class cl extends ge{constructor(e){super(),be(this,e,ow,rw,_e,{date:0})}}function aw(n){let e,t,l,i,s;return{c(){e=h("i"),p(e,"class",t=n[2]?n[1]:n[0])},m(r,o){w(r,e,o),i||(s=[$e(l=Pe.call(null,e,n[2]?"":"Copy")),Y(e,"click",fn(n[3]))],i=!0)},p(r,[o]){o&7&&t!==(t=r[2]?r[1]:r[0])&&p(e,"class",t),l&&kt(l.update)&&o&4&&l.update.call(null,r[2]?"":"Copy")},i:x,o:x,d(r){r&&y(e),i=!1,Te(s)}}}function uw(n,e,t){let{value:l=""}=e,{idleClasses:i="ri-file-copy-line txt-sm link-hint"}=e,{successClasses:s="ri-check-line txt-sm txt-success"}=e,{successDuration:r=500}=e,o;function a(){l&&(j.copyToClipboard(l),clearTimeout(o),t(2,o=setTimeout(()=>{clearTimeout(o),t(2,o=null)},r)))}return Ut(()=>()=>{o&&clearTimeout(o)}),n.$$set=u=>{"value"in u&&t(4,l=u.value),"idleClasses"in u&&t(0,i=u.idleClasses),"successClasses"in u&&t(1,s=u.successClasses),"successDuration"in u&&t(5,r=u.successDuration)},[i,s,o,a,l,r]}class ai extends ge{constructor(e){super(),be(this,e,uw,aw,_e,{value:4,idleClasses:0,successClasses:1,successDuration:5})}}function rf(n,e,t){const l=n.slice();return l[18]=e[t],l[8]=t,l}function of(n,e,t){const l=n.slice();return l[13]=e[t],l}function af(n,e,t){const l=n.slice();return l[6]=e[t],l[8]=t,l}function uf(n,e,t){const l=n.slice();return l[6]=e[t],l[8]=t,l}function fw(n){const e=n.slice(),t=j.toArray(e[3]);e[16]=t;const l=e[2]?10:500;return e[17]=l,e}function cw(n){const e=n.slice(),t=j.toArray(e[3]);e[9]=t;const l=j.toArray(e[0].expand[e[1].name]);e[10]=l;const i=e[2]?20:500;return e[11]=i,e}function dw(n){const e=n.slice(),t=j.trimQuotedValue(JSON.stringify(e[3]))||'""';return e[5]=t,e}function pw(n){let e,t;return{c(){e=h("div"),t=B(n[3]),p(e,"class","block txt-break fallback-block svelte-jdf51v")},m(l,i){w(l,e,i),b(e,t)},p(l,i){i&8&&oe(t,l[3])},i:x,o:x,d(l){l&&y(e)}}}function mw(n){let e,t=j.truncate(n[3])+"",l,i;return{c(){e=h("span"),l=B(t),p(e,"class","txt txt-ellipsis"),p(e,"title",i=j.truncate(n[3]))},m(s,r){w(s,e,r),b(e,l)},p(s,r){r&8&&t!==(t=j.truncate(s[3])+"")&&oe(l,t),r&8&&i!==(i=j.truncate(s[3]))&&p(e,"title",i)},i:x,o:x,d(s){s&&y(e)}}}function _w(n){let e,t=[],l=new Map,i,s,r=n[16].slice(0,n[17]);const o=u=>u[8]+u[18];for(let u=0;u<r.length;u+=1){let f=rf(n,r,u),c=o(f);l.set(c,t[u]=ff(c,f))}let a=n[16].length>n[17]&&cf();return{c(){e=h("div");for(let u=0;u<t.length;u+=1)t[u].c();i=D(),a&&a.c(),p(e,"class","inline-flex")},m(u,f){w(u,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);b(e,i),a&&a.m(e,null),s=!0},p(u,f){f&13&&(r=u[16].slice(0,u[17]),ue(),t=rt(t,f,o,1,u,r,l,e,Ot,ff,i,rf),fe()),u[16].length>u[17]?a||(a=cf(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(u){if(!s){for(let f=0;f<r.length;f+=1)M(t[f]);s=!0}},o(u){for(let f=0;f<t.length;f+=1)I(t[f]);s=!1},d(u){u&&y(e);for(let f=0;f<t.length;f+=1)t[f].d();a&&a.d()}}}function hw(n){let e,t,l,i,s;const r=[Cw,Sw],o=[];function a(f,c){return f[10].length?0:1}t=a(n),l=o[t]=r[t](n);let u=n[9].length>n[11]&&mf();return{c(){e=h("div"),l.c(),i=D(),u&&u.c(),p(e,"class","inline-flex")},m(f,c){w(f,e,c),o[t].m(e,null),b(e,i),u&&u.m(e,null),s=!0},p(f,c){let d=t;t=a(f),t===d?o[t].p(f,c):(ue(),I(o[d],1,1,()=>{o[d]=null}),fe(),l=o[t],l?l.p(f,c):(l=o[t]=r[t](f),l.c()),M(l,1),l.m(e,i)),f[9].length>f[11]?u||(u=mf(),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(f){s||(M(l),s=!0)},o(f){I(l),s=!1},d(f){f&&y(e),o[t].d(),u&&u.d()}}}function bw(n){let e,t=[],l=new Map,i=j.toArray(n[3]);const s=r=>r[8]+r[6];for(let r=0;r<i.length;r+=1){let o=uf(n,i,r),a=s(o);l.set(a,t[r]=_f(a,o))}return{c(){e=h("div");for(let r=0;r<t.length;r+=1)t[r].c();p(e,"class","inline-flex")},m(r,o){w(r,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(r,o){o&8&&(i=j.toArray(r[3]),t=rt(t,o,s,1,r,i,l,e,dl,_f,null,uf))},i:x,o:x,d(r){r&&y(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function gw(n){let e,t;return e=new cl({props:{date:n[3]}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&8&&(s.date=l[3]),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function vw(n){let e,t,l,i;const s=[Ow,Ew],r=[];function o(a,u){return a[2]?0:1}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(a,u){r[e].m(a,u),w(a,l,u),i=!0},p(a,u){let f=e;e=o(a),e===f?r[e].p(a,u):(ue(),I(r[f],1,1,()=>{r[f]=null}),fe(),t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),M(t,1),t.m(l.parentNode,l))},i(a){i||(M(t),i=!0)},o(a){I(t),i=!1},d(a){r[e].d(a),a&&y(l)}}}function kw(n){let e,t=j.truncate(n[3])+"",l,i,s;return{c(){e=h("a"),l=B(t),p(e,"class","txt-ellipsis"),p(e,"href",n[3]),p(e,"target","_blank"),p(e,"rel","noopener noreferrer")},m(r,o){w(r,e,o),b(e,l),i||(s=[$e(Pe.call(null,e,"Open in new tab")),Y(e,"click",fn(n[4]))],i=!0)},p(r,o){o&8&&t!==(t=j.truncate(r[3])+"")&&oe(l,t),o&8&&p(e,"href",r[3])},i:x,o:x,d(r){r&&y(e),i=!1,Te(s)}}}function yw(n){let e,t;return{c(){e=h("span"),t=B(n[3]),p(e,"class","txt")},m(l,i){w(l,e,i),b(e,t)},p(l,i){i&8&&oe(t,l[3])},i:x,o:x,d(l){l&&y(e)}}}function ww(n){let e,t=n[3]?"True":"False",l;return{c(){e=h("span"),l=B(t),p(e,"class","txt")},m(i,s){w(i,e,s),b(e,l)},p(i,s){s&8&&t!==(t=i[3]?"True":"False")&&oe(l,t)},i:x,o:x,d(i){i&&y(e)}}}function $w(n){let e;return{c(){e=h("span"),e.textContent="N/A",p(e,"class","txt-hint")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function Tw(n){let e,t,l,i;const s=[Aw,Dw],r=[];function o(a,u){return a[2]?0:1}return e=o(n),t=r[e]=s[e](n),{c(){t.c(),l=ke()},m(a,u){r[e].m(a,u),w(a,l,u),i=!0},p(a,u){let f=e;e=o(a),e===f?r[e].p(a,u):(ue(),I(r[f],1,1,()=>{r[f]=null}),fe(),t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),M(t,1),t.m(l.parentNode,l))},i(a){i||(M(t),i=!0)},o(a){I(t),i=!1},d(a){r[e].d(a),a&&y(l)}}}function ff(n,e){let t,l,i;return l=new pr({props:{record:e[0],filename:e[18],size:"sm"}}),{key:n,first:null,c(){t=ke(),U(l.$$.fragment),this.first=t},m(s,r){w(s,t,r),H(l,s,r),i=!0},p(s,r){e=s;const o={};r&1&&(o.record=e[0]),r&12&&(o.filename=e[18]),l.$set(o)},i(s){i||(M(l.$$.fragment,s),i=!0)},o(s){I(l.$$.fragment,s),i=!1},d(s){s&&y(t),V(l,s)}}}function cf(n){let e;return{c(){e=B("...")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Sw(n){let e,t=n[9].slice(0,n[11]),l=[];for(let i=0;i<t.length;i+=1)l[i]=df(of(n,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ke()},m(i,s){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(i,s);w(i,e,s)},p(i,s){if(s&12){t=i[9].slice(0,i[11]);let r;for(r=0;r<t.length;r+=1){const o=of(i,t,r);l[r]?l[r].p(o,s):(l[r]=df(o),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},i:x,o:x,d(i){it(l,i),i&&y(e)}}}function Cw(n){let e=[],t=new Map,l,i,s=n[10].slice(0,n[11]);const r=o=>o[8]+o[6];for(let o=0;o<s.length;o+=1){let a=af(n,s,o),u=r(a);t.set(u,e[o]=pf(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=ke()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);w(o,l,a),i=!0},p(o,a){a&7&&(s=o[10].slice(0,o[11]),ue(),e=rt(e,a,r,1,o,s,t,l.parentNode,Ot,pf,l,af),fe())},i(o){if(!i){for(let a=0;a<s.length;a+=1)M(e[a]);i=!0}},o(o){for(let a=0;a<e.length;a+=1)I(e[a]);i=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&y(l)}}}function df(n){let e,t=n[13]+"",l;return{c(){e=h("span"),l=B(t),p(e,"class","label")},m(i,s){w(i,e,s),b(e,l)},p(i,s){s&12&&t!==(t=i[13]+"")&&oe(l,t)},d(i){i&&y(e)}}}function pf(n,e){var r;let t,l,i,s;return l=new Zi({props:{record:e[6],displayFields:(r=e[1].options)==null?void 0:r.displayFields}}),{key:n,first:null,c(){t=h("span"),U(l.$$.fragment),i=D(),p(t,"class","label"),this.first=t},m(o,a){w(o,t,a),H(l,t,null),b(t,i),s=!0},p(o,a){var f;e=o;const u={};a&7&&(u.record=e[6]),a&2&&(u.displayFields=(f=e[1].options)==null?void 0:f.displayFields),l.$set(u)},i(o){s||(M(l.$$.fragment,o),s=!0)},o(o){I(l.$$.fragment,o),s=!1},d(o){o&&y(t),V(l)}}}function mf(n){let e;return{c(){e=B("...")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function _f(n,e){let t,l=e[6]+"",i;return{key:n,first:null,c(){t=h("span"),i=B(l),p(t,"class","label"),this.first=t},m(s,r){w(s,t,r),b(t,i)},p(s,r){e=s,r&8&&l!==(l=e[6]+"")&&oe(i,l)},d(s){s&&y(t)}}}function Ew(n){let e,t;return e=new or({props:{scriptSrc:"./libs/tinymce/tinymce.min.js",cssClass:"tinymce-preview",conf:{branding:!1,promotion:!1,menubar:!1,min_height:30,statusbar:!1,height:59,max_height:500,autoresize_bottom_margin:5,resize:!1,skin:"pocketbase",content_style:"body { font-size: 14px }",toolbar:"",plugins:["autoresize"]},value:n[3],disabled:!0}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&8&&(s.value=l[3]),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ow(n){let e,t=j.truncate(j.plainText(n[3]),250)+"",l;return{c(){e=h("span"),l=B(t),p(e,"class","txt")},m(i,s){w(i,e,s),b(e,l)},p(i,s){s&8&&t!==(t=j.truncate(j.plainText(i[3]),250)+"")&&oe(l,t)},i:x,o:x,d(i){i&&y(e)}}}function Dw(n){let e,t=j.truncate(n[5],500,!0)+"",l,i,s,r,o=n[5].length>500&&hf(n);return{c(){e=h("span"),l=B(t),i=D(),o&&o.c(),s=ke(),p(e,"class","txt")},m(a,u){w(a,e,u),b(e,l),w(a,i,u),o&&o.m(a,u),w(a,s,u),r=!0},p(a,u){(!r||u&8)&&t!==(t=j.truncate(a[5],500,!0)+"")&&oe(l,t),a[5].length>500?o?(o.p(a,u),u&8&&M(o,1)):(o=hf(a),o.c(),M(o,1),o.m(s.parentNode,s)):o&&(ue(),I(o,1,1,()=>{o=null}),fe())},i(a){r||(M(o),r=!0)},o(a){I(o),r=!1},d(a){a&&y(e),a&&y(i),o&&o.d(a),a&&y(s)}}}function Aw(n){let e,t=j.truncate(n[5])+"",l;return{c(){e=h("span"),l=B(t),p(e,"class","txt txt-ellipsis")},m(i,s){w(i,e,s),b(e,l)},p(i,s){s&8&&t!==(t=j.truncate(i[5])+"")&&oe(l,t)},i:x,o:x,d(i){i&&y(e)}}}function hf(n){let e,t;return e=new ai({props:{value:JSON.stringify(n[3],null,2)}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&8&&(s.value=JSON.stringify(l[3],null,2)),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Mw(n){let e,t,l,i,s;const r=[Tw,$w,ww,yw,kw,vw,gw,bw,hw,_w,mw,pw],o=[];function a(f,c){return c&8&&(e=null),f[1].type==="json"?0:(e==null&&(e=!!j.isEmpty(f[3])),e?1:f[1].type==="bool"?2:f[1].type==="number"?3:f[1].type==="url"?4:f[1].type==="editor"?5:f[1].type==="date"?6:f[1].type==="select"?7:f[1].type==="relation"?8:f[1].type==="file"?9:f[2]?10:11)}function u(f,c){return c===0?dw(f):c===8?cw(f):c===9?fw(f):f}return t=a(n,-1),l=o[t]=r[t](u(n,t)),{c(){l.c(),i=ke()},m(f,c){o[t].m(f,c),w(f,i,c),s=!0},p(f,[c]){let d=t;t=a(f,c),t===d?o[t].p(u(f,t),c):(ue(),I(o[d],1,1,()=>{o[d]=null}),fe(),l=o[t],l?l.p(u(f,t),c):(l=o[t]=r[t](u(f,t)),l.c()),M(l,1),l.m(i.parentNode,i))},i(f){s||(M(l),s=!0)},o(f){I(l),s=!1},d(f){o[t].d(f),f&&y(i)}}}function Iw(n,e,t){let l,{record:i}=e,{field:s}=e,{short:r=!1}=e;function o(a){De.call(this,n,a)}return n.$$set=a=>{"record"in a&&t(0,i=a.record),"field"in a&&t(1,s=a.field),"short"in a&&t(2,r=a.short)},n.$$.update=()=>{n.$$.dirty&3&&t(3,l=i[s.name])},[i,s,r,l,o]}class om extends ge{constructor(e){super(),be(this,e,Iw,Mw,_e,{record:0,field:1,short:2})}}function bf(n,e,t){const l=n.slice();return l[10]=e[t],l}function gf(n){let e,t,l=n[10].name+"",i,s,r,o,a;return o=new om({props:{field:n[10],record:n[3]}}),{c(){e=h("tr"),t=h("td"),i=B(l),s=D(),r=h("td"),U(o.$$.fragment),p(t,"class","min-width txt-hint txt-bold"),p(r,"class","col-field svelte-1nt58f7")},m(u,f){w(u,e,f),b(e,t),b(t,i),b(e,s),b(e,r),H(o,r,null),a=!0},p(u,f){(!a||f&1)&&l!==(l=u[10].name+"")&&oe(i,l);const c={};f&1&&(c.field=u[10]),f&8&&(c.record=u[3]),o.$set(c)},i(u){a||(M(o.$$.fragment,u),a=!0)},o(u){I(o.$$.fragment,u),a=!1},d(u){u&&y(e),V(o)}}}function vf(n){let e,t,l,i,s,r;return s=new cl({props:{date:n[3].created}}),{c(){e=h("tr"),t=h("td"),t.textContent="created",l=D(),i=h("td"),U(s.$$.fragment),p(t,"class","min-width txt-hint txt-bold"),p(i,"class","col-field svelte-1nt58f7")},m(o,a){w(o,e,a),b(e,t),b(e,l),b(e,i),H(s,i,null),r=!0},p(o,a){const u={};a&8&&(u.date=o[3].created),s.$set(u)},i(o){r||(M(s.$$.fragment,o),r=!0)},o(o){I(s.$$.fragment,o),r=!1},d(o){o&&y(e),V(s)}}}function kf(n){let e,t,l,i,s,r;return s=new cl({props:{date:n[3].updated}}),{c(){e=h("tr"),t=h("td"),t.textContent="updated",l=D(),i=h("td"),U(s.$$.fragment),p(t,"class","min-width txt-hint txt-bold"),p(i,"class","col-field svelte-1nt58f7")},m(o,a){w(o,e,a),b(e,t),b(e,l),b(e,i),H(s,i,null),r=!0},p(o,a){const u={};a&8&&(u.date=o[3].updated),s.$set(u)},i(o){r||(M(s.$$.fragment,o),r=!0)},o(o){I(s.$$.fragment,o),r=!1},d(o){o&&y(e),V(s)}}}function Nw(n){var E;let e,t,l,i,s,r,o,a,u,f,c=n[3].id+"",d,m,v,_,g;a=new ai({props:{value:n[3].id}});let k=(E=n[0])==null?void 0:E.schema,$=[];for(let O=0;O<k.length;O+=1)$[O]=gf(bf(n,k,O));const C=O=>I($[O],1,1,()=>{$[O]=null});let T=n[3].created&&vf(n),S=n[3].updated&&kf(n);return{c(){e=h("table"),t=h("tbody"),l=h("tr"),i=h("td"),i.textContent="id",s=D(),r=h("td"),o=h("div"),U(a.$$.fragment),u=D(),f=h("span"),d=B(c),m=D();for(let O=0;O<$.length;O+=1)$[O].c();v=D(),T&&T.c(),_=D(),S&&S.c(),p(i,"class","min-width txt-hint txt-bold"),p(f,"class","txt"),p(o,"class","label"),p(r,"class","col-field svelte-1nt58f7"),p(e,"class","table-border preview-table")},m(O,A){w(O,e,A),b(e,t),b(t,l),b(l,i),b(l,s),b(l,r),b(r,o),H(a,o,null),b(o,u),b(o,f),b(f,d),b(t,m);for(let N=0;N<$.length;N+=1)$[N]&&$[N].m(t,null);b(t,v),T&&T.m(t,null),b(t,_),S&&S.m(t,null),g=!0},p(O,A){var F;const N={};if(A&8&&(N.value=O[3].id),a.$set(N),(!g||A&8)&&c!==(c=O[3].id+"")&&oe(d,c),A&9){k=(F=O[0])==null?void 0:F.schema;let L;for(L=0;L<k.length;L+=1){const P=bf(O,k,L);$[L]?($[L].p(P,A),M($[L],1)):($[L]=gf(P),$[L].c(),M($[L],1),$[L].m(t,v))}for(ue(),L=k.length;L<$.length;L+=1)C(L);fe()}O[3].created?T?(T.p(O,A),A&8&&M(T,1)):(T=vf(O),T.c(),M(T,1),T.m(t,_)):T&&(ue(),I(T,1,1,()=>{T=null}),fe()),O[3].updated?S?(S.p(O,A),A&8&&M(S,1)):(S=kf(O),S.c(),M(S,1),S.m(t,null)):S&&(ue(),I(S,1,1,()=>{S=null}),fe())},i(O){if(!g){M(a.$$.fragment,O);for(let A=0;A<k.length;A+=1)M($[A]);M(T),M(S),g=!0}},o(O){I(a.$$.fragment,O),$=$.filter(Boolean);for(let A=0;A<$.length;A+=1)I($[A]);I(T),I(S),g=!1},d(O){O&&y(e),V(a),it($,O),T&&T.d(),S&&S.d()}}}function Fw(n){var r;let e,t,l=((r=n[0])==null?void 0:r.name)+"",i,s;return{c(){e=h("h4"),t=h("strong"),i=B(l),s=B(" record preview")},m(o,a){w(o,e,a),b(e,t),b(t,i),b(e,s)},p(o,a){var u;a&1&&l!==(l=((u=o[0])==null?void 0:u.name)+"")&&oe(i,l)},d(o){o&&y(e)}}}function Lw(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<span class="txt">Close</span>',p(e,"type","button"),p(e,"class","btn btn-transparent")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[6]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function qw(n){let e,t,l={class:"record-preview-panel "+(n[4]?"overlay-panel-xl":"overlay-panel-lg"),$$slots:{footer:[Lw],header:[Fw],default:[Nw]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[7](e),e.$on("hide",n[8]),e.$on("show",n[9]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&16&&(r.class="record-preview-panel "+(i[4]?"overlay-panel-xl":"overlay-panel-lg")),s&8201&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[7](null),V(e,i)}}}function Pw(n,e,t){let l,{collection:i}=e,s,r=new Pn;function o(m){return t(3,r=m),s==null?void 0:s.show()}function a(){return s==null?void 0:s.hide()}const u=()=>a();function f(m){le[m?"unshift":"push"](()=>{s=m,t(2,s)})}function c(m){De.call(this,n,m)}function d(m){De.call(this,n,m)}return n.$$set=m=>{"collection"in m&&t(0,i=m.collection)},n.$$.update=()=>{var m;n.$$.dirty&1&&t(4,l=!!((m=i==null?void 0:i.schema)!=null&&m.find(v=>v.type==="editor")))},[i,a,s,r,l,o,u,f,c,d]}class Rw extends ge{constructor(e){super(),be(this,e,Pw,qw,_e,{collection:0,show:5,hide:1})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[1]}}const jw=n=>({}),yf=n=>({}),Hw=n=>({}),wf=n=>({});function Vw(n){let e,t,l,i,s,r,o,a;const u=n[5].before,f=ut(u,n,n[4],wf),c=n[5].default,d=ut(c,n,n[4],null),m=n[5].after,v=ut(m,n,n[4],yf);return{c(){e=h("div"),f&&f.c(),t=D(),l=h("div"),d&&d.c(),s=D(),v&&v.c(),p(l,"class",i="horizontal-scroller "+n[0]+" "+n[3]+" svelte-wc2j9h"),p(e,"class","horizontal-scroller-wrapper svelte-wc2j9h")},m(_,g){w(_,e,g),f&&f.m(e,null),b(e,t),b(e,l),d&&d.m(l,null),n[6](l),b(e,s),v&&v.m(e,null),r=!0,o||(a=[Y(window,"resize",n[1]),Y(l,"scroll",n[1])],o=!0)},p(_,[g]){f&&f.p&&(!r||g&16)&&ct(f,u,_,_[4],r?ft(u,_[4],g,Hw):dt(_[4]),wf),d&&d.p&&(!r||g&16)&&ct(d,c,_,_[4],r?ft(c,_[4],g,null):dt(_[4]),null),(!r||g&9&&i!==(i="horizontal-scroller "+_[0]+" "+_[3]+" svelte-wc2j9h"))&&p(l,"class",i),v&&v.p&&(!r||g&16)&&ct(v,m,_,_[4],r?ft(m,_[4],g,jw):dt(_[4]),yf)},i(_){r||(M(f,_),M(d,_),M(v,_),r=!0)},o(_){I(f,_),I(d,_),I(v,_),r=!1},d(_){_&&y(e),f&&f.d(_),d&&d.d(_),n[6](null),v&&v.d(_),o=!1,Te(a)}}}function Uw(n,e,t){let{$$slots:l={},$$scope:i}=e,{class:s=""}=e,r=null,o="",a=null,u;function f(){r&&(clearTimeout(a),a=setTimeout(()=>{const d=r.offsetWidth,m=r.scrollWidth;m-d?(t(3,o="scrollable"),r.scrollLeft===0?t(3,o+=" scroll-start"):r.scrollLeft+d==m&&t(3,o+=" scroll-end")):t(3,o="")},100))}Ut(()=>(f(),u=new MutationObserver(()=>{f()}),u.observe(r,{attributeFilter:["width"],childList:!0,subtree:!0}),()=>{u==null||u.disconnect(),clearTimeout(a)}));function c(d){le[d?"unshift":"push"](()=>{r=d,t(2,r)})}return n.$$set=d=>{"class"in d&&t(0,s=d.class),"$$scope"in d&&t(4,i=d.$$scope)},[s,f,r,o,i,l,c]}class am extends ge{constructor(e){super(),be(this,e,Uw,Vw,_e,{class:0,refresh:1})}get refresh(){return this.$$.ctx[1]}}function zw(n){let e,t,l,i,s;const r=n[6].default,o=ut(r,n,n[5],null);return{c(){e=h("th"),o&&o.c(),p(e,"tabindex","0"),p(e,"title",n[2]),p(e,"class",t="col-sort "+n[1]),X(e,"col-sort-disabled",n[3]),X(e,"sort-active",n[0]==="-"+n[2]||n[0]==="+"+n[2]),X(e,"sort-desc",n[0]==="-"+n[2]),X(e,"sort-asc",n[0]==="+"+n[2])},m(a,u){w(a,e,u),o&&o.m(e,null),l=!0,i||(s=[Y(e,"click",n[7]),Y(e,"keydown",n[8])],i=!0)},p(a,[u]){o&&o.p&&(!l||u&32)&&ct(o,r,a,a[5],l?ft(r,a[5],u,null):dt(a[5]),null),(!l||u&4)&&p(e,"title",a[2]),(!l||u&2&&t!==(t="col-sort "+a[1]))&&p(e,"class",t),(!l||u&10)&&X(e,"col-sort-disabled",a[3]),(!l||u&7)&&X(e,"sort-active",a[0]==="-"+a[2]||a[0]==="+"+a[2]),(!l||u&7)&&X(e,"sort-desc",a[0]==="-"+a[2]),(!l||u&7)&&X(e,"sort-asc",a[0]==="+"+a[2])},i(a){l||(M(o,a),l=!0)},o(a){I(o,a),l=!1},d(a){a&&y(e),o&&o.d(a),i=!1,Te(s)}}}function Bw(n,e,t){let{$$slots:l={},$$scope:i}=e,{class:s=""}=e,{name:r}=e,{sort:o=""}=e,{disable:a=!1}=e;function u(){a||("-"+r===o?t(0,o="+"+r):t(0,o="-"+r))}const f=()=>u(),c=d=>{(d.code==="Enter"||d.code==="Space")&&(d.preventDefault(),u())};return n.$$set=d=>{"class"in d&&t(1,s=d.class),"name"in d&&t(2,r=d.name),"sort"in d&&t(0,o=d.sort),"disable"in d&&t(3,a=d.disable),"$$scope"in d&&t(5,i=d.$$scope)},[o,s,r,a,u,i,l,f,c]}class Cn extends ge{constructor(e){super(),be(this,e,Bw,zw,_e,{class:1,name:2,sort:0,disable:3})}}function $f(n,e,t){const l=n.slice();return l[55]=e[t],l}function Tf(n,e,t){const l=n.slice();return l[58]=e[t],l}function Sf(n,e,t){const l=n.slice();return l[58]=e[t],l}function Cf(n,e,t){const l=n.slice();return l[51]=e[t],l}function Ef(n){let e;function t(s,r){return s[12]?Kw:Ww}let l=t(n),i=l(n);return{c(){e=h("th"),i.c(),p(e,"class","bulk-select-col min-width")},m(s,r){w(s,e,r),i.m(e,null)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e,null)))},d(s){s&&y(e),i.d()}}}function Ww(n){let e,t,l,i,s,r,o;return{c(){e=h("div"),t=h("input"),i=D(),s=h("label"),p(t,"type","checkbox"),p(t,"id","checkbox_0"),t.disabled=l=!n[4].length,t.checked=n[16],p(s,"for","checkbox_0"),p(e,"class","form-field")},m(a,u){w(a,e,u),b(e,t),b(e,i),b(e,s),r||(o=Y(t,"change",n[28]),r=!0)},p(a,u){u[0]&16&&l!==(l=!a[4].length)&&(t.disabled=l),u[0]&65536&&(t.checked=a[16])},d(a){a&&y(e),r=!1,o()}}}function Kw(n){let e;return{c(){e=h("span"),p(e,"class","loader loader-sm")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function Of(n){let e,t,l;function i(r){n[29](r)}let s={class:"col-type-text col-field-id",name:"id",$$slots:{default:[Yw]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new Cn({props:s}),le.push(()=>me(e,"sort",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o[2]&2&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Yw(n){let e,t,l,i;return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),i.textContent="id",p(t,"class",j.getFieldTypeIcon("primary")),p(i,"class","txt"),p(e,"class","col-header-content")},m(s,r){w(s,e,r),b(e,t),b(e,l),b(e,i)},p:x,d(s){s&&y(e)}}}function Df(n){let e=!n[7].includes("@username"),t,l=!n[7].includes("@email"),i,s,r=e&&Af(n),o=l&&Mf(n);return{c(){r&&r.c(),t=D(),o&&o.c(),i=ke()},m(a,u){r&&r.m(a,u),w(a,t,u),o&&o.m(a,u),w(a,i,u),s=!0},p(a,u){u[0]&128&&(e=!a[7].includes("@username")),e?r?(r.p(a,u),u[0]&128&&M(r,1)):(r=Af(a),r.c(),M(r,1),r.m(t.parentNode,t)):r&&(ue(),I(r,1,1,()=>{r=null}),fe()),u[0]&128&&(l=!a[7].includes("@email")),l?o?(o.p(a,u),u[0]&128&&M(o,1)):(o=Mf(a),o.c(),M(o,1),o.m(i.parentNode,i)):o&&(ue(),I(o,1,1,()=>{o=null}),fe())},i(a){s||(M(r),M(o),s=!0)},o(a){I(r),I(o),s=!1},d(a){r&&r.d(a),a&&y(t),o&&o.d(a),a&&y(i)}}}function Af(n){let e,t,l;function i(r){n[30](r)}let s={class:"col-type-text col-field-id",name:"username",$$slots:{default:[Jw]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new Cn({props:s}),le.push(()=>me(e,"sort",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o[2]&2&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Jw(n){let e,t,l,i;return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),i.textContent="username",p(t,"class",j.getFieldTypeIcon("user")),p(i,"class","txt"),p(e,"class","col-header-content")},m(s,r){w(s,e,r),b(e,t),b(e,l),b(e,i)},p:x,d(s){s&&y(e)}}}function Mf(n){let e,t,l;function i(r){n[31](r)}let s={class:"col-type-email col-field-email",name:"email",$$slots:{default:[Zw]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new Cn({props:s}),le.push(()=>me(e,"sort",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o[2]&2&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Zw(n){let e,t,l,i;return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),i.textContent="email",p(t,"class",j.getFieldTypeIcon("email")),p(i,"class","txt"),p(e,"class","col-header-content")},m(s,r){w(s,e,r),b(e,t),b(e,l),b(e,i)},p:x,d(s){s&&y(e)}}}function Gw(n){let e,t,l,i,s,r=n[58].name+"",o;return{c(){e=h("div"),t=h("i"),i=D(),s=h("span"),o=B(r),p(t,"class",l=j.getFieldTypeIcon(n[58].type)),p(s,"class","txt"),p(e,"class","col-header-content")},m(a,u){w(a,e,u),b(e,t),b(e,i),b(e,s),b(s,o)},p(a,u){u[0]&262144&&l!==(l=j.getFieldTypeIcon(a[58].type))&&p(t,"class",l),u[0]&262144&&r!==(r=a[58].name+"")&&oe(o,r)},d(a){a&&y(e)}}}function If(n,e){let t,l,i,s;function r(a){e[32](a)}let o={class:"col-type-"+e[58].type+" col-field-"+e[58].name,name:e[58].name,$$slots:{default:[Gw]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.sort=e[0]),l=new Cn({props:o}),le.push(()=>me(l,"sort",r)),{key:n,first:null,c(){t=ke(),U(l.$$.fragment),this.first=t},m(a,u){w(a,t,u),H(l,a,u),s=!0},p(a,u){e=a;const f={};u[0]&262144&&(f.class="col-type-"+e[58].type+" col-field-"+e[58].name),u[0]&262144&&(f.name=e[58].name),u[0]&262144|u[2]&2&&(f.$$scope={dirty:u,ctx:e}),!i&&u[0]&1&&(i=!0,f.sort=e[0],he(()=>i=!1)),l.$set(f)},i(a){s||(M(l.$$.fragment,a),s=!0)},o(a){I(l.$$.fragment,a),s=!1},d(a){a&&y(t),V(l,a)}}}function Nf(n){let e,t,l;function i(r){n[33](r)}let s={class:"col-type-date col-field-created",name:"created",$$slots:{default:[Qw]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new Cn({props:s}),le.push(()=>me(e,"sort",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o[2]&2&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Qw(n){let e,t,l,i;return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),i.textContent="created",p(t,"class",j.getFieldTypeIcon("date")),p(i,"class","txt"),p(e,"class","col-header-content")},m(s,r){w(s,e,r),b(e,t),b(e,l),b(e,i)},p:x,d(s){s&&y(e)}}}function Ff(n){let e,t,l;function i(r){n[34](r)}let s={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[Xw]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new Cn({props:s}),le.push(()=>me(e,"sort",i)),{c(){U(e.$$.fragment)},m(r,o){H(e,r,o),l=!0},p(r,o){const a={};o[2]&2&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],he(()=>t=!1)),e.$set(a)},i(r){l||(M(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function Xw(n){let e,t,l,i;return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),i.textContent="updated",p(t,"class",j.getFieldTypeIcon("date")),p(i,"class","txt"),p(e,"class","col-header-content")},m(s,r){w(s,e,r),b(e,t),b(e,l),b(e,i)},p:x,d(s){s&&y(e)}}}function Lf(n){let e;return{c(){e=h("button"),e.innerHTML='<i class="ri-more-line"></i>',p(e,"type","button"),p(e,"aria-label","Toggle columns"),p(e,"class","btn btn-sm btn-transparent p-0")},m(t,l){w(t,e,l),n[35](e)},p:x,d(t){t&&y(e),n[35](null)}}}function qf(n){let e;function t(s,r){return s[12]?e3:xw}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&y(e)}}}function xw(n){let e,t,l,i,s;function r(u,f){var c,d;if((c=u[1])!=null&&c.length)return n3;if(!((d=u[2])!=null&&d.$isView))return t3}let o=r(n),a=o&&o(n);return{c(){e=h("tr"),t=h("td"),l=h("h6"),l.textContent="暂无数据.",i=D(),a&&a.c(),s=D(),p(t,"colspan","99"),p(t,"class","txt-center txt-hint p-xs")},m(u,f){w(u,e,f),b(e,t),b(t,l),b(t,i),a&&a.m(t,null),b(e,s)},p(u,f){o===(o=r(u))&&a?a.p(u,f):(a&&a.d(1),a=o&&o(u),a&&(a.c(),a.m(t,null)))},d(u){u&&y(e),a&&a.d()}}}function e3(n){let e;return{c(){e=h("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                    `},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function t3(n){let e,t,l;return{c(){e=h("button"),e.innerHTML=`<i class="ri-add-line"></i> 
                                    <span class="txt">新纪录</span>`,p(e,"type","button"),p(e,"class","btn btn-secondary btn-expanded m-t-sm")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[40]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function n3(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<span class="txt">重置搜索</span>',p(e,"type","button"),p(e,"class","btn btn-hint btn-expanded m-t-sm")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[39]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function Pf(n){let e,t,l,i,s,r,o,a,u,f;function c(){return n[36](n[55])}return{c(){e=h("td"),t=h("div"),l=h("input"),r=D(),o=h("label"),p(l,"type","checkbox"),p(l,"id",i="checkbox_"+n[55].id),l.checked=s=n[6][n[55].id],p(o,"for",a="checkbox_"+n[55].id),p(t,"class","form-field"),p(e,"class","bulk-select-col min-width")},m(d,m){w(d,e,m),b(e,t),b(t,l),b(t,r),b(t,o),u||(f=[Y(l,"change",c),Y(t,"click",fn(n[26]))],u=!0)},p(d,m){n=d,m[0]&16&&i!==(i="checkbox_"+n[55].id)&&p(l,"id",i),m[0]&80&&s!==(s=n[6][n[55].id])&&(l.checked=s),m[0]&16&&a!==(a="checkbox_"+n[55].id)&&p(o,"for",a)},d(d){d&&y(e),u=!1,Te(f)}}}function Rf(n){let e,t,l,i,s,r,o=n[55].id+"",a,u,f;i=new ai({props:{value:n[55].id}});let c=n[2].$isAuth&&jf(n);return{c(){e=h("td"),t=h("div"),l=h("div"),U(i.$$.fragment),s=D(),r=h("div"),a=B(o),u=D(),c&&c.c(),p(r,"class","txt"),p(l,"class","label"),p(t,"class","flex flex-gap-5"),p(e,"class","col-type-text col-field-id")},m(d,m){w(d,e,m),b(e,t),b(t,l),H(i,l,null),b(l,s),b(l,r),b(r,a),b(t,u),c&&c.m(t,null),f=!0},p(d,m){const v={};m[0]&16&&(v.value=d[55].id),i.$set(v),(!f||m[0]&16)&&o!==(o=d[55].id+"")&&oe(a,o),d[2].$isAuth?c?c.p(d,m):(c=jf(d),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(d){f||(M(i.$$.fragment,d),f=!0)},o(d){I(i.$$.fragment,d),f=!1},d(d){d&&y(e),V(i),c&&c.d()}}}function jf(n){let e;function t(s,r){return s[55].verified?i3:l3}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,r){l!==(l=t(s))&&(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&y(e)}}}function l3(n){let e,t,l;return{c(){e=h("i"),p(e,"class","ri-error-warning-fill txt-sm txt-hint")},m(i,s){w(i,e,s),t||(l=$e(Pe.call(null,e,"Unverified")),t=!0)},d(i){i&&y(e),t=!1,l()}}}function i3(n){let e,t,l;return{c(){e=h("i"),p(e,"class","ri-checkbox-circle-fill txt-sm txt-success")},m(i,s){w(i,e,s),t||(l=$e(Pe.call(null,e,"Verified")),t=!0)},d(i){i&&y(e),t=!1,l()}}}function Hf(n){let e=!n[7].includes("@username"),t,l=!n[7].includes("@email"),i,s=e&&Vf(n),r=l&&Uf(n);return{c(){s&&s.c(),t=D(),r&&r.c(),i=ke()},m(o,a){s&&s.m(o,a),w(o,t,a),r&&r.m(o,a),w(o,i,a)},p(o,a){a[0]&128&&(e=!o[7].includes("@username")),e?s?s.p(o,a):(s=Vf(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),a[0]&128&&(l=!o[7].includes("@email")),l?r?r.p(o,a):(r=Uf(o),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(o){s&&s.d(o),o&&y(t),r&&r.d(o),o&&y(i)}}}function Vf(n){let e,t;function l(r,o){return o[0]&16&&(t=null),t==null&&(t=!!j.isEmpty(r[55].username)),t?r3:s3}let i=l(n,[-1,-1,-1]),s=i(n);return{c(){e=h("td"),s.c(),p(e,"class","col-type-text col-field-username")},m(r,o){w(r,e,o),s.m(e,null)},p(r,o){i===(i=l(r,o))&&s?s.p(r,o):(s.d(1),s=i(r),s&&(s.c(),s.m(e,null)))},d(r){r&&y(e),s.d()}}}function s3(n){let e,t=n[55].username+"",l,i;return{c(){e=h("span"),l=B(t),p(e,"class","txt txt-ellipsis"),p(e,"title",i=n[55].username)},m(s,r){w(s,e,r),b(e,l)},p(s,r){r[0]&16&&t!==(t=s[55].username+"")&&oe(l,t),r[0]&16&&i!==(i=s[55].username)&&p(e,"title",i)},d(s){s&&y(e)}}}function r3(n){let e;return{c(){e=h("span"),e.textContent="N/A",p(e,"class","txt-hint")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function Uf(n){let e,t;function l(r,o){return o[0]&16&&(t=null),t==null&&(t=!!j.isEmpty(r[55].email)),t?a3:o3}let i=l(n,[-1,-1,-1]),s=i(n);return{c(){e=h("td"),s.c(),p(e,"class","col-type-text col-field-email")},m(r,o){w(r,e,o),s.m(e,null)},p(r,o){i===(i=l(r,o))&&s?s.p(r,o):(s.d(1),s=i(r),s&&(s.c(),s.m(e,null)))},d(r){r&&y(e),s.d()}}}function o3(n){let e,t=n[55].email+"",l,i;return{c(){e=h("span"),l=B(t),p(e,"class","txt txt-ellipsis"),p(e,"title",i=n[55].email)},m(s,r){w(s,e,r),b(e,l)},p(s,r){r[0]&16&&t!==(t=s[55].email+"")&&oe(l,t),r[0]&16&&i!==(i=s[55].email)&&p(e,"title",i)},d(s){s&&y(e)}}}function a3(n){let e;return{c(){e=h("span"),e.textContent="N/A",p(e,"class","txt-hint")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function zf(n,e){let t,l,i,s;return l=new om({props:{short:!0,record:e[55],field:e[58]}}),{key:n,first:null,c(){t=h("td"),U(l.$$.fragment),p(t,"class",i="col-type-"+e[58].type+" col-field-"+e[58].name),this.first=t},m(r,o){w(r,t,o),H(l,t,null),s=!0},p(r,o){e=r;const a={};o[0]&16&&(a.record=e[55]),o[0]&262144&&(a.field=e[58]),l.$set(a),(!s||o[0]&262144&&i!==(i="col-type-"+e[58].type+" col-field-"+e[58].name))&&p(t,"class",i)},i(r){s||(M(l.$$.fragment,r),s=!0)},o(r){I(l.$$.fragment,r),s=!1},d(r){r&&y(t),V(l)}}}function Bf(n){let e,t,l;return t=new cl({props:{date:n[55].created}}),{c(){e=h("td"),U(t.$$.fragment),p(e,"class","col-type-date col-field-created")},m(i,s){w(i,e,s),H(t,e,null),l=!0},p(i,s){const r={};s[0]&16&&(r.date=i[55].created),t.$set(r)},i(i){l||(M(t.$$.fragment,i),l=!0)},o(i){I(t.$$.fragment,i),l=!1},d(i){i&&y(e),V(t)}}}function Wf(n){let e,t,l;return t=new cl({props:{date:n[55].updated}}),{c(){e=h("td"),U(t.$$.fragment),p(e,"class","col-type-date col-field-updated")},m(i,s){w(i,e,s),H(t,e,null),l=!0},p(i,s){const r={};s[0]&16&&(r.date=i[55].updated),t.$set(r)},i(i){l||(M(t.$$.fragment,i),l=!0)},o(i){I(t.$$.fragment,i),l=!1},d(i){i&&y(e),V(t)}}}function Kf(n,e){let t,l,i=!e[7].includes("@id"),s,r,o=[],a=new Map,u,f=e[10]&&!e[7].includes("@created"),c,d=e[9]&&!e[7].includes("@updated"),m,v,_,g,k,$,C=!e[2].$isView&&Pf(e),T=i&&Rf(e),S=e[2].$isAuth&&Hf(e),E=e[18];const O=P=>P[58].name;for(let P=0;P<E.length;P+=1){let R=Tf(e,E,P),q=O(R);a.set(q,o[P]=zf(q,R))}let A=f&&Bf(e),N=d&&Wf(e);function F(){return e[37](e[55])}function L(...P){return e[38](e[55],...P)}return{key:n,first:null,c(){t=h("tr"),C&&C.c(),l=D(),T&&T.c(),s=D(),S&&S.c(),r=D();for(let P=0;P<o.length;P+=1)o[P].c();u=D(),A&&A.c(),c=D(),N&&N.c(),m=D(),v=h("td"),v.innerHTML='<i class="ri-arrow-right-line"></i>',_=D(),p(v,"class","col-type-action min-width"),p(t,"tabindex","0"),p(t,"class","row-handle"),this.first=t},m(P,R){w(P,t,R),C&&C.m(t,null),b(t,l),T&&T.m(t,null),b(t,s),S&&S.m(t,null),b(t,r);for(let q=0;q<o.length;q+=1)o[q]&&o[q].m(t,null);b(t,u),A&&A.m(t,null),b(t,c),N&&N.m(t,null),b(t,m),b(t,v),b(t,_),g=!0,k||($=[Y(t,"click",F),Y(t,"keydown",L)],k=!0)},p(P,R){e=P,e[2].$isView?C&&(C.d(1),C=null):C?C.p(e,R):(C=Pf(e),C.c(),C.m(t,l)),R[0]&128&&(i=!e[7].includes("@id")),i?T?(T.p(e,R),R[0]&128&&M(T,1)):(T=Rf(e),T.c(),M(T,1),T.m(t,s)):T&&(ue(),I(T,1,1,()=>{T=null}),fe()),e[2].$isAuth?S?S.p(e,R):(S=Hf(e),S.c(),S.m(t,r)):S&&(S.d(1),S=null),R[0]&262160&&(E=e[18],ue(),o=rt(o,R,O,1,e,E,a,t,Ot,zf,u,Tf),fe()),R[0]&1152&&(f=e[10]&&!e[7].includes("@created")),f?A?(A.p(e,R),R[0]&1152&&M(A,1)):(A=Bf(e),A.c(),M(A,1),A.m(t,c)):A&&(ue(),I(A,1,1,()=>{A=null}),fe()),R[0]&640&&(d=e[9]&&!e[7].includes("@updated")),d?N?(N.p(e,R),R[0]&640&&M(N,1)):(N=Wf(e),N.c(),M(N,1),N.m(t,m)):N&&(ue(),I(N,1,1,()=>{N=null}),fe())},i(P){if(!g){M(T);for(let R=0;R<E.length;R+=1)M(o[R]);M(A),M(N),g=!0}},o(P){I(T);for(let R=0;R<o.length;R+=1)I(o[R]);I(A),I(N),g=!1},d(P){P&&y(t),C&&C.d(),T&&T.d(),S&&S.d();for(let R=0;R<o.length;R+=1)o[R].d();A&&A.d(),N&&N.d(),k=!1,Te($)}}}function u3(n){let e,t,l,i,s=!n[7].includes("@id"),r,o,a=[],u=new Map,f,c=n[10]&&!n[7].includes("@created"),d,m=n[9]&&!n[7].includes("@updated"),v,_,g,k,$=[],C=new Map,T,S=!n[2].$isView&&Ef(n),E=s&&Of(n),O=n[2].$isAuth&&Df(n),A=n[18];const N=K=>K[58].name;for(let K=0;K<A.length;K+=1){let Q=Sf(n,A,K),J=N(Q);u.set(J,a[K]=If(J,Q))}let F=c&&Nf(n),L=m&&Ff(n),P=n[15].length&&Lf(n),R=n[4];const q=K=>K[2].$isView?K[55]:K[55].id;for(let K=0;K<R.length;K+=1){let Q=$f(n,R,K),J=q(Q);C.set(J,$[K]=Kf(J,Q))}let z=null;return R.length||(z=qf(n)),{c(){e=h("table"),t=h("thead"),l=h("tr"),S&&S.c(),i=D(),E&&E.c(),r=D(),O&&O.c(),o=D();for(let K=0;K<a.length;K+=1)a[K].c();f=D(),F&&F.c(),d=D(),L&&L.c(),v=D(),_=h("th"),P&&P.c(),g=D(),k=h("tbody");for(let K=0;K<$.length;K+=1)$[K].c();z&&z.c(),p(_,"class","col-type-action min-width"),p(e,"class","table"),X(e,"table-loading",n[12])},m(K,Q){w(K,e,Q),b(e,t),b(t,l),S&&S.m(l,null),b(l,i),E&&E.m(l,null),b(l,r),O&&O.m(l,null),b(l,o);for(let J=0;J<a.length;J+=1)a[J]&&a[J].m(l,null);b(l,f),F&&F.m(l,null),b(l,d),L&&L.m(l,null),b(l,v),b(l,_),P&&P.m(_,null),b(e,g),b(e,k);for(let J=0;J<$.length;J+=1)$[J]&&$[J].m(k,null);z&&z.m(k,null),T=!0},p(K,Q){K[2].$isView?S&&(S.d(1),S=null):S?S.p(K,Q):(S=Ef(K),S.c(),S.m(l,i)),Q[0]&128&&(s=!K[7].includes("@id")),s?E?(E.p(K,Q),Q[0]&128&&M(E,1)):(E=Of(K),E.c(),M(E,1),E.m(l,r)):E&&(ue(),I(E,1,1,()=>{E=null}),fe()),K[2].$isAuth?O?(O.p(K,Q),Q[0]&4&&M(O,1)):(O=Df(K),O.c(),M(O,1),O.m(l,o)):O&&(ue(),I(O,1,1,()=>{O=null}),fe()),Q[0]&262145&&(A=K[18],ue(),a=rt(a,Q,N,1,K,A,u,l,Ot,If,f,Sf),fe()),Q[0]&1152&&(c=K[10]&&!K[7].includes("@created")),c?F?(F.p(K,Q),Q[0]&1152&&M(F,1)):(F=Nf(K),F.c(),M(F,1),F.m(l,d)):F&&(ue(),I(F,1,1,()=>{F=null}),fe()),Q[0]&640&&(m=K[9]&&!K[7].includes("@updated")),m?L?(L.p(K,Q),Q[0]&640&&M(L,1)):(L=Ff(K),L.c(),M(L,1),L.m(l,v)):L&&(ue(),I(L,1,1,()=>{L=null}),fe()),K[15].length?P?P.p(K,Q):(P=Lf(K),P.c(),P.m(_,null)):P&&(P.d(1),P=null),Q[0]&4986582&&(R=K[4],ue(),$=rt($,Q,q,1,K,R,C,k,Ot,Kf,null,$f),fe(),!R.length&&z?z.p(K,Q):R.length?z&&(z.d(1),z=null):(z=qf(K),z.c(),z.m(k,null))),(!T||Q[0]&4096)&&X(e,"table-loading",K[12])},i(K){if(!T){M(E),M(O);for(let Q=0;Q<A.length;Q+=1)M(a[Q]);M(F),M(L);for(let Q=0;Q<R.length;Q+=1)M($[Q]);T=!0}},o(K){I(E),I(O);for(let Q=0;Q<a.length;Q+=1)I(a[Q]);I(F),I(L);for(let Q=0;Q<$.length;Q+=1)I($[Q]);T=!1},d(K){K&&y(e),S&&S.d(),E&&E.d(),O&&O.d();for(let Q=0;Q<a.length;Q+=1)a[Q].d();F&&F.d(),L&&L.d(),P&&P.d();for(let Q=0;Q<$.length;Q+=1)$[Q].d();z&&z.d()}}}function Yf(n){let e,t;return e=new gn({props:{class:"dropdown dropdown-right dropdown-nowrap columns-dropdown",trigger:n[14],$$slots:{default:[c3]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i[0]&16384&&(s.trigger=l[14]),i[0]&32896|i[2]&2&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function f3(n){let e,t,l,i,s,r=n[51].name+"",o,a,u,f,c;function d(...m){return n[27](n[51],...m)}return{c(){e=h("input"),i=D(),s=h("label"),o=B(r),u=D(),p(e,"type","checkbox"),p(e,"id",t=n[54]),e.checked=l=!n[7].includes(n[51].id),p(s,"for",a=n[54])},m(m,v){w(m,e,v),w(m,i,v),w(m,s,v),b(s,o),w(m,u,v),f||(c=Y(e,"change",d),f=!0)},p(m,v){n=m,v[1]&8388608&&t!==(t=n[54])&&p(e,"id",t),v[0]&32896&&l!==(l=!n[7].includes(n[51].id))&&(e.checked=l),v[0]&32768&&r!==(r=n[51].name+"")&&oe(o,r),v[1]&8388608&&a!==(a=n[54])&&p(s,"for",a)},d(m){m&&y(e),m&&y(i),m&&y(s),m&&y(u),f=!1,c()}}}function Jf(n,e){let t,l,i;return l=new de({props:{class:"form-field form-field-sm form-field-toggle m-0 p-5",$$slots:{default:[f3,({uniqueId:s})=>({54:s}),({uniqueId:s})=>[0,s?8388608:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=ke(),U(l.$$.fragment),this.first=t},m(s,r){w(s,t,r),H(l,s,r),i=!0},p(s,r){e=s;const o={};r[0]&32896|r[1]&8388608|r[2]&2&&(o.$$scope={dirty:r,ctx:e}),l.$set(o)},i(s){i||(M(l.$$.fragment,s),i=!0)},o(s){I(l.$$.fragment,s),i=!1},d(s){s&&y(t),V(l,s)}}}function c3(n){let e,t,l=[],i=new Map,s,r,o=n[15];const a=u=>u[51].id+u[51].name;for(let u=0;u<o.length;u+=1){let f=Cf(n,o,u),c=a(f);i.set(c,l[u]=Jf(c,f))}return{c(){e=h("div"),e.textContent="Toggle columns",t=D();for(let u=0;u<l.length;u+=1)l[u].c();s=ke(),p(e,"class","txt-hint txt-sm p-5 m-b-5")},m(u,f){w(u,e,f),w(u,t,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(u,f);w(u,s,f),r=!0},p(u,f){f[0]&32896|f[1]&8388608&&(o=u[15],ue(),l=rt(l,f,a,1,u,o,i,s.parentNode,Ot,Jf,s,Cf),fe())},i(u){if(!r){for(let f=0;f<o.length;f+=1)M(l[f]);r=!0}},o(u){for(let f=0;f<l.length;f+=1)I(l[f]);r=!1},d(u){u&&y(e),u&&y(t);for(let f=0;f<l.length;f+=1)l[f].d(u);u&&y(s)}}}function d3(n){let e,t,l=n[14]&&Yf(n);return{c(){l&&l.c(),e=ke()},m(i,s){l&&l.m(i,s),w(i,e,s),t=!0},p(i,s){i[14]?l?(l.p(i,s),s[0]&16384&&M(l,1)):(l=Yf(i),l.c(),M(l,1),l.m(e.parentNode,e)):l&&(ue(),I(l,1,1,()=>{l=null}),fe())},i(i){t||(M(l),t=!0)},o(i){I(l),t=!1},d(i){l&&l.d(i),i&&y(e)}}}function Zf(n){let e,t,l=n[4].length+"",i,s,r;return{c(){e=h("small"),t=B("Showing "),i=B(l),s=B(" of "),r=B(n[5]),p(e,"class","block txt-hint txt-right m-t-sm")},m(o,a){w(o,e,a),b(e,t),b(e,i),b(e,s),b(e,r)},p(o,a){a[0]&16&&l!==(l=o[4].length+"")&&oe(i,l),a[0]&32&&oe(r,o[5])},d(o){o&&y(e)}}}function Gf(n){let e,t,l,i,s=n[5]-n[4].length+"",r,o,a,u;return{c(){e=h("div"),t=h("button"),l=h("span"),i=B("查看更多 ("),r=B(s),o=B(")"),p(l,"class","txt"),p(t,"type","button"),p(t,"class","btn btn-lg btn-secondary btn-expanded"),X(t,"btn-loading",n[12]),X(t,"btn-disabled",n[12]),p(e,"class","block txt-center m-t-xs")},m(f,c){w(f,e,c),b(e,t),b(t,l),b(l,i),b(l,r),b(l,o),a||(u=Y(t,"click",n[41]),a=!0)},p(f,c){c[0]&48&&s!==(s=f[5]-f[4].length+"")&&oe(r,s),c[0]&4096&&X(t,"btn-loading",f[12]),c[0]&4096&&X(t,"btn-disabled",f[12])},d(f){f&&y(e),a=!1,u()}}}function Qf(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g;return{c(){e=h("div"),t=h("div"),l=B("选中了 "),i=h("strong"),s=B(n[8]),r=B("条记录"),o=D(),a=h("button"),a.innerHTML='<span class="txt">取消选中</span>',u=D(),f=h("div"),c=D(),d=h("button"),d.innerHTML='<span class="txt">删除选中</span>',p(t,"class","txt"),p(a,"type","button"),p(a,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),X(a,"btn-disabled",n[13]),p(f,"class","flex-fill"),p(d,"type","button"),p(d,"class","btn btn-sm btn-transparent btn-danger"),X(d,"btn-loading",n[13]),X(d,"btn-disabled",n[13]),p(e,"class","bulkbar")},m(k,$){w(k,e,$),b(e,t),b(t,l),b(t,i),b(i,s),b(t,r),b(e,o),b(e,a),b(e,u),b(e,f),b(e,c),b(e,d),v=!0,_||(g=[Y(a,"click",n[42]),Y(d,"click",n[43])],_=!0)},p(k,$){(!v||$[0]&256)&&oe(s,k[8]),(!v||$[0]&8192)&&X(a,"btn-disabled",k[13]),(!v||$[0]&8192)&&X(d,"btn-loading",k[13]),(!v||$[0]&8192)&&X(d,"btn-disabled",k[13])},i(k){v||(k&&Be(()=>{v&&(m||(m=Fe(e,On,{duration:150,y:5},!0)),m.run(1))}),v=!0)},o(k){k&&(m||(m=Fe(e,On,{duration:150,y:5},!1)),m.run(0)),v=!1},d(k){k&&y(e),k&&m&&m.end(),_=!1,Te(g)}}}function p3(n){let e,t,l,i,s,r;e=new am({props:{class:"table-wrapper",$$slots:{before:[d3],default:[u3]},$$scope:{ctx:n}}});let o=n[4].length&&Zf(n),a=n[4].length&&n[17]&&Gf(n),u=n[8]&&Qf(n);return{c(){U(e.$$.fragment),t=D(),o&&o.c(),l=D(),a&&a.c(),i=D(),u&&u.c(),s=ke()},m(f,c){H(e,f,c),w(f,t,c),o&&o.m(f,c),w(f,l,c),a&&a.m(f,c),w(f,i,c),u&&u.m(f,c),w(f,s,c),r=!0},p(f,c){const d={};c[0]&382679|c[2]&2&&(d.$$scope={dirty:c,ctx:f}),e.$set(d),f[4].length?o?o.p(f,c):(o=Zf(f),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null),f[4].length&&f[17]?a?a.p(f,c):(a=Gf(f),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null),f[8]?u?(u.p(f,c),c[0]&256&&M(u,1)):(u=Qf(f),u.c(),M(u,1),u.m(s.parentNode,s)):u&&(ue(),I(u,1,1,()=>{u=null}),fe())},i(f){r||(M(e.$$.fragment,f),M(u),r=!0)},o(f){I(e.$$.fragment,f),I(u),r=!1},d(f){V(e,f),f&&y(t),o&&o.d(f),f&&y(l),a&&a.d(f),f&&y(i),u&&u.d(f),f&&y(s)}}}const m3=/^([\+\-])?(\w+)$/;function _3(n,e,t){let l,i,s,r,o,a,u,f;const c=pt();let{collection:d}=e,{sort:m=""}=e,{filter:v=""}=e,_=[],g=1,k=0,$={},C=!0,T=!1,S=0,E,O=[],A=[];function N(){d!=null&&d.id&&localStorage.setItem((d==null?void 0:d.id)+"@hiddenCollumns",JSON.stringify(O))}function F(){if(t(7,O=[]),!!(d!=null&&d.id))try{const ye=localStorage.getItem(d.id+"@hiddenCollumns");ye&&t(7,O=JSON.parse(ye)||[])}catch{}}async function L(){const ye=g;for(let nt=1;nt<=ye;nt++)(nt===1||r)&&await P(nt,!1)}async function P(ye=1,nt=!0){var xn,In;if(!(d!=null&&d.id))return;t(12,C=!0);let qt=m;const At=qt.match(m3),xt=At?i.find(_t=>_t.name===At[2]):null;if(At&&((In=(xn=xt==null?void 0:xt.options)==null?void 0:xn.displayFields)==null?void 0:In.length)>0){const _t=[];for(const Un of xt.options.displayFields)_t.push((At[1]||"")+At[2]+"."+Un);qt=_t.join(",")}const Xn=j.getAllCollectionIdentifiers(d);return ce.collection(d.id).getList(ye,30,{sort:qt,filter:j.normalizeSearchFilter(v,Xn),expand:i.map(_t=>_t.name).join(","),$cancelKey:"records_list"}).then(async _t=>{if(ye<=1&&R(),t(12,C=!1),t(11,g=_t.page),t(5,k=_t.totalItems),c("load",_.concat(_t.items)),nt){const Un=++S;for(;_t.items.length&&S==Un;)t(4,_=_.concat(_t.items.splice(0,15))),await j.yieldToMain()}else t(4,_=_.concat(_t.items))}).catch(_t=>{_t!=null&&_t.isAbort||(t(12,C=!1),console.warn(_t),R(),ce.error(_t,!1))})}function R(){t(4,_=[]),t(11,g=1),t(5,k=0),t(6,$={})}function q(){a?z():K()}function z(){t(6,$={})}function K(){for(const ye of _)t(6,$[ye.id]=ye,$);t(6,$)}function Q(ye){$[ye.id]?delete $[ye.id]:t(6,$[ye.id]=ye,$),t(6,$)}function J(){const ye=`你要删除选中的 ${o} 个记录?`;Gt(ye,Z)}async function Z(){if(T||!o||!(d!=null&&d.id))return;let ye=[];for(const nt of Object.keys($))ye.push(ce.collection(d.id).delete(nt));return t(13,T=!0),Promise.all(ye).then(()=>{wt(`成功删除选中的 ${o} 条记录 .`),z()}).catch(nt=>{ce.error(nt)}).finally(()=>(t(13,T=!1),L()))}function se(ye){De.call(this,n,ye)}const ee=(ye,nt)=>{nt.target.checked?j.removeByValue(O,ye.id):j.pushUnique(O,ye.id),t(7,O)},te=()=>q();function pe(ye){m=ye,t(0,m)}function Ee(ye){m=ye,t(0,m)}function We(ye){m=ye,t(0,m)}function ot(ye){m=ye,t(0,m)}function xe(ye){m=ye,t(0,m)}function Je(ye){m=ye,t(0,m)}function $t(ye){le[ye?"unshift":"push"](()=>{E=ye,t(14,E)})}const Ft=ye=>Q(ye),Tt=ye=>c("select",ye),Dt=(ye,nt)=>{nt.code==="Enter"&&(nt.preventDefault(),c("select",ye))},Lt=()=>t(1,v=""),ie=()=>c("new"),Le=()=>P(g+1),at=()=>z(),Oe=()=>J();return n.$$set=ye=>{"collection"in ye&&t(2,d=ye.collection),"sort"in ye&&t(0,m=ye.sort),"filter"in ye&&t(1,v=ye.filter)},n.$$.update=()=>{n.$$.dirty[0]&4&&d!=null&&d.id&&(F(),R()),n.$$.dirty[0]&4&&t(25,l=(d==null?void 0:d.schema)||[]),n.$$.dirty[0]&33554432&&(i=l.filter(ye=>ye.type==="relation")),n.$$.dirty[0]&33554560&&t(18,s=l.filter(ye=>!O.includes(ye.id))),n.$$.dirty[0]&7&&d!=null&&d.id&&m!==-1&&v!==-1&&P(1),n.$$.dirty[0]&48&&t(17,r=k>_.length),n.$$.dirty[0]&64&&t(8,o=Object.keys($).length),n.$$.dirty[0]&272&&t(16,a=_.length&&o===_.length),n.$$.dirty[0]&128&&O!==-1&&N(),n.$$.dirty[0]&20&&t(10,u=!(d!=null&&d.$isView)||_.length>0&&_[0].created!=""),n.$$.dirty[0]&20&&t(9,f=!(d!=null&&d.$isView)||_.length>0&&_[0].updated!=""),n.$$.dirty[0]&33555972&&t(15,A=[].concat(d.$isAuth?[{id:"@username",name:"username"},{id:"@email",name:"email"}]:[],l.map(ye=>({id:ye.id,name:ye.name})),u?{id:"@created",name:"created"}:[],f?{id:"@updated",name:"updated"}:[]))},[m,v,d,P,_,k,$,O,o,f,u,g,C,T,E,A,a,r,s,c,q,z,Q,J,L,l,se,ee,te,pe,Ee,We,ot,xe,Je,$t,Ft,Tt,Dt,Lt,ie,Le,at,Oe]}class h3 extends ge{constructor(e){super(),be(this,e,_3,p3,_e,{collection:2,sort:0,filter:1,reloadLoadedPages:24,load:3},null,[-1,-1,-1])}get reloadLoadedPages(){return this.$$.ctx[24]}get load(){return this.$$.ctx[3]}}function b3(n){let e,t,l,i;return e=new u2({}),l=new dn({props:{$$slots:{default:[k3]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(s,r){H(e,s,r),w(s,t,r),H(l,s,r),i=!0},p(s,r){const o={};r[0]&1527|r[1]&16&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(M(e.$$.fragment,s),M(l.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),I(l.$$.fragment,s),i=!1},d(s){V(e,s),s&&y(t),V(l,s)}}}function g3(n){let e,t;return e=new dn({props:{center:!0,$$slots:{default:[$3]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i[0]&1040|i[1]&16&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function v3(n){let e,t;return e=new dn({props:{center:!0,$$slots:{default:[T3]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i[1]&16&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Xf(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<i class="ri-settings-4-line"></i>',p(e,"type","button"),p(e,"aria-label","Edit collection"),p(e,"class","btn btn-transparent btn-circle")},m(i,s){w(i,e,s),t||(l=[$e(Pe.call(null,e,{text:"Edit collection",position:"right"})),Y(e,"click",n[15])],t=!0)},p:x,d(i){i&&y(e),t=!1,Te(l)}}}function xf(n){let e,t,l;return{c(){e=h("button"),e.innerHTML=`<i class="ri-add-line"></i> 
                        <span class="txt">New record</span>`,p(e,"type","button"),p(e,"class","btn btn-expanded")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[18]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function k3(n){let e,t,l,i,s,r=n[2].name+"",o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O,A,N,F,L=!n[10]&&Xf(n);c=new ur({}),c.$on("refresh",n[16]);let P=!n[2].$isView&&xf(n);k=new ar({props:{value:n[0],autocompleteCollection:n[2]}}),k.$on("submit",n[19]);function R(K){n[21](K)}function q(K){n[22](K)}let z={collection:n[2]};return n[0]!==void 0&&(z.filter=n[0]),n[1]!==void 0&&(z.sort=n[1]),S=new h3({props:z}),n[20](S),le.push(()=>me(S,"filter",R)),le.push(()=>me(S,"sort",q)),S.$on("select",n[23]),S.$on("new",n[24]),{c(){e=h("header"),t=h("nav"),l=h("div"),l.textContent="Collections",i=D(),s=h("div"),o=B(r),a=D(),u=h("div"),L&&L.c(),f=D(),U(c.$$.fragment),d=D(),m=h("div"),v=h("button"),v.innerHTML=`<i class="ri-code-s-slash-line"></i> 
                    <span class="txt">API Preview</span>`,_=D(),P&&P.c(),g=D(),U(k.$$.fragment),$=D(),C=h("div"),T=D(),U(S.$$.fragment),p(l,"class","breadcrumb-item"),p(s,"class","breadcrumb-item"),p(t,"class","breadcrumbs"),p(u,"class","inline-flex gap-5"),p(v,"type","button"),p(v,"class","btn btn-outline"),p(m,"class","btns-group"),p(e,"class","page-header"),p(C,"class","clearfix m-b-base")},m(K,Q){w(K,e,Q),b(e,t),b(t,l),b(t,i),b(t,s),b(s,o),b(e,a),b(e,u),L&&L.m(u,null),b(u,f),H(c,u,null),b(e,d),b(e,m),b(m,v),b(m,_),P&&P.m(m,null),w(K,g,Q),H(k,K,Q),w(K,$,Q),w(K,C,Q),w(K,T,Q),H(S,K,Q),A=!0,N||(F=Y(v,"click",n[17]),N=!0)},p(K,Q){(!A||Q[0]&4)&&r!==(r=K[2].name+"")&&oe(o,r),K[10]?L&&(L.d(1),L=null):L?L.p(K,Q):(L=Xf(K),L.c(),L.m(u,f)),K[2].$isView?P&&(P.d(1),P=null):P?P.p(K,Q):(P=xf(K),P.c(),P.m(m,null));const J={};Q[0]&1&&(J.value=K[0]),Q[0]&4&&(J.autocompleteCollection=K[2]),k.$set(J);const Z={};Q[0]&4&&(Z.collection=K[2]),!E&&Q[0]&1&&(E=!0,Z.filter=K[0],he(()=>E=!1)),!O&&Q[0]&2&&(O=!0,Z.sort=K[1],he(()=>O=!1)),S.$set(Z)},i(K){A||(M(c.$$.fragment,K),M(k.$$.fragment,K),M(S.$$.fragment,K),A=!0)},o(K){I(c.$$.fragment,K),I(k.$$.fragment,K),I(S.$$.fragment,K),A=!1},d(K){K&&y(e),L&&L.d(),V(c),P&&P.d(),K&&y(g),V(k,K),K&&y($),K&&y(C),K&&y(T),n[20](null),V(S,K),N=!1,F()}}}function y3(n){let e,t,l,i,s;return{c(){e=h("h1"),e.textContent="Create your first collection to add records!",t=D(),l=h("button"),l.innerHTML=`<i class="ri-add-line"></i> 
                    <span class="txt">Create new collection</span>`,p(e,"class","m-b-10"),p(l,"type","button"),p(l,"class","btn btn-expanded-lg btn-lg")},m(r,o){w(r,e,o),w(r,t,o),w(r,l,o),i||(s=Y(l,"click",n[14]),i=!0)},p:x,d(r){r&&y(e),r&&y(t),r&&y(l),i=!1,s()}}}function w3(n){let e;return{c(){e=h("h1"),e.textContent="You don't have any collections yet.",p(e,"class","m-b-10")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function $3(n){let e,t,l;function i(o,a){return o[10]?w3:y3}let s=i(n),r=s(n);return{c(){e=h("div"),t=h("div"),t.innerHTML='<i class="ri-database-2-line"></i>',l=D(),r.c(),p(t,"class","icon"),p(e,"class","placeholder-section m-b-base")},m(o,a){w(o,e,a),b(e,t),b(e,l),r.m(e,null)},p(o,a){s===(s=i(o))&&r?r.p(o,a):(r.d(1),r=s(o),r&&(r.c(),r.m(e,null)))},d(o){o&&y(e),r.d()}}}function T3(n){let e;return{c(){e=h("div"),e.innerHTML=`<span class="loader loader-lg"></span> 
            <h1>Loading collections...</h1>`,p(e,"class","placeholder-section m-b-base")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function S3(n){let e,t,l,i,s,r,o,a,u,f,c;const d=[v3,g3,b3],m=[];function v(C,T){return C[3]&&!C[9].length?0:C[9].length?2:1}e=v(n),t=m[e]=d[e](n);let _={};i=new dr({props:_}),n[25](i);let g={};r=new b2({props:g}),n[26](r);let k={collection:n[2]};a=new rm({props:k}),n[27](a),a.$on("save",n[28]),a.$on("delete",n[29]);let $={collection:n[2]};return f=new Rw({props:$}),n[30](f),{c(){t.c(),l=D(),U(i.$$.fragment),s=D(),U(r.$$.fragment),o=D(),U(a.$$.fragment),u=D(),U(f.$$.fragment)},m(C,T){m[e].m(C,T),w(C,l,T),H(i,C,T),w(C,s,T),H(r,C,T),w(C,o,T),H(a,C,T),w(C,u,T),H(f,C,T),c=!0},p(C,T){let S=e;e=v(C),e===S?m[e].p(C,T):(ue(),I(m[S],1,1,()=>{m[S]=null}),fe(),t=m[e],t?t.p(C,T):(t=m[e]=d[e](C),t.c()),M(t,1),t.m(l.parentNode,l));const E={};i.$set(E);const O={};r.$set(O);const A={};T[0]&4&&(A.collection=C[2]),a.$set(A);const N={};T[0]&4&&(N.collection=C[2]),f.$set(N)},i(C){c||(M(t),M(i.$$.fragment,C),M(r.$$.fragment,C),M(a.$$.fragment,C),M(f.$$.fragment,C),c=!0)},o(C){I(t),I(i.$$.fragment,C),I(r.$$.fragment,C),I(a.$$.fragment,C),I(f.$$.fragment,C),c=!1},d(C){m[e].d(C),C&&y(l),n[25](null),V(i,C),C&&y(s),n[26](null),V(r,C),C&&y(o),n[27](null),V(a,C),C&&y(u),n[30](null),V(f,C)}}}function C3(n,e,t){let l,i,s,r,o,a,u;Ve(n,jn,te=>t(2,i=te)),Ve(n,vt,te=>t(31,s=te)),Ve(n,Li,te=>t(3,r=te)),Ve(n,sr,te=>t(13,o=te)),Ve(n,An,te=>t(9,a=te)),Ve(n,Dl,te=>t(10,u=te));const f=new URLSearchParams(o);let c,d,m,v,_,g=f.get("filter")||"",k=f.get("sort")||"-created",$=f.get("collectionId")||(i==null?void 0:i.id);function C(){t(11,$=i==null?void 0:i.id),t(0,g=""),t(1,k="-created"),T()}async function T(){if(!k)return;const te=j.getAllCollectionIdentifiers(i),pe=k.split(",").map(Ee=>Ee.startsWith("+")||Ee.startsWith("-")?Ee.substring(1):Ee);pe.filter(Ee=>te.includes(Ee)).length!=pe.length&&(te.includes("created")?t(1,k="-created"):t(1,k=""))}P1($);const S=()=>c==null?void 0:c.show(),E=()=>c==null?void 0:c.show(i),O=()=>_==null?void 0:_.load(),A=()=>d==null?void 0:d.show(i),N=()=>m==null?void 0:m.show(),F=te=>t(0,g=te.detail);function L(te){le[te?"unshift":"push"](()=>{_=te,t(8,_)})}function P(te){g=te,t(0,g)}function R(te){k=te,t(1,k)}const q=te=>{i.$isView?v.show(te==null?void 0:te.detail):m==null||m.show(te==null?void 0:te.detail)},z=()=>m==null?void 0:m.show();function K(te){le[te?"unshift":"push"](()=>{c=te,t(4,c)})}function Q(te){le[te?"unshift":"push"](()=>{d=te,t(5,d)})}function J(te){le[te?"unshift":"push"](()=>{m=te,t(6,m)})}const Z=()=>_==null?void 0:_.reloadLoadedPages(),se=()=>_==null?void 0:_.reloadLoadedPages();function ee(te){le[te?"unshift":"push"](()=>{v=te,t(7,v)})}return n.$$.update=()=>{if(n.$$.dirty[0]&8192&&t(12,l=new URLSearchParams(o)),n.$$.dirty[0]&6152&&!r&&l.get("collectionId")&&l.get("collectionId")!=$&&F1(l.get("collectionId")),n.$$.dirty[0]&2052&&i!=null&&i.id&&$!=i.id&&C(),n.$$.dirty[0]&4&&i!=null&&i.id&&T(),n.$$.dirty[0]&7&&(k||g||i!=null&&i.id)){const te=new URLSearchParams({collectionId:(i==null?void 0:i.id)||"",filter:g,sort:k}).toString();Gn("/collections?"+te)}n.$$.dirty[0]&4&&Wt(vt,s=(i==null?void 0:i.name)||"Collections",s)},[g,k,i,r,c,d,m,v,_,a,u,$,l,o,S,E,O,A,N,F,L,P,R,q,z,K,Q,J,Z,se,ee]}class E3 extends ge{constructor(e){super(),be(this,e,C3,S3,_e,{},null,[-1,-1])}}function ec(n,e,t){const l=n.slice();return l[30]=e[t],l}function tc(n){let e,t;return e=new de({props:{class:"form-field readonly",name:"id",$$slots:{default:[O3,({uniqueId:l})=>({29:l}),({uniqueId:l})=>[l?536870912:0]]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i[0]&536870914|i[1]&4&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function O3(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_;return{c(){e=h("label"),t=h("i"),l=D(),i=h("span"),i.textContent="id",r=D(),o=h("div"),a=h("i"),f=D(),c=h("input"),p(t,"class",j.getFieldTypeIcon("primary")),p(i,"class","txt"),p(e,"for",s=n[29]),p(a,"class","ri-calendar-event-line txt-disabled"),p(o,"class","form-field-addon"),p(c,"type","text"),p(c,"id",d=n[29]),c.value=m=n[1].id,c.readOnly=!0},m(g,k){w(g,e,k),b(e,t),b(e,l),b(e,i),w(g,r,k),w(g,o,k),b(o,a),w(g,f,k),w(g,c,k),v||(_=$e(u=Pe.call(null,a,{text:`Created: ${n[1].created}
Updated: ${n[1].updated}`,position:"left"})),v=!0)},p(g,k){k[0]&536870912&&s!==(s=g[29])&&p(e,"for",s),u&&kt(u.update)&&k[0]&2&&u.update.call(null,{text:`Created: ${g[1].created}
Updated: ${g[1].updated}`,position:"left"}),k[0]&536870912&&d!==(d=g[29])&&p(c,"id",d),k[0]&2&&m!==(m=g[1].id)&&c.value!==m&&(c.value=m)},d(g){g&&y(e),g&&y(r),g&&y(o),g&&y(f),g&&y(c),v=!1,_()}}}function nc(n){let e,t,l,i,s,r,o;function a(){return n[17](n[30])}return{c(){e=h("button"),t=h("img"),i=D(),Xt(t.src,l="./images/avatars/avatar"+n[30]+".svg")||p(t,"src",l),p(t,"alt","Avatar "+n[30]),p(e,"type","button"),p(e,"class",s="link-fade thumb thumb-circle "+(n[30]==n[2]?"thumb-active":"thumb-sm"))},m(u,f){w(u,e,f),b(e,t),b(e,i),r||(o=Y(e,"click",a),r=!0)},p(u,f){n=u,f[0]&4&&s!==(s="link-fade thumb thumb-circle "+(n[30]==n[2]?"thumb-active":"thumb-sm"))&&p(e,"class",s)},d(u){u&&y(e),r=!1,o()}}}function D3(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=h("i"),l=D(),i=h("span"),i.textContent="邮箱",r=D(),o=h("input"),p(t,"class",j.getFieldTypeIcon("email")),p(i,"class","txt"),p(e,"for",s=n[29]),p(o,"type","email"),p(o,"autocomplete","off"),p(o,"id",a=n[29]),o.required=!0},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),w(c,r,d),w(c,o,d),re(o,n[3]),u||(f=Y(o,"input",n[18]),u=!0)},p(c,d){d[0]&536870912&&s!==(s=c[29])&&p(e,"for",s),d[0]&536870912&&a!==(a=c[29])&&p(o,"id",a),d[0]&8&&o.value!==c[3]&&re(o,c[3])},d(c){c&&y(e),c&&y(r),c&&y(o),u=!1,f()}}}function lc(n){let e,t;return e=new de({props:{class:"form-field form-field-toggle",$$slots:{default:[A3,({uniqueId:l})=>({29:l}),({uniqueId:l})=>[l?536870912:0]]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i[0]&536870928|i[1]&4&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function A3(n){let e,t,l,i,s,r,o,a;return{c(){e=h("input"),l=D(),i=h("label"),s=B("修改密码"),p(e,"type","checkbox"),p(e,"id",t=n[29]),p(i,"for",r=n[29])},m(u,f){w(u,e,f),e.checked=n[4],w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"change",n[19]),o=!0)},p(u,f){f[0]&536870912&&t!==(t=u[29])&&p(e,"id",t),f[0]&16&&(e.checked=u[4]),f[0]&536870912&&r!==(r=u[29])&&p(i,"for",r)},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function ic(n){let e,t,l,i,s,r,o,a,u;return i=new de({props:{class:"form-field required",name:"password",$$slots:{default:[M3,({uniqueId:f})=>({29:f}),({uniqueId:f})=>[f?536870912:0]]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[I3,({uniqueId:f})=>({29:f}),({uniqueId:f})=>[f?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),l=h("div"),U(i.$$.fragment),s=D(),r=h("div"),U(o.$$.fragment),p(l,"class","col-sm-6"),p(r,"class","col-sm-6"),p(t,"class","grid"),p(e,"class","col-12")},m(f,c){w(f,e,c),b(e,t),b(t,l),H(i,l,null),b(t,s),b(t,r),H(o,r,null),u=!0},p(f,c){const d={};c[0]&536871168|c[1]&4&&(d.$$scope={dirty:c,ctx:f}),i.$set(d);const m={};c[0]&536871424|c[1]&4&&(m.$$scope={dirty:c,ctx:f}),o.$set(m)},i(f){u||(M(i.$$.fragment,f),M(o.$$.fragment,f),f&&Be(()=>{u&&(a||(a=Fe(t,Ge,{duration:150},!0)),a.run(1))}),u=!0)},o(f){I(i.$$.fragment,f),I(o.$$.fragment,f),f&&(a||(a=Fe(t,Ge,{duration:150},!1)),a.run(0)),u=!1},d(f){f&&y(e),V(i),V(o),f&&a&&a.end()}}}function M3(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=h("i"),l=D(),i=h("span"),i.textContent="密码",r=D(),o=h("input"),p(t,"class","ri-lock-line"),p(i,"class","txt"),p(e,"for",s=n[29]),p(o,"type","password"),p(o,"autocomplete","new-password"),p(o,"id",a=n[29]),o.required=!0},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),w(c,r,d),w(c,o,d),re(o,n[8]),u||(f=Y(o,"input",n[20]),u=!0)},p(c,d){d[0]&536870912&&s!==(s=c[29])&&p(e,"for",s),d[0]&536870912&&a!==(a=c[29])&&p(o,"id",a),d[0]&256&&o.value!==c[8]&&re(o,c[8])},d(c){c&&y(e),c&&y(r),c&&y(o),u=!1,f()}}}function I3(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=h("i"),l=D(),i=h("span"),i.textContent="密码验证",r=D(),o=h("input"),p(t,"class","ri-lock-line"),p(i,"class","txt"),p(e,"for",s=n[29]),p(o,"type","password"),p(o,"autocomplete","new-password"),p(o,"id",a=n[29]),o.required=!0},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),w(c,r,d),w(c,o,d),re(o,n[9]),u||(f=Y(o,"input",n[21]),u=!0)},p(c,d){d[0]&536870912&&s!==(s=c[29])&&p(e,"for",s),d[0]&536870912&&a!==(a=c[29])&&p(o,"id",a),d[0]&512&&o.value!==c[9]&&re(o,c[9])},d(c){c&&y(e),c&&y(r),c&&y(o),u=!1,f()}}}function N3(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v=!n[1].$isNew&&tc(n),_=[0,1,2,3,4,5,6,7,8,9],g=[];for(let C=0;C<10;C+=1)g[C]=nc(ec(n,_,C));a=new de({props:{class:"form-field required",name:"email",$$slots:{default:[D3,({uniqueId:C})=>({29:C}),({uniqueId:C})=>[C?536870912:0]]},$$scope:{ctx:n}}});let k=!n[1].$isNew&&lc(n),$=(n[1].$isNew||n[4])&&ic(n);return{c(){e=h("form"),v&&v.c(),t=D(),l=h("div"),i=h("p"),i.textContent="头像",s=D(),r=h("div");for(let C=0;C<10;C+=1)g[C].c();o=D(),U(a.$$.fragment),u=D(),k&&k.c(),f=D(),$&&$.c(),p(i,"class","section-title"),p(r,"class","flex flex-gap-xs flex-wrap"),p(l,"class","content"),p(e,"id",n[11]),p(e,"class","grid"),p(e,"autocomplete","off")},m(C,T){w(C,e,T),v&&v.m(e,null),b(e,t),b(e,l),b(l,i),b(l,s),b(l,r);for(let S=0;S<10;S+=1)g[S]&&g[S].m(r,null);b(e,o),H(a,e,null),b(e,u),k&&k.m(e,null),b(e,f),$&&$.m(e,null),c=!0,d||(m=Y(e,"submit",Ke(n[12])),d=!0)},p(C,T){if(C[1].$isNew?v&&(ue(),I(v,1,1,()=>{v=null}),fe()):v?(v.p(C,T),T[0]&2&&M(v,1)):(v=tc(C),v.c(),M(v,1),v.m(e,t)),T[0]&4){_=[0,1,2,3,4,5,6,7,8,9];let E;for(E=0;E<10;E+=1){const O=ec(C,_,E);g[E]?g[E].p(O,T):(g[E]=nc(O),g[E].c(),g[E].m(r,null))}for(;E<10;E+=1)g[E].d(1)}const S={};T[0]&536870920|T[1]&4&&(S.$$scope={dirty:T,ctx:C}),a.$set(S),C[1].$isNew?k&&(ue(),I(k,1,1,()=>{k=null}),fe()):k?(k.p(C,T),T[0]&2&&M(k,1)):(k=lc(C),k.c(),M(k,1),k.m(e,f)),C[1].$isNew||C[4]?$?($.p(C,T),T[0]&18&&M($,1)):($=ic(C),$.c(),M($,1),$.m(e,null)):$&&(ue(),I($,1,1,()=>{$=null}),fe())},i(C){c||(M(v),M(a.$$.fragment,C),M(k),M($),c=!0)},o(C){I(v),I(a.$$.fragment,C),I(k),I($),c=!1},d(C){C&&y(e),v&&v.d(),it(g,C),V(a),k&&k.d(),$&&$.d(),d=!1,m()}}}function F3(n){let e,t=n[1].$isNew?"新建管理员":"修改管理员",l;return{c(){e=h("h4"),l=B(t)},m(i,s){w(i,e,s),b(e,l)},p(i,s){s[0]&2&&t!==(t=i[1].$isNew?"新建管理员":"修改管理员")&&oe(l,t)},d(i){i&&y(e)}}}function sc(n){let e,t,l,i,s,r,o,a,u;return r=new gn({props:{class:"dropdown dropdown-upside dropdown-left dropdown-nowrap",$$slots:{default:[L3]},$$scope:{ctx:n}}}),{c(){e=h("button"),t=h("span"),l=D(),i=h("i"),s=D(),U(r.$$.fragment),o=D(),a=h("div"),p(i,"class","ri-more-line"),p(e,"type","button"),p(e,"aria-label","More"),p(e,"class","btn btn-sm btn-circle btn-transparent"),p(a,"class","flex-fill")},m(f,c){w(f,e,c),b(e,t),b(e,l),b(e,i),b(e,s),H(r,e,null),w(f,o,c),w(f,a,c),u=!0},p(f,c){const d={};c[1]&4&&(d.$$scope={dirty:c,ctx:f}),r.$set(d)},i(f){u||(M(r.$$.fragment,f),u=!0)},o(f){I(r.$$.fragment,f),u=!1},d(f){f&&y(e),V(r),f&&y(o),f&&y(a)}}}function L3(n){let e,t,l;return{c(){e=h("button"),e.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">删除</span>`,p(e,"type","button"),p(e,"class","dropdown-item txt-danger")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[15]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function q3(n){let e,t,l,i,s,r,o=n[1].$isNew?"创建":"保存更改",a,u,f,c,d,m=!n[1].$isNew&&sc(n);return{c(){m&&m.c(),e=D(),t=h("button"),l=h("span"),l.textContent="取消",i=D(),s=h("button"),r=h("span"),a=B(o),p(l,"class","txt"),p(t,"type","button"),p(t,"class","btn btn-transparent"),t.disabled=n[6],p(r,"class","txt"),p(s,"type","submit"),p(s,"form",n[11]),p(s,"class","btn btn-expanded"),s.disabled=u=!n[10]||n[6],X(s,"btn-loading",n[6])},m(v,_){m&&m.m(v,_),w(v,e,_),w(v,t,_),b(t,l),w(v,i,_),w(v,s,_),b(s,r),b(r,a),f=!0,c||(d=Y(t,"click",n[16]),c=!0)},p(v,_){v[1].$isNew?m&&(ue(),I(m,1,1,()=>{m=null}),fe()):m?(m.p(v,_),_[0]&2&&M(m,1)):(m=sc(v),m.c(),M(m,1),m.m(e.parentNode,e)),(!f||_[0]&64)&&(t.disabled=v[6]),(!f||_[0]&2)&&o!==(o=v[1].$isNew?"创建":"保存更改")&&oe(a,o),(!f||_[0]&1088&&u!==(u=!v[10]||v[6]))&&(s.disabled=u),(!f||_[0]&64)&&X(s,"btn-loading",v[6])},i(v){f||(M(m),f=!0)},o(v){I(m),f=!1},d(v){m&&m.d(v),v&&y(e),v&&y(t),v&&y(i),v&&y(s),c=!1,d()}}}function P3(n){let e,t,l={popup:!0,class:"admin-panel",beforeHide:n[22],$$slots:{footer:[q3],header:[F3],default:[N3]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[23](e),e.$on("hide",n[24]),e.$on("show",n[25]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,s){const r={};s[0]&1152&&(r.beforeHide=i[22]),s[0]&1886|s[1]&4&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[23](null),V(e,i)}}}function R3(n,e,t){let l;const i=pt(),s="admin_"+j.randomString(5);let r,o=new fl,a=!1,u=!1,f=0,c="",d="",m="",v=!1;function _(K){return k(K),t(7,u=!0),r==null?void 0:r.show()}function g(){return r==null?void 0:r.hide()}function k(K){t(1,o=K!=null&&K.$clone?K.$clone():new fl),$()}function $(){t(4,v=!1),t(3,c=(o==null?void 0:o.email)||""),t(2,f=(o==null?void 0:o.avatar)||0),t(8,d=""),t(9,m=""),jt({})}function C(){if(a||!l)return;t(6,a=!0);const K={email:c,avatar:f};(o.$isNew||v)&&(K.password=d,K.passwordConfirm=m);let Q;o.$isNew?Q=ce.admins.create(K):Q=ce.admins.update(o.id,K),Q.then(async J=>{var Z;t(7,u=!1),g(),wt(o.$isNew?"成功创建管理员":"成功更新管理员"),((Z=ce.authStore.model)==null?void 0:Z.id)===J.id&&ce.authStore.save(ce.authStore.token,J),i("save",J)}).catch(J=>{ce.error(J)}).finally(()=>{t(6,a=!1)})}function T(){o!=null&&o.id&&Gt("是否删除选中的管理员",()=>ce.admins.delete(o.id).then(()=>{t(7,u=!1),g(),wt("成功删除管理员"),i("delete",o)}).catch(K=>{ce.error(K)}))}const S=()=>T(),E=()=>g(),O=K=>t(2,f=K);function A(){c=this.value,t(3,c)}function N(){v=this.checked,t(4,v)}function F(){d=this.value,t(8,d)}function L(){m=this.value,t(9,m)}const P=()=>l&&u?(Gt("是否不保存而直接关闭面板",()=>{t(7,u=!1),g()}),!1):!0;function R(K){le[K?"unshift":"push"](()=>{r=K,t(5,r)})}function q(K){De.call(this,n,K)}function z(K){De.call(this,n,K)}return n.$$.update=()=>{n.$$.dirty[0]&30&&t(10,l=o.$isNew&&c!=""||v||c!==o.email||f!==o.avatar)},[g,o,f,c,v,r,a,u,d,m,l,s,C,T,_,S,E,O,A,N,F,L,P,R,q,z]}class j3 extends ge{constructor(e){super(),be(this,e,R3,P3,_e,{show:14,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[14]}get hide(){return this.$$.ctx[0]}}function H3(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O,A,N,F,L;return{c(){e=h("aside"),t=h("div"),l=h("div"),l.textContent="系统管理",i=D(),s=h("a"),s.innerHTML=`<i class="ri-home-gear-line"></i> 
            <span class="txt">应用设置</span>`,r=D(),o=h("a"),o.innerHTML=`<i class="ri-send-plane-2-line"></i> 
            <span class="txt">邮箱设置</span>`,a=D(),u=h("a"),u.innerHTML=`<i class="ri-archive-drawer-line"></i> 
            <span class="txt">文件存储</span>`,f=D(),c=h("a"),c.innerHTML=`<i class="ri-archive-line"></i> 
            <span class="txt">附件备份</span>`,d=D(),m=h("div"),m.innerHTML='<span class="txt">迁移</span>',v=D(),_=h("a"),_.innerHTML=`<i class="ri-uninstall-line"></i> 
            <span class="txt">导出表结构</span>`,g=D(),k=h("a"),k.innerHTML=`<i class="ri-install-line"></i> 
            <span class="txt">导入表结构</span>`,$=D(),C=h("div"),C.textContent="Auth设置",T=D(),S=h("a"),S.innerHTML=`<i class="ri-lock-password-line"></i> 
            <span class="txt">第三方登录设置</span>`,E=D(),O=h("a"),O.innerHTML=`<i class="ri-key-line"></i> 
            <span class="txt">Token 设置</span>`,A=D(),N=h("a"),N.innerHTML=`<i class="ri-shield-user-line"></i> 
            <span class="txt">管理员管理</span>`,p(l,"class","sidebar-title"),p(s,"href","/settings"),p(s,"class","sidebar-list-item"),p(o,"href","/settings/mail"),p(o,"class","sidebar-list-item"),p(u,"href","/settings/storage"),p(u,"class","sidebar-list-item"),p(c,"href","/settings/backups"),p(c,"class","sidebar-list-item"),p(m,"class","sidebar-title"),p(_,"href","/settings/export-collections"),p(_,"class","sidebar-list-item"),p(k,"href","/settings/import-collections"),p(k,"class","sidebar-list-item"),p(C,"class","sidebar-title"),p(S,"href","/settings/auth-providers"),p(S,"class","sidebar-list-item"),p(O,"href","/settings/tokens"),p(O,"class","sidebar-list-item"),p(N,"href","/settings/admins"),p(N,"class","sidebar-list-item"),p(t,"class","sidebar-content"),p(e,"class","page-sidebar settings-sidebar")},m(P,R){w(P,e,R),b(e,t),b(t,l),b(t,i),b(t,s),b(t,r),b(t,o),b(t,a),b(t,u),b(t,f),b(t,c),b(t,d),b(t,m),b(t,v),b(t,_),b(t,g),b(t,k),b(t,$),b(t,C),b(t,T),b(t,S),b(t,E),b(t,O),b(t,A),b(t,N),F||(L=[$e(yn.call(null,s,{path:"/settings"})),$e(Zt.call(null,s)),$e(yn.call(null,o,{path:"/settings/mail/?.*"})),$e(Zt.call(null,o)),$e(yn.call(null,u,{path:"/settings/storage/?.*"})),$e(Zt.call(null,u)),$e(yn.call(null,c,{path:"/settings/backups/?.*"})),$e(Zt.call(null,c)),$e(yn.call(null,_,{path:"/settings/export-collections/?.*"})),$e(Zt.call(null,_)),$e(yn.call(null,k,{path:"/settings/import-collections/?.*"})),$e(Zt.call(null,k)),$e(yn.call(null,S,{path:"/settings/auth-providers/?.*"})),$e(Zt.call(null,S)),$e(yn.call(null,O,{path:"/settings/tokens/?.*"})),$e(Zt.call(null,O)),$e(yn.call(null,N,{path:"/settings/admins/?.*"})),$e(Zt.call(null,N))],F=!0)},p:x,i:x,o:x,d(P){P&&y(e),F=!1,Te(L)}}}class Vn extends ge{constructor(e){super(),be(this,e,null,H3,_e,{})}}function rc(n,e,t){const l=n.slice();return l[24]=e[t],l}function V3(n){let e,t,l,i;return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),i.textContent="id",p(t,"class",j.getFieldTypeIcon("primary")),p(i,"class","txt"),p(e,"class","col-header-content")},m(s,r){w(s,e,r),b(e,t),b(e,l),b(e,i)},p:x,d(s){s&&y(e)}}}function U3(n){let e,t,l,i;return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),i.textContent="email",p(t,"class",j.getFieldTypeIcon("email")),p(i,"class","txt"),p(e,"class","col-header-content")},m(s,r){w(s,e,r),b(e,t),b(e,l),b(e,i)},p:x,d(s){s&&y(e)}}}function z3(n){let e,t,l,i;return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),i.textContent="created",p(t,"class",j.getFieldTypeIcon("date")),p(i,"class","txt"),p(e,"class","col-header-content")},m(s,r){w(s,e,r),b(e,t),b(e,l),b(e,i)},p:x,d(s){s&&y(e)}}}function B3(n){let e,t,l,i;return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),i.textContent="updated",p(t,"class",j.getFieldTypeIcon("date")),p(i,"class","txt"),p(e,"class","col-header-content")},m(s,r){w(s,e,r),b(e,t),b(e,l),b(e,i)},p:x,d(s){s&&y(e)}}}function oc(n){let e;function t(s,r){return s[5]?K3:W3}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&y(e)}}}function W3(n){var o;let e,t,l,i,s,r=((o=n[1])==null?void 0:o.length)&&ac(n);return{c(){e=h("tr"),t=h("td"),l=h("h6"),l.textContent="No admins found.",i=D(),r&&r.c(),s=D(),p(t,"colspan","99"),p(t,"class","txt-center txt-hint p-xs")},m(a,u){w(a,e,u),b(e,t),b(t,l),b(t,i),r&&r.m(t,null),b(e,s)},p(a,u){var f;(f=a[1])!=null&&f.length?r?r.p(a,u):(r=ac(a),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(a){a&&y(e),r&&r.d()}}}function K3(n){let e;return{c(){e=h("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                        `},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function ac(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<span class="txt">Clear filters</span>',p(e,"type","button"),p(e,"class","btn btn-hint btn-expanded m-t-sm")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[17]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function uc(n){let e;return{c(){e=h("span"),e.textContent="You",p(e,"class","label label-warning m-l-5")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function fc(n,e){let t,l,i,s,r,o,a,u,f,c,d,m=e[24].id+"",v,_,g,k,$,C=e[24].email+"",T,S,E,O,A,N,F,L,P,R,q,z,K,Q;f=new ai({props:{value:e[24].id}});let J=e[24].id===e[7].id&&uc();A=new cl({props:{date:e[24].created}}),L=new cl({props:{date:e[24].updated}});function Z(){return e[15](e[24])}function se(...ee){return e[16](e[24],...ee)}return{key:n,first:null,c(){t=h("tr"),l=h("td"),i=h("figure"),s=h("img"),o=D(),a=h("td"),u=h("div"),U(f.$$.fragment),c=D(),d=h("span"),v=B(m),_=D(),J&&J.c(),g=D(),k=h("td"),$=h("span"),T=B(C),E=D(),O=h("td"),U(A.$$.fragment),N=D(),F=h("td"),U(L.$$.fragment),P=D(),R=h("td"),R.innerHTML='<i class="ri-arrow-right-line"></i>',q=D(),Xt(s.src,r="./images/avatars/avatar"+(e[24].avatar||0)+".svg")||p(s,"src",r),p(s,"alt","头像"),p(i,"class","thumb thumb-sm thumb-circle"),p(l,"class","min-width"),p(d,"class","txt"),p(u,"class","label"),p(a,"class","col-type-text col-field-id"),p($,"class","txt txt-ellipsis"),p($,"title",S=e[24].email),p(k,"class","col-type-email col-field-email"),p(O,"class","col-type-date col-field-created"),p(F,"class","col-type-date col-field-updated"),p(R,"class","col-type-action min-width"),p(t,"tabindex","0"),p(t,"class","row-handle"),this.first=t},m(ee,te){w(ee,t,te),b(t,l),b(l,i),b(i,s),b(t,o),b(t,a),b(a,u),H(f,u,null),b(u,c),b(u,d),b(d,v),b(a,_),J&&J.m(a,null),b(t,g),b(t,k),b(k,$),b($,T),b(t,E),b(t,O),H(A,O,null),b(t,N),b(t,F),H(L,F,null),b(t,P),b(t,R),b(t,q),z=!0,K||(Q=[Y(t,"click",Z),Y(t,"keydown",se)],K=!0)},p(ee,te){e=ee,(!z||te&16&&!Xt(s.src,r="./images/avatars/avatar"+(e[24].avatar||0)+".svg"))&&p(s,"src",r);const pe={};te&16&&(pe.value=e[24].id),f.$set(pe),(!z||te&16)&&m!==(m=e[24].id+"")&&oe(v,m),e[24].id===e[7].id?J||(J=uc(),J.c(),J.m(a,null)):J&&(J.d(1),J=null),(!z||te&16)&&C!==(C=e[24].email+"")&&oe(T,C),(!z||te&16&&S!==(S=e[24].email))&&p($,"title",S);const Ee={};te&16&&(Ee.date=e[24].created),A.$set(Ee);const We={};te&16&&(We.date=e[24].updated),L.$set(We)},i(ee){z||(M(f.$$.fragment,ee),M(A.$$.fragment,ee),M(L.$$.fragment,ee),z=!0)},o(ee){I(f.$$.fragment,ee),I(A.$$.fragment,ee),I(L.$$.fragment,ee),z=!1},d(ee){ee&&y(t),V(f),J&&J.d(),V(A),V(L),K=!1,Te(Q)}}}function Y3(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S=[],E=new Map,O;function A(Z){n[11](Z)}let N={class:"col-type-text",name:"id",$$slots:{default:[V3]},$$scope:{ctx:n}};n[2]!==void 0&&(N.sort=n[2]),r=new Cn({props:N}),le.push(()=>me(r,"sort",A));function F(Z){n[12](Z)}let L={class:"col-type-email col-field-email",name:"email",$$slots:{default:[U3]},$$scope:{ctx:n}};n[2]!==void 0&&(L.sort=n[2]),u=new Cn({props:L}),le.push(()=>me(u,"sort",F));function P(Z){n[13](Z)}let R={class:"col-type-date col-field-created",name:"created",$$slots:{default:[z3]},$$scope:{ctx:n}};n[2]!==void 0&&(R.sort=n[2]),d=new Cn({props:R}),le.push(()=>me(d,"sort",P));function q(Z){n[14](Z)}let z={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[B3]},$$scope:{ctx:n}};n[2]!==void 0&&(z.sort=n[2]),_=new Cn({props:z}),le.push(()=>me(_,"sort",q));let K=n[4];const Q=Z=>Z[24].id;for(let Z=0;Z<K.length;Z+=1){let se=rc(n,K,Z),ee=Q(se);E.set(ee,S[Z]=fc(ee,se))}let J=null;return K.length||(J=oc(n)),{c(){e=h("table"),t=h("thead"),l=h("tr"),i=h("th"),s=D(),U(r.$$.fragment),a=D(),U(u.$$.fragment),c=D(),U(d.$$.fragment),v=D(),U(_.$$.fragment),k=D(),$=h("th"),C=D(),T=h("tbody");for(let Z=0;Z<S.length;Z+=1)S[Z].c();J&&J.c(),p(i,"class","min-width"),p($,"class","col-type-action min-width"),p(e,"class","table"),X(e,"table-loading",n[5])},m(Z,se){w(Z,e,se),b(e,t),b(t,l),b(l,i),b(l,s),H(r,l,null),b(l,a),H(u,l,null),b(l,c),H(d,l,null),b(l,v),H(_,l,null),b(l,k),b(l,$),b(e,C),b(e,T);for(let ee=0;ee<S.length;ee+=1)S[ee]&&S[ee].m(T,null);J&&J.m(T,null),O=!0},p(Z,se){const ee={};se&134217728&&(ee.$$scope={dirty:se,ctx:Z}),!o&&se&4&&(o=!0,ee.sort=Z[2],he(()=>o=!1)),r.$set(ee);const te={};se&134217728&&(te.$$scope={dirty:se,ctx:Z}),!f&&se&4&&(f=!0,te.sort=Z[2],he(()=>f=!1)),u.$set(te);const pe={};se&134217728&&(pe.$$scope={dirty:se,ctx:Z}),!m&&se&4&&(m=!0,pe.sort=Z[2],he(()=>m=!1)),d.$set(pe);const Ee={};se&134217728&&(Ee.$$scope={dirty:se,ctx:Z}),!g&&se&4&&(g=!0,Ee.sort=Z[2],he(()=>g=!1)),_.$set(Ee),se&186&&(K=Z[4],ue(),S=rt(S,se,Q,1,Z,K,E,T,Ot,fc,null,rc),fe(),!K.length&&J?J.p(Z,se):K.length?J&&(J.d(1),J=null):(J=oc(Z),J.c(),J.m(T,null))),(!O||se&32)&&X(e,"table-loading",Z[5])},i(Z){if(!O){M(r.$$.fragment,Z),M(u.$$.fragment,Z),M(d.$$.fragment,Z),M(_.$$.fragment,Z);for(let se=0;se<K.length;se+=1)M(S[se]);O=!0}},o(Z){I(r.$$.fragment,Z),I(u.$$.fragment,Z),I(d.$$.fragment,Z),I(_.$$.fragment,Z);for(let se=0;se<S.length;se+=1)I(S[se]);O=!1},d(Z){Z&&y(e),V(r),V(u),V(d),V(_);for(let se=0;se<S.length;se+=1)S[se].d();J&&J.d()}}}function cc(n){let e,t,l=n[4].length+"",i,s,r=n[4].length+"",o;return{c(){e=h("small"),t=B("Showing "),i=B(l),s=B(" of "),o=B(r),p(e,"class","block txt-hint txt-right m-t-sm")},m(a,u){w(a,e,u),b(e,t),b(e,i),b(e,s),b(e,o)},p(a,u){u&16&&l!==(l=a[4].length+"")&&oe(i,l),u&16&&r!==(r=a[4].length+"")&&oe(o,r)},d(a){a&&y(e)}}}function J3(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O;a=new ur({}),a.$on("refresh",n[8]),v=new ar({props:{value:n[1],placeholder:"搜索可以参考这样去写 email='test@example.com'",extraAutocompleteKeys:["email"]}}),v.$on("submit",n[10]),$=new am({props:{class:"table-wrapper",$$slots:{default:[Y3]},$$scope:{ctx:n}}});let A=n[4].length&&cc(n);return{c(){e=h("header"),t=h("nav"),l=h("div"),l.textContent="设置",i=D(),s=h("div"),r=B(n[6]),o=D(),U(a.$$.fragment),u=D(),f=h("div"),c=D(),d=h("button"),d.innerHTML=`<i class="ri-add-line"></i> 
            <span class="txt">新管理员</span>`,m=D(),U(v.$$.fragment),_=D(),g=h("div"),k=D(),U($.$$.fragment),C=D(),A&&A.c(),T=ke(),p(l,"class","breadcrumb-item"),p(s,"class","breadcrumb-item"),p(t,"class","breadcrumbs"),p(f,"class","flex-fill"),p(d,"type","button"),p(d,"class","btn btn-expanded"),p(e,"class","page-header"),p(g,"class","clearfix m-b-base")},m(N,F){w(N,e,F),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),b(e,o),H(a,e,null),b(e,u),b(e,f),b(e,c),b(e,d),w(N,m,F),H(v,N,F),w(N,_,F),w(N,g,F),w(N,k,F),H($,N,F),w(N,C,F),A&&A.m(N,F),w(N,T,F),S=!0,E||(O=Y(d,"click",n[9]),E=!0)},p(N,F){(!S||F&64)&&oe(r,N[6]);const L={};F&2&&(L.value=N[1]),v.$set(L);const P={};F&134217918&&(P.$$scope={dirty:F,ctx:N}),$.$set(P),N[4].length?A?A.p(N,F):(A=cc(N),A.c(),A.m(T.parentNode,T)):A&&(A.d(1),A=null)},i(N){S||(M(a.$$.fragment,N),M(v.$$.fragment,N),M($.$$.fragment,N),S=!0)},o(N){I(a.$$.fragment,N),I(v.$$.fragment,N),I($.$$.fragment,N),S=!1},d(N){N&&y(e),V(a),N&&y(m),V(v,N),N&&y(_),N&&y(g),N&&y(k),V($,N),N&&y(C),A&&A.d(N),N&&y(T),E=!1,O()}}}function Z3(n){let e,t,l,i,s,r;e=new Vn({}),l=new dn({props:{$$slots:{default:[J3]},$$scope:{ctx:n}}});let o={};return s=new j3({props:o}),n[18](s),s.$on("save",n[19]),s.$on("delete",n[20]),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment),i=D(),U(s.$$.fragment)},m(a,u){H(e,a,u),w(a,t,u),H(l,a,u),w(a,i,u),H(s,a,u),r=!0},p(a,[u]){const f={};u&134217982&&(f.$$scope={dirty:u,ctx:a}),l.$set(f);const c={};s.$set(c)},i(a){r||(M(e.$$.fragment,a),M(l.$$.fragment,a),M(s.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(l.$$.fragment,a),I(s.$$.fragment,a),r=!1},d(a){V(e,a),a&&y(t),V(l,a),a&&y(i),n[18](null),V(s,a)}}}function G3(n,e,t){let l,i,s;Ve(n,sr,L=>t(21,l=L)),Ve(n,vt,L=>t(6,i=L)),Ve(n,lr,L=>t(7,s=L)),Wt(vt,i="管理员管理",i);const r=new URLSearchParams(l);let o,a=[],u=!1,f=r.get("filter")||"",c=r.get("sort")||"-created";function d(){t(5,u=!0),t(4,a=[]);const L=j.normalizeSearchFilter(f,["id","email","created","updated"]);return ce.admins.getFullList(100,{sort:c||"-created",filter:L}).then(P=>{t(4,a=P),t(5,u=!1)}).catch(P=>{P!=null&&P.isAbort||(t(5,u=!1),console.warn(P),m(),ce.error(P,!1))})}function m(){t(4,a=[])}const v=()=>d(),_=()=>o==null?void 0:o.show(),g=L=>t(1,f=L.detail);function k(L){c=L,t(2,c)}function $(L){c=L,t(2,c)}function C(L){c=L,t(2,c)}function T(L){c=L,t(2,c)}const S=L=>o==null?void 0:o.show(L),E=(L,P)=>{(P.code==="Enter"||P.code==="Space")&&(P.preventDefault(),o==null||o.show(L))},O=()=>t(1,f="");function A(L){le[L?"unshift":"push"](()=>{o=L,t(3,o)})}const N=()=>d(),F=()=>d();return n.$$.update=()=>{if(n.$$.dirty&6&&c!==-1&&f!==-1){const L=new URLSearchParams({filter:f,sort:c}).toString();Gn("/settings/admins?"+L),d()}},[d,f,c,o,a,u,i,s,v,_,g,k,$,C,T,S,E,O,A,N,F]}class Q3 extends ge{constructor(e){super(),be(this,e,G3,Z3,_e,{loadAdmins:0})}get loadAdmins(){return this.$$.ctx[0]}}function X3(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("邮箱"),i=D(),s=h("input"),p(e,"for",l=n[8]),p(s,"type","email"),p(s,"id",r=n[8]),s.required=!0,s.autofocus=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0]),s.focus(),o||(a=Y(s,"input",n[4]),o=!0)},p(u,f){f&256&&l!==(l=u[8])&&p(e,"for",l),f&256&&r!==(r=u[8])&&p(s,"id",r),f&1&&s.value!==u[0]&&re(s,u[0])},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function x3(n){let e,t,l,i,s,r,o,a,u,f,c;return{c(){e=h("label"),t=B("密码"),i=D(),s=h("input"),o=D(),a=h("div"),u=h("a"),u.textContent="忘记密码 ?",p(e,"for",l=n[8]),p(s,"type","password"),p(s,"id",r=n[8]),s.required=!0,p(u,"href","/request-password-reset"),p(u,"class","link-hint"),p(a,"class","help-block")},m(d,m){w(d,e,m),b(e,t),w(d,i,m),w(d,s,m),re(s,n[1]),w(d,o,m),w(d,a,m),b(a,u),f||(c=[Y(s,"input",n[5]),$e(Zt.call(null,u))],f=!0)},p(d,m){m&256&&l!==(l=d[8])&&p(e,"for",l),m&256&&r!==(r=d[8])&&p(s,"id",r),m&2&&s.value!==d[1]&&re(s,d[1])},d(d){d&&y(e),d&&y(i),d&&y(s),d&&y(o),d&&y(a),f=!1,Te(c)}}}function e$(n){let e,t,l,i,s,r,o,a,u,f,c;return i=new de({props:{class:"form-field required",name:"identity",$$slots:{default:[X3,({uniqueId:d})=>({8:d}),({uniqueId:d})=>d?256:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field required",name:"password",$$slots:{default:[x3,({uniqueId:d})=>({8:d}),({uniqueId:d})=>d?256:0]},$$scope:{ctx:n}}}),{c(){e=h("form"),t=h("div"),t.innerHTML="<h4>登录</h4>",l=D(),U(i.$$.fragment),s=D(),U(r.$$.fragment),o=D(),a=h("button"),a.innerHTML=`<span class="txt">Login</span> 
            <i class="ri-arrow-right-line"></i>`,p(t,"class","content txt-center m-b-base"),p(a,"type","submit"),p(a,"class","btn btn-lg btn-block btn-next"),X(a,"btn-disabled",n[2]),X(a,"btn-loading",n[2]),p(e,"class","block")},m(d,m){w(d,e,m),b(e,t),b(e,l),H(i,e,null),b(e,s),H(r,e,null),b(e,o),b(e,a),u=!0,f||(c=Y(e,"submit",Ke(n[3])),f=!0)},p(d,m){const v={};m&769&&(v.$$scope={dirty:m,ctx:d}),i.$set(v);const _={};m&770&&(_.$$scope={dirty:m,ctx:d}),r.$set(_),(!u||m&4)&&X(a,"btn-disabled",d[2]),(!u||m&4)&&X(a,"btn-loading",d[2])},i(d){u||(M(i.$$.fragment,d),M(r.$$.fragment,d),u=!0)},o(d){I(i.$$.fragment,d),I(r.$$.fragment,d),u=!1},d(d){d&&y(e),V(i),V(r),f=!1,c()}}}function t$(n){let e,t;return e=new nm({props:{$$slots:{default:[e$]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&519&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function n$(n,e,t){let l;Ve(n,sr,c=>t(6,l=c));const i=new URLSearchParams(l);let s=i.get("demoEmail")||"",r=i.get("demoPassword")||"",o=!1;function a(){if(!o)return t(2,o=!0),ce.admins.authWithPassword(s,r).then(()=>{tr(),Gn("/")}).catch(()=>{Ol("Invalid login credentials.")}).finally(()=>{t(2,o=!1)})}function u(){s=this.value,t(0,s)}function f(){r=this.value,t(1,r)}return[s,r,o,a,u,f]}class l$ extends ge{constructor(e){super(),be(this,e,n$,t$,_e,{})}}function i$(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S;l=new de({props:{class:"form-field required",name:"meta.appName",$$slots:{default:[r$,({uniqueId:O})=>({19:O}),({uniqueId:O})=>O?524288:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field required",name:"meta.appUrl",$$slots:{default:[o$,({uniqueId:O})=>({19:O}),({uniqueId:O})=>O?524288:0]},$$scope:{ctx:n}}}),a=new de({props:{class:"form-field required",name:"logs.maxDays",$$slots:{default:[a$,({uniqueId:O})=>({19:O}),({uniqueId:O})=>O?524288:0]},$$scope:{ctx:n}}}),f=new de({props:{class:"form-field form-field-toggle",name:"meta.hideControls",$$slots:{default:[u$,({uniqueId:O})=>({19:O}),({uniqueId:O})=>O?524288:0]},$$scope:{ctx:n}}});let E=n[3]&&dc(n);return{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),o=D(),U(a.$$.fragment),u=D(),U(f.$$.fragment),c=D(),d=h("div"),m=h("div"),v=D(),E&&E.c(),_=D(),g=h("button"),k=h("span"),k.textContent="确定",p(t,"class","col-lg-6"),p(s,"class","col-lg-6"),p(m,"class","flex-fill"),p(k,"class","txt"),p(g,"type","submit"),p(g,"class","btn btn-expanded"),g.disabled=$=!n[3]||n[2],X(g,"btn-loading",n[2]),p(d,"class","col-lg-12 flex"),p(e,"class","grid")},m(O,A){w(O,e,A),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),b(e,o),H(a,e,null),b(e,u),H(f,e,null),b(e,c),b(e,d),b(d,m),b(d,v),E&&E.m(d,null),b(d,_),b(d,g),b(g,k),C=!0,T||(S=Y(g,"click",n[13]),T=!0)},p(O,A){const N={};A&1572865&&(N.$$scope={dirty:A,ctx:O}),l.$set(N);const F={};A&1572865&&(F.$$scope={dirty:A,ctx:O}),r.$set(F);const L={};A&1572865&&(L.$$scope={dirty:A,ctx:O}),a.$set(L);const P={};A&1572865&&(P.$$scope={dirty:A,ctx:O}),f.$set(P),O[3]?E?E.p(O,A):(E=dc(O),E.c(),E.m(d,_)):E&&(E.d(1),E=null),(!C||A&12&&$!==($=!O[3]||O[2]))&&(g.disabled=$),(!C||A&4)&&X(g,"btn-loading",O[2])},i(O){C||(M(l.$$.fragment,O),M(r.$$.fragment,O),M(a.$$.fragment,O),M(f.$$.fragment,O),C=!0)},o(O){I(l.$$.fragment,O),I(r.$$.fragment,O),I(a.$$.fragment,O),I(f.$$.fragment,O),C=!1},d(O){O&&y(e),V(l),V(r),V(a),V(f),E&&E.d(),T=!1,S()}}}function s$(n){let e;return{c(){e=h("div"),p(e,"class","loader")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function r$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("应用名"),i=D(),s=h("input"),p(e,"for",l=n[19]),p(s,"type","text"),p(s,"id",r=n[19]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].meta.appName),o||(a=Y(s,"input",n[8]),o=!0)},p(u,f){f&524288&&l!==(l=u[19])&&p(e,"for",l),f&524288&&r!==(r=u[19])&&p(s,"id",r),f&1&&s.value!==u[0].meta.appName&&re(s,u[0].meta.appName)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function o$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("应用地址"),i=D(),s=h("input"),p(e,"for",l=n[19]),p(s,"type","text"),p(s,"id",r=n[19]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].meta.appUrl),o||(a=Y(s,"input",n[9]),o=!0)},p(u,f){f&524288&&l!==(l=u[19])&&p(e,"for",l),f&524288&&r!==(r=u[19])&&p(s,"id",r),f&1&&s.value!==u[0].meta.appUrl&&re(s,u[0].meta.appUrl)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function a$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("日志最大保留天数"),i=D(),s=h("input"),p(e,"for",l=n[19]),p(s,"type","number"),p(s,"id",r=n[19]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].logs.maxDays),o||(a=Y(s,"input",n[10]),o=!0)},p(u,f){f&524288&&l!==(l=u[19])&&p(e,"for",l),f&524288&&r!==(r=u[19])&&p(s,"id",r),f&1&&lt(s.value)!==u[0].logs.maxDays&&re(s,u[0].logs.maxDays)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function u$(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("input"),l=D(),i=h("label"),s=h("span"),s.textContent="禁用修改表结构",r=D(),o=h("i"),p(e,"type","checkbox"),p(e,"id",t=n[19]),p(s,"class","txt"),p(o,"class","ri-information-line link-hint"),p(i,"for",a=n[19])},m(c,d){w(c,e,d),e.checked=n[0].meta.hideControls,w(c,l,d),w(c,i,d),b(i,s),b(i,r),b(i,o),u||(f=[Y(e,"change",n[11]),$e(Pe.call(null,o,{text:"当你选择禁用后，表结构设置相关按钮会隐藏.",position:"right"}))],u=!0)},p(c,d){d&524288&&t!==(t=c[19])&&p(e,"id",t),d&1&&(e.checked=c[0].meta.hideControls),d&524288&&a!==(a=c[19])&&p(i,"for",a)},d(c){c&&y(e),c&&y(l),c&&y(i),u=!1,Te(f)}}}function dc(n){let e,t,l,i;return{c(){e=h("button"),t=h("span"),t.textContent="取消",p(t,"class","txt"),p(e,"type","button"),p(e,"class","btn btn-transparent btn-hint"),e.disabled=n[2]},m(s,r){w(s,e,r),b(e,t),l||(i=Y(e,"click",n[12]),l=!0)},p(s,r){r&4&&(e.disabled=s[2])},d(s){s&&y(e),l=!1,i()}}}function f$(n){let e,t,l,i,s,r,o,a,u;const f=[s$,i$],c=[];function d(m,v){return m[1]?0:1}return s=d(n),r=c[s]=f[s](n),{c(){e=h("header"),e.innerHTML=`<nav class="breadcrumbs"><div class="breadcrumb-item">系统管理</div> 
            <div class="breadcrumb-item">应用设置</div></nav>`,t=D(),l=h("div"),i=h("form"),r.c(),p(e,"class","page-header"),p(i,"class","panel"),p(i,"autocomplete","off"),p(l,"class","wrapper")},m(m,v){w(m,e,v),w(m,t,v),w(m,l,v),b(l,i),c[s].m(i,null),o=!0,a||(u=Y(i,"submit",Ke(n[4])),a=!0)},p(m,v){let _=s;s=d(m),s===_?c[s].p(m,v):(ue(),I(c[_],1,1,()=>{c[_]=null}),fe(),r=c[s],r?r.p(m,v):(r=c[s]=f[s](m),r.c()),M(r,1),r.m(i,null))},i(m){o||(M(r),o=!0)},o(m){I(r),o=!1},d(m){m&&y(e),m&&y(t),m&&y(l),c[s].d(),a=!1,u()}}}function c$(n){let e,t,l,i;return e=new Vn({}),l=new dn({props:{$$slots:{default:[f$]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(s,r){H(e,s,r),w(s,t,r),H(l,s,r),i=!0},p(s,[r]){const o={};r&1048591&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(M(e.$$.fragment,s),M(l.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),I(l.$$.fragment,s),i=!1},d(s){V(e,s),s&&y(t),V(l,s)}}}function d$(n,e,t){let l,i,s,r;Ve(n,Dl,E=>t(14,i=E)),Ve(n,Fi,E=>t(15,s=E)),Ve(n,vt,E=>t(16,r=E)),Wt(vt,r="应用设置",r);let o={},a={},u=!1,f=!1,c="";d();async function d(){t(1,u=!0);try{const E=await ce.settings.getAll()||{};v(E)}catch(E){ce.error(E)}t(1,u=!1)}async function m(){if(!(f||!l)){t(2,f=!0);try{const E=await ce.settings.update(j.filterRedactedProps(a));v(E),wt("Successfully saved application settings.")}catch(E){ce.error(E)}t(2,f=!1)}}function v(E={}){var O,A;Wt(Fi,s=(O=E==null?void 0:E.meta)==null?void 0:O.appName,s),Wt(Dl,i=!!((A=E==null?void 0:E.meta)!=null&&A.hideControls),i),t(0,a={meta:(E==null?void 0:E.meta)||{},logs:(E==null?void 0:E.logs)||{}}),t(6,o=JSON.parse(JSON.stringify(a)))}function _(){t(0,a=JSON.parse(JSON.stringify(o||{})))}function g(){a.meta.appName=this.value,t(0,a)}function k(){a.meta.appUrl=this.value,t(0,a)}function $(){a.logs.maxDays=lt(this.value),t(0,a)}function C(){a.meta.hideControls=this.checked,t(0,a)}const T=()=>_(),S=()=>m();return n.$$.update=()=>{n.$$.dirty&64&&t(7,c=JSON.stringify(o)),n.$$.dirty&129&&t(3,l=c!=JSON.stringify(a))},[a,u,f,l,m,_,o,c,g,k,$,C,T,S]}class p$ extends ge{constructor(e){super(),be(this,e,d$,c$,_e,{})}}function m$(n){let e,t,l,i=[{type:"password"},{autocomplete:"new-password"},n[5]],s={};for(let r=0;r<i.length;r+=1)s=Ae(s,i[r]);return{c(){e=h("input"),En(e,s)},m(r,o){w(r,e,o),e.autofocus&&e.focus(),n[7](e),re(e,n[0]),t||(l=Y(e,"input",n[8]),t=!0)},p(r,o){En(e,s=mt(i,[{type:"password"},{autocomplete:"new-password"},o&32&&r[5]])),o&1&&e.value!==r[0]&&re(e,r[0])},d(r){r&&y(e),n[7](null),t=!1,l()}}}function _$(n){let e,t,l,i,s,r,o=[{readOnly:!0},{type:"text"},{placeholder:n[1]},n[5]],a={};for(let u=0;u<o.length;u+=1)a=Ae(a,o[u]);return{c(){e=h("div"),t=h("button"),t.innerHTML='<i class="ri-key-line"></i>',l=D(),i=h("input"),p(t,"type","button"),p(t,"class","btn btn-transparent btn-circle"),p(e,"class","form-field-addon"),En(i,a)},m(u,f){w(u,e,f),b(e,t),w(u,l,f),w(u,i,f),i.autofocus&&i.focus(),s||(r=[$e(Pe.call(null,t,{position:"left",text:"Set new value"})),Y(t,"click",n[6])],s=!0)},p(u,f){En(i,a=mt(o,[{readOnly:!0},{type:"text"},f&2&&{placeholder:u[1]},f&32&&u[5]]))},d(u){u&&y(e),u&&y(l),u&&y(i),s=!1,Te(r)}}}function h$(n){let e;function t(s,r){return s[3]?_$:m$}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,[r]){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:x,o:x,d(s){i.d(s),s&&y(e)}}}function b$(n,e,t){const l=["value","mask"];let i=ze(e,l),{value:s=""}=e,{mask:r="******"}=e,o,a=!1;async function u(){t(0,s=""),t(3,a=!1),await Kt(),o==null||o.focus()}const f=()=>u();function c(m){le[m?"unshift":"push"](()=>{o=m,t(2,o)})}function d(){s=this.value,t(0,s)}return n.$$set=m=>{e=Ae(Ae({},e),It(m)),t(5,i=ze(e,l)),"value"in m&&t(0,s=m.value),"mask"in m&&t(1,r=m.mask)},n.$$.update=()=>{n.$$.dirty&3&&t(3,a=s===r)},[s,r,o,a,u,i,f,c,d]}class mr extends ge{constructor(e){super(),be(this,e,b$,h$,_e,{value:0,mask:1})}}function g$(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_;return{c(){e=h("label"),t=B("主题"),i=D(),s=h("input"),o=D(),a=h("div"),u=B(`可选变量 点击复制:
            `),f=h("button"),f.textContent=`{APP_NAME} 
            `,c=B(`,
            `),d=h("button"),d.textContent=`{APP_URL} 
            `,m=B("."),p(e,"for",l=n[31]),p(s,"type","text"),p(s,"id",r=n[31]),p(s,"spellcheck","false"),s.required=!0,p(f,"type","button"),p(f,"class","label label-sm link-primary txt-mono"),p(d,"type","button"),p(d,"class","label label-sm link-primary txt-mono"),p(a,"class","help-block")},m(g,k){w(g,e,k),b(e,t),w(g,i,k),w(g,s,k),re(s,n[0].subject),w(g,o,k),w(g,a,k),b(a,u),b(a,f),b(a,c),b(a,d),b(a,m),v||(_=[Y(s,"input",n[13]),Y(f,"click",n[14]),Y(d,"click",n[15])],v=!0)},p(g,k){k[1]&1&&l!==(l=g[31])&&p(e,"for",l),k[1]&1&&r!==(r=g[31])&&p(s,"id",r),k[0]&1&&s.value!==g[0].subject&&re(s,g[0].subject)},d(g){g&&y(e),g&&y(i),g&&y(s),g&&y(o),g&&y(a),v=!1,Te(_)}}}function v$(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k;return{c(){e=h("label"),t=B("点击链接"),i=D(),s=h("input"),o=D(),a=h("div"),u=B(`可选变量 点击复制:
            `),f=h("button"),f.textContent=`{APP_NAME} 
            `,c=B(`,
            `),d=h("button"),d.textContent=`{APP_URL} 
            `,m=B(`,
            `),v=h("button"),v.textContent=`{TOKEN} 
            `,_=B("."),p(e,"for",l=n[31]),p(s,"type","text"),p(s,"id",r=n[31]),p(s,"spellcheck","false"),s.required=!0,p(f,"type","button"),p(f,"class","label label-sm link-primary txt-mono"),p(d,"type","button"),p(d,"class","label label-sm link-primary txt-mono"),p(v,"type","button"),p(v,"class","label label-sm link-primary txt-mono"),p(v,"title","Required parameter"),p(a,"class","help-block")},m($,C){w($,e,C),b(e,t),w($,i,C),w($,s,C),re(s,n[0].actionUrl),w($,o,C),w($,a,C),b(a,u),b(a,f),b(a,c),b(a,d),b(a,m),b(a,v),b(a,_),g||(k=[Y(s,"input",n[16]),Y(f,"click",n[17]),Y(d,"click",n[18]),Y(v,"click",n[19])],g=!0)},p($,C){C[1]&1&&l!==(l=$[31])&&p(e,"for",l),C[1]&1&&r!==(r=$[31])&&p(s,"id",r),C[0]&1&&s.value!==$[0].actionUrl&&re(s,$[0].actionUrl)},d($){$&&y(e),$&&y(i),$&&y(s),$&&y(o),$&&y(a),g=!1,Te(k)}}}function k$(n){let e,t,l,i;return{c(){e=h("textarea"),p(e,"id",t=n[31]),p(e,"class","txt-mono"),p(e,"spellcheck","false"),p(e,"rows","14"),e.required=!0},m(s,r){w(s,e,r),re(e,n[0].body),l||(i=Y(e,"input",n[21]),l=!0)},p(s,r){r[1]&1&&t!==(t=s[31])&&p(e,"id",t),r[0]&1&&re(e,s[0].body)},i:x,o:x,d(s){s&&y(e),l=!1,i()}}}function y$(n){let e,t,l,i;function s(a){n[20](a)}var r=n[4];function o(a){let u={id:a[31],language:"html"};return a[0].body!==void 0&&(u.value=a[0].body),{props:u}}return r&&(e=gt(r,o(n)),le.push(()=>me(e,"value",s))),{c(){e&&U(e.$$.fragment),l=ke()},m(a,u){e&&H(e,a,u),w(a,l,u),i=!0},p(a,u){const f={};if(u[1]&1&&(f.id=a[31]),!t&&u[0]&1&&(t=!0,f.value=a[0].body,he(()=>t=!1)),u[0]&16&&r!==(r=a[4])){if(e){ue();const c=e;I(c.$$.fragment,1,0,()=>{V(c,1)}),fe()}r?(e=gt(r,o(a)),le.push(()=>me(e,"value",s)),U(e.$$.fragment),M(e.$$.fragment,1),H(e,l.parentNode,l)):e=null}else r&&e.$set(f)},i(a){i||(e&&M(e.$$.fragment,a),i=!0)},o(a){e&&I(e.$$.fragment,a),i=!1},d(a){a&&y(l),e&&V(e,a)}}}function w$(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T;const S=[y$,k$],E=[];function O(A,N){return A[4]&&!A[5]?0:1}return s=O(n),r=E[s]=S[s](n),{c(){e=h("label"),t=B("正文 (HTML)"),i=D(),r.c(),o=D(),a=h("div"),u=B(`可选变量 点击复制:
            `),f=h("button"),f.textContent=`{APP_NAME} 
            `,c=B(`,
            `),d=h("button"),d.textContent=`{APP_URL} 
            `,m=B(`,
            `),v=h("button"),v.textContent=`{TOKEN} 
            `,_=B(`,
            `),g=h("button"),g.textContent=`{ACTION_URL} 
            `,k=B("."),p(e,"for",l=n[31]),p(f,"type","button"),p(f,"class","label label-sm link-primary txt-mono"),p(d,"type","button"),p(d,"class","label label-sm link-primary txt-mono"),p(v,"type","button"),p(v,"class","label label-sm link-primary txt-mono"),p(g,"type","button"),p(g,"class","label label-sm link-primary txt-mono"),p(g,"title","Required parameter"),p(a,"class","help-block")},m(A,N){w(A,e,N),b(e,t),w(A,i,N),E[s].m(A,N),w(A,o,N),w(A,a,N),b(a,u),b(a,f),b(a,c),b(a,d),b(a,m),b(a,v),b(a,_),b(a,g),b(a,k),$=!0,C||(T=[Y(f,"click",n[22]),Y(d,"click",n[23]),Y(v,"click",n[24]),Y(g,"click",n[25])],C=!0)},p(A,N){(!$||N[1]&1&&l!==(l=A[31]))&&p(e,"for",l);let F=s;s=O(A),s===F?E[s].p(A,N):(ue(),I(E[F],1,1,()=>{E[F]=null}),fe(),r=E[s],r?r.p(A,N):(r=E[s]=S[s](A),r.c()),M(r,1),r.m(o.parentNode,o))},i(A){$||(M(r),$=!0)},o(A){I(r),$=!1},d(A){A&&y(e),A&&y(i),E[s].d(A),A&&y(o),A&&y(a),C=!1,Te(T)}}}function $$(n){let e,t,l,i,s,r;return e=new de({props:{class:"form-field required",name:n[1]+".subject",$$slots:{default:[g$,({uniqueId:o})=>({31:o}),({uniqueId:o})=>[0,o?1:0]]},$$scope:{ctx:n}}}),l=new de({props:{class:"form-field required",name:n[1]+".actionUrl",$$slots:{default:[v$,({uniqueId:o})=>({31:o}),({uniqueId:o})=>[0,o?1:0]]},$$scope:{ctx:n}}}),s=new de({props:{class:"form-field m-0 required",name:n[1]+".body",$$slots:{default:[w$,({uniqueId:o})=>({31:o}),({uniqueId:o})=>[0,o?1:0]]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment),i=D(),U(s.$$.fragment)},m(o,a){H(e,o,a),w(o,t,a),H(l,o,a),w(o,i,a),H(s,o,a),r=!0},p(o,a){const u={};a[0]&2&&(u.name=o[1]+".subject"),a[0]&1|a[1]&3&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const f={};a[0]&2&&(f.name=o[1]+".actionUrl"),a[0]&1|a[1]&3&&(f.$$scope={dirty:a,ctx:o}),l.$set(f);const c={};a[0]&2&&(c.name=o[1]+".body"),a[0]&49|a[1]&3&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){r||(M(e.$$.fragment,o),M(l.$$.fragment,o),M(s.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),I(l.$$.fragment,o),I(s.$$.fragment,o),r=!1},d(o){V(e,o),o&&y(t),V(l,o),o&&y(i),V(s,o)}}}function pc(n){let e,t,l,i,s;return{c(){e=h("i"),p(e,"class","ri-error-warning-fill txt-danger")},m(r,o){w(r,e,o),l=!0,i||(s=$e(Pe.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(r){l||(r&&Be(()=>{l&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!0)),t.run(1))}),l=!0)},o(r){r&&(t||(t=Fe(e,Ht,{duration:150,start:.7},!1)),t.run(0)),l=!1},d(r){r&&y(e),r&&t&&t.end(),i=!1,s()}}}function T$(n){let e,t,l,i,s,r,o,a,u,f=n[6]&&pc();return{c(){e=h("div"),t=h("i"),l=D(),i=h("span"),s=B(n[2]),r=D(),o=h("div"),a=D(),f&&f.c(),u=ke(),p(t,"class","ri-draft-line"),p(i,"class","txt"),p(e,"class","inline-flex"),p(o,"class","flex-fill")},m(c,d){w(c,e,d),b(e,t),b(e,l),b(e,i),b(i,s),w(c,r,d),w(c,o,d),w(c,a,d),f&&f.m(c,d),w(c,u,d)},p(c,d){d[0]&4&&oe(s,c[2]),c[6]?f?d[0]&64&&M(f,1):(f=pc(),f.c(),M(f,1),f.m(u.parentNode,u)):f&&(ue(),I(f,1,1,()=>{f=null}),fe())},d(c){c&&y(e),c&&y(r),c&&y(o),c&&y(a),f&&f.d(c),c&&y(u)}}}function S$(n){let e,t;const l=[n[8]];let i={$$slots:{header:[T$],default:[$$]},$$scope:{ctx:n}};for(let s=0;s<l.length;s+=1)i=Ae(i,l[s]);return e=new Si({props:i}),n[26](e),e.$on("expand",n[27]),e.$on("collapse",n[28]),e.$on("toggle",n[29]),{c(){U(e.$$.fragment)},m(s,r){H(e,s,r),t=!0},p(s,r){const o=r[0]&256?mt(l,[Nt(s[8])]):{};r[0]&119|r[1]&2&&(o.$$scope={dirty:r,ctx:s}),e.$set(o)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[26](null),V(e,s)}}}let mc;function C$(n,e,t){let l;const i=["key","title","config","expand","collapse","collapseSiblings"];let s=ze(e,i),r;Ve(n,Hn,Z=>t(12,r=Z));let{key:o}=e,{title:a}=e,{config:u={}}=e,f,c=mc,d=!1;function m(){f==null||f.expand()}function v(){f==null||f.collapse()}function _(){f==null||f.collapseSiblings()}async function g(){c||d||(t(5,d=!0),t(4,c=(await Xe(()=>import("./CodeEditor-4cdb48d5.js"),["./CodeEditor-4cdb48d5.js","./index-fd4289fb.js"],import.meta.url)).default),mc=c,t(5,d=!1))}function k(Z){j.copyToClipboard(Z),Ni(`Copied ${Z} to clipboard`,2e3)}g();function $(){u.subject=this.value,t(0,u)}const C=()=>k("{APP_NAME}"),T=()=>k("{APP_URL}");function S(){u.actionUrl=this.value,t(0,u)}const E=()=>k("{APP_NAME}"),O=()=>k("{APP_URL}"),A=()=>k("{TOKEN}");function N(Z){n.$$.not_equal(u.body,Z)&&(u.body=Z,t(0,u))}function F(){u.body=this.value,t(0,u)}const L=()=>k("{APP_NAME}"),P=()=>k("{APP_URL}"),R=()=>k("{TOKEN}"),q=()=>k("{ACTION_URL}");function z(Z){le[Z?"unshift":"push"](()=>{f=Z,t(3,f)})}function K(Z){De.call(this,n,Z)}function Q(Z){De.call(this,n,Z)}function J(Z){De.call(this,n,Z)}return n.$$set=Z=>{e=Ae(Ae({},e),It(Z)),t(8,s=ze(e,i)),"key"in Z&&t(1,o=Z.key),"title"in Z&&t(2,a=Z.title),"config"in Z&&t(0,u=Z.config)},n.$$.update=()=>{n.$$.dirty[0]&4098&&t(6,l=!j.isEmpty(j.getNestedVal(r,o))),n.$$.dirty[0]&3&&(u.enabled||Dn(o))},[u,o,a,f,c,d,l,k,s,m,v,_,r,$,C,T,S,E,O,A,N,F,L,P,R,q,z,K,Q,J]}class ks extends ge{constructor(e){super(),be(this,e,C$,S$,_e,{key:1,title:2,config:0,expand:9,collapse:10,collapseSiblings:11},null,[-1,-1])}get expand(){return this.$$.ctx[9]}get collapse(){return this.$$.ctx[10]}get collapseSiblings(){return this.$$.ctx[11]}}function _c(n,e,t){const l=n.slice();return l[21]=e[t],l}function hc(n,e){let t,l,i,s,r,o=e[21].label+"",a,u,f,c,d,m;return c=Am(e[11][0]),{key:n,first:null,c(){t=h("div"),l=h("input"),s=D(),r=h("label"),a=B(o),f=D(),p(l,"type","radio"),p(l,"name","template"),p(l,"id",i=e[20]+e[21].value),l.__value=e[21].value,l.value=l.__value,p(r,"for",u=e[20]+e[21].value),p(t,"class","form-field-block"),c.p(l),this.first=t},m(v,_){w(v,t,_),b(t,l),l.checked=l.__value===e[2],b(t,s),b(t,r),b(r,a),b(t,f),d||(m=Y(l,"change",e[10]),d=!0)},p(v,_){e=v,_&1048576&&i!==(i=e[20]+e[21].value)&&p(l,"id",i),_&4&&(l.checked=l.__value===e[2]),_&1048576&&u!==(u=e[20]+e[21].value)&&p(r,"for",u)},d(v){v&&y(t),c.r(),d=!1,m()}}}function E$(n){let e=[],t=new Map,l,i=n[7];const s=r=>r[21].value;for(let r=0;r<i.length;r+=1){let o=_c(n,i,r),a=s(o);t.set(a,e[r]=hc(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=ke()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);w(r,l,o)},p(r,o){o&1048708&&(i=r[7],e=rt(e,o,s,1,r,i,t,l.parentNode,dl,hc,l,_c))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&y(l)}}}function O$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("To email address"),i=D(),s=h("input"),p(e,"for",l=n[20]),p(s,"type","email"),p(s,"id",r=n[20]),s.autofocus=!0,s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[1]),s.focus(),o||(a=Y(s,"input",n[12]),o=!0)},p(u,f){f&1048576&&l!==(l=u[20])&&p(e,"for",l),f&1048576&&r!==(r=u[20])&&p(s,"id",r),f&2&&s.value!==u[1]&&re(s,u[1])},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function D$(n){let e,t,l,i,s,r,o;return t=new de({props:{class:"form-field required",name:"template",$$slots:{default:[E$,({uniqueId:a})=>({20:a}),({uniqueId:a})=>a?1048576:0]},$$scope:{ctx:n}}}),i=new de({props:{class:"form-field required m-0",name:"email",$$slots:{default:[O$,({uniqueId:a})=>({20:a}),({uniqueId:a})=>a?1048576:0]},$$scope:{ctx:n}}}),{c(){e=h("form"),U(t.$$.fragment),l=D(),U(i.$$.fragment),p(e,"id",n[6]),p(e,"autocomplete","off")},m(a,u){w(a,e,u),H(t,e,null),b(e,l),H(i,e,null),s=!0,r||(o=Y(e,"submit",Ke(n[13])),r=!0)},p(a,u){const f={};u&17825796&&(f.$$scope={dirty:u,ctx:a}),t.$set(f);const c={};u&17825794&&(c.$$scope={dirty:u,ctx:a}),i.$set(c)},i(a){s||(M(t.$$.fragment,a),M(i.$$.fragment,a),s=!0)},o(a){I(t.$$.fragment,a),I(i.$$.fragment,a),s=!1},d(a){a&&y(e),V(t),V(i),r=!1,o()}}}function A$(n){let e;return{c(){e=h("h4"),e.textContent="发送测试邮件",p(e,"class","center txt-break")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function M$(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("button"),t=B("取消"),l=D(),i=h("button"),s=h("i"),r=D(),o=h("span"),o.textContent="发送",p(e,"type","button"),p(e,"class","btn btn-transparent"),e.disabled=n[4],p(s,"class","ri-mail-send-line"),p(o,"class","txt"),p(i,"type","submit"),p(i,"form",n[6]),p(i,"class","btn btn-expanded"),i.disabled=a=!n[5]||n[4],X(i,"btn-loading",n[4])},m(c,d){w(c,e,d),b(e,t),w(c,l,d),w(c,i,d),b(i,s),b(i,r),b(i,o),u||(f=Y(e,"click",n[0]),u=!0)},p(c,d){d&16&&(e.disabled=c[4]),d&48&&a!==(a=!c[5]||c[4])&&(i.disabled=a),d&16&&X(i,"btn-loading",c[4])},d(c){c&&y(e),c&&y(l),c&&y(i),u=!1,f()}}}function I$(n){let e,t,l={class:"overlay-panel-sm email-test-popup",overlayClose:!n[4],escClose:!n[4],beforeHide:n[14],popup:!0,$$slots:{footer:[M$],header:[A$],default:[D$]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[15](e),e.$on("show",n[16]),e.$on("hide",n[17]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&16&&(r.overlayClose=!i[4]),s&16&&(r.escClose=!i[4]),s&16&&(r.beforeHide=i[14]),s&16777270&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[15](null),V(e,i)}}}const ys="last_email_test",bc="email_test_request";function N$(n,e,t){let l;const i=pt(),s="email_test_"+j.randomString(5),r=[{label:'默认的 "验证" 邮件模板',value:"verification"},{label:'默认的 "重置密码" 邮箱模板',value:"password-reset"},{label:'默认的 "绑定邮箱" 邮箱模板',value:"email-change"}];let o,a=localStorage.getItem(ys),u=r[0].value,f=!1,c=null;function d(O="",A=""){t(1,a=O||localStorage.getItem(ys)),t(2,u=A||r[0].value),jt({}),o==null||o.show()}function m(){return clearTimeout(c),o==null?void 0:o.hide()}async function v(){if(!(!l||f)){t(4,f=!0),localStorage==null||localStorage.setItem(ys,a),clearTimeout(c),c=setTimeout(()=>{ce.cancelRequest(bc),Ol("发送邮件超时.")},3e4);try{await ce.settings.testEmail(a,u,{$cancelKey:bc}),wt("发送邮件成功"),i("submit"),t(4,f=!1),await Kt(),m()}catch(O){t(4,f=!1),ce.error(O)}clearTimeout(c)}}const _=[[]];function g(){u=this.__value,t(2,u)}function k(){a=this.value,t(1,a)}const $=()=>v(),C=()=>!f;function T(O){le[O?"unshift":"push"](()=>{o=O,t(3,o)})}function S(O){De.call(this,n,O)}function E(O){De.call(this,n,O)}return n.$$.update=()=>{n.$$.dirty&6&&t(5,l=!!a&&!!u)},[m,a,u,o,f,l,s,r,v,d,g,_,k,$,C,T,S,E]}class F$ extends ge{constructor(e){super(),be(this,e,N$,I$,_e,{show:9,hide:0})}get show(){return this.$$.ctx[9]}get hide(){return this.$$.ctx[0]}}function L$(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O,A,N,F;l=new de({props:{class:"form-field required",name:"meta.senderName",$$slots:{default:[P$,({uniqueId:ee})=>({31:ee}),({uniqueId:ee})=>[0,ee?1:0]]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field required",name:"meta.senderAddress",$$slots:{default:[R$,({uniqueId:ee})=>({31:ee}),({uniqueId:ee})=>[0,ee?1:0]]},$$scope:{ctx:n}}});function L(ee){n[14](ee)}let P={single:!0,key:"meta.verificationTemplate",title:'默认的 "验证" 邮件模板'};n[0].meta.verificationTemplate!==void 0&&(P.config=n[0].meta.verificationTemplate),u=new ks({props:P}),le.push(()=>me(u,"config",L));function R(ee){n[15](ee)}let q={single:!0,key:"meta.resetPasswordTemplate",title:'默认的 "重置密码" 邮箱模板'};n[0].meta.resetPasswordTemplate!==void 0&&(q.config=n[0].meta.resetPasswordTemplate),d=new ks({props:q}),le.push(()=>me(d,"config",R));function z(ee){n[16](ee)}let K={single:!0,key:"meta.confirmEmailChangeTemplate",title:'默认的 "绑定邮箱" 邮箱模板'};n[0].meta.confirmEmailChangeTemplate!==void 0&&(K.config=n[0].meta.confirmEmailChangeTemplate),_=new ks({props:K}),le.push(()=>me(_,"config",z)),T=new de({props:{class:"form-field form-field-toggle m-b-sm",$$slots:{default:[j$,({uniqueId:ee})=>({31:ee}),({uniqueId:ee})=>[0,ee?1:0]]},$$scope:{ctx:n}}});let Q=n[0].smtp.enabled&&gc(n);function J(ee,te){return ee[4]?Y$:K$}let Z=J(n),se=Z(n);return{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),o=D(),a=h("div"),U(u.$$.fragment),c=D(),U(d.$$.fragment),v=D(),U(_.$$.fragment),k=D(),$=h("hr"),C=D(),U(T.$$.fragment),S=D(),Q&&Q.c(),E=D(),O=h("div"),A=h("div"),N=D(),se.c(),p(t,"class","col-lg-6"),p(s,"class","col-lg-6"),p(e,"class","grid m-b-base"),p(a,"class","accordions"),p(A,"class","flex-fill"),p(O,"class","flex")},m(ee,te){w(ee,e,te),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),w(ee,o,te),w(ee,a,te),H(u,a,null),b(a,c),H(d,a,null),b(a,v),H(_,a,null),w(ee,k,te),w(ee,$,te),w(ee,C,te),H(T,ee,te),w(ee,S,te),Q&&Q.m(ee,te),w(ee,E,te),w(ee,O,te),b(O,A),b(O,N),se.m(O,null),F=!0},p(ee,te){const pe={};te[0]&1|te[1]&3&&(pe.$$scope={dirty:te,ctx:ee}),l.$set(pe);const Ee={};te[0]&1|te[1]&3&&(Ee.$$scope={dirty:te,ctx:ee}),r.$set(Ee);const We={};!f&&te[0]&1&&(f=!0,We.config=ee[0].meta.verificationTemplate,he(()=>f=!1)),u.$set(We);const ot={};!m&&te[0]&1&&(m=!0,ot.config=ee[0].meta.resetPasswordTemplate,he(()=>m=!1)),d.$set(ot);const xe={};!g&&te[0]&1&&(g=!0,xe.config=ee[0].meta.confirmEmailChangeTemplate,he(()=>g=!1)),_.$set(xe);const Je={};te[0]&1|te[1]&3&&(Je.$$scope={dirty:te,ctx:ee}),T.$set(Je),ee[0].smtp.enabled?Q?(Q.p(ee,te),te[0]&1&&M(Q,1)):(Q=gc(ee),Q.c(),M(Q,1),Q.m(E.parentNode,E)):Q&&(ue(),I(Q,1,1,()=>{Q=null}),fe()),Z===(Z=J(ee))&&se?se.p(ee,te):(se.d(1),se=Z(ee),se&&(se.c(),se.m(O,null)))},i(ee){F||(M(l.$$.fragment,ee),M(r.$$.fragment,ee),M(u.$$.fragment,ee),M(d.$$.fragment,ee),M(_.$$.fragment,ee),M(T.$$.fragment,ee),M(Q),F=!0)},o(ee){I(l.$$.fragment,ee),I(r.$$.fragment,ee),I(u.$$.fragment,ee),I(d.$$.fragment,ee),I(_.$$.fragment,ee),I(T.$$.fragment,ee),I(Q),F=!1},d(ee){ee&&y(e),V(l),V(r),ee&&y(o),ee&&y(a),V(u),V(d),V(_),ee&&y(k),ee&&y($),ee&&y(C),V(T,ee),ee&&y(S),Q&&Q.d(ee),ee&&y(E),ee&&y(O),se.d()}}}function q$(n){let e;return{c(){e=h("div"),p(e,"class","loader")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function P$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("发送名"),i=D(),s=h("input"),p(e,"for",l=n[31]),p(s,"type","text"),p(s,"id",r=n[31]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].meta.senderName),o||(a=Y(s,"input",n[12]),o=!0)},p(u,f){f[1]&1&&l!==(l=u[31])&&p(e,"for",l),f[1]&1&&r!==(r=u[31])&&p(s,"id",r),f[0]&1&&s.value!==u[0].meta.senderName&&re(s,u[0].meta.senderName)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function R$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("邮件发送地址"),i=D(),s=h("input"),p(e,"for",l=n[31]),p(s,"type","email"),p(s,"id",r=n[31]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].meta.senderAddress),o||(a=Y(s,"input",n[13]),o=!0)},p(u,f){f[1]&1&&l!==(l=u[31])&&p(e,"for",l),f[1]&1&&r!==(r=u[31])&&p(s,"id",r),f[0]&1&&s.value!==u[0].meta.senderAddress&&re(s,u[0].meta.senderAddress)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function j$(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("input"),l=D(),i=h("label"),s=h("span"),s.innerHTML="使用smtp服务 <strong>(recommended)</strong>",r=D(),o=h("i"),p(e,"type","checkbox"),p(e,"id",t=n[31]),e.required=!0,p(s,"class","txt"),p(o,"class","ri-information-line link-hint"),p(i,"for",a=n[31])},m(c,d){w(c,e,d),e.checked=n[0].smtp.enabled,w(c,l,d),w(c,i,d),b(i,s),b(i,r),b(i,o),u||(f=[Y(e,"change",n[17]),$e(Pe.call(null,o,{text:"默认我是用的unix的sendmail 但是还是推荐smtp",position:"top"}))],u=!0)},p(c,d){d[1]&1&&t!==(t=c[31])&&p(e,"id",t),d[0]&1&&(e.checked=c[0].smtp.enabled),d[1]&1&&a!==(a=c[31])&&p(i,"for",a)},d(c){c&&y(e),c&&y(l),c&&y(i),u=!1,Te(f)}}}function gc(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E;return l=new de({props:{class:"form-field required",name:"smtp.host",$$slots:{default:[H$,({uniqueId:O})=>({31:O}),({uniqueId:O})=>[0,O?1:0]]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field required",name:"smtp.port",$$slots:{default:[V$,({uniqueId:O})=>({31:O}),({uniqueId:O})=>[0,O?1:0]]},$$scope:{ctx:n}}}),u=new de({props:{class:"form-field required",name:"smtp.tls",$$slots:{default:[U$,({uniqueId:O})=>({31:O}),({uniqueId:O})=>[0,O?1:0]]},$$scope:{ctx:n}}}),d=new de({props:{class:"form-field",name:"smtp.authMethod",$$slots:{default:[z$,({uniqueId:O})=>({31:O}),({uniqueId:O})=>[0,O?1:0]]},$$scope:{ctx:n}}}),_=new de({props:{class:"form-field",name:"smtp.username",$$slots:{default:[B$,({uniqueId:O})=>({31:O}),({uniqueId:O})=>[0,O?1:0]]},$$scope:{ctx:n}}}),$=new de({props:{class:"form-field",name:"smtp.password",$$slots:{default:[W$,({uniqueId:O})=>({31:O}),({uniqueId:O})=>[0,O?1:0]]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),o=D(),a=h("div"),U(u.$$.fragment),f=D(),c=h("div"),U(d.$$.fragment),m=D(),v=h("div"),U(_.$$.fragment),g=D(),k=h("div"),U($.$$.fragment),C=D(),T=h("div"),p(t,"class","col-lg-4"),p(s,"class","col-lg-2"),p(a,"class","col-lg-3"),p(c,"class","col-lg-3"),p(v,"class","col-lg-6"),p(k,"class","col-lg-6"),p(T,"class","col-lg-12"),p(e,"class","grid")},m(O,A){w(O,e,A),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),b(e,o),b(e,a),H(u,a,null),b(e,f),b(e,c),H(d,c,null),b(e,m),b(e,v),H(_,v,null),b(e,g),b(e,k),H($,k,null),b(e,C),b(e,T),E=!0},p(O,A){const N={};A[0]&1|A[1]&3&&(N.$$scope={dirty:A,ctx:O}),l.$set(N);const F={};A[0]&1|A[1]&3&&(F.$$scope={dirty:A,ctx:O}),r.$set(F);const L={};A[0]&1|A[1]&3&&(L.$$scope={dirty:A,ctx:O}),u.$set(L);const P={};A[0]&1|A[1]&3&&(P.$$scope={dirty:A,ctx:O}),d.$set(P);const R={};A[0]&1|A[1]&3&&(R.$$scope={dirty:A,ctx:O}),_.$set(R);const q={};A[0]&1|A[1]&3&&(q.$$scope={dirty:A,ctx:O}),$.$set(q)},i(O){E||(M(l.$$.fragment,O),M(r.$$.fragment,O),M(u.$$.fragment,O),M(d.$$.fragment,O),M(_.$$.fragment,O),M($.$$.fragment,O),O&&Be(()=>{E&&(S||(S=Fe(e,Ge,{duration:150},!0)),S.run(1))}),E=!0)},o(O){I(l.$$.fragment,O),I(r.$$.fragment,O),I(u.$$.fragment,O),I(d.$$.fragment,O),I(_.$$.fragment,O),I($.$$.fragment,O),O&&(S||(S=Fe(e,Ge,{duration:150},!1)),S.run(0)),E=!1},d(O){O&&y(e),V(l),V(r),V(u),V(d),V(_),V($),O&&S&&S.end()}}}function H$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("SMTP 地址"),i=D(),s=h("input"),p(e,"for",l=n[31]),p(s,"type","text"),p(s,"id",r=n[31]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].smtp.host),o||(a=Y(s,"input",n[18]),o=!0)},p(u,f){f[1]&1&&l!==(l=u[31])&&p(e,"for",l),f[1]&1&&r!==(r=u[31])&&p(s,"id",r),f[0]&1&&s.value!==u[0].smtp.host&&re(s,u[0].smtp.host)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function V$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("端口"),i=D(),s=h("input"),p(e,"for",l=n[31]),p(s,"type","number"),p(s,"id",r=n[31]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].smtp.port),o||(a=Y(s,"input",n[19]),o=!0)},p(u,f){f[1]&1&&l!==(l=u[31])&&p(e,"for",l),f[1]&1&&r!==(r=u[31])&&p(s,"id",r),f[0]&1&&lt(s.value)!==u[0].smtp.port&&re(s,u[0].smtp.port)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function U$(n){let e,t,l,i,s,r,o;function a(f){n[20](f)}let u={id:n[31],items:n[6]};return n[0].smtp.tls!==void 0&&(u.keyOfSelected=n[0].smtp.tls),s=new Qn({props:u}),le.push(()=>me(s,"keyOfSelected",a)),{c(){e=h("label"),t=B("TLS验证"),i=D(),U(s.$$.fragment),p(e,"for",l=n[31])},m(f,c){w(f,e,c),b(e,t),w(f,i,c),H(s,f,c),o=!0},p(f,c){(!o||c[1]&1&&l!==(l=f[31]))&&p(e,"for",l);const d={};c[1]&1&&(d.id=f[31]),!r&&c[0]&1&&(r=!0,d.keyOfSelected=f[0].smtp.tls,he(()=>r=!1)),s.$set(d)},i(f){o||(M(s.$$.fragment,f),o=!0)},o(f){I(s.$$.fragment,f),o=!1},d(f){f&&y(e),f&&y(i),V(s,f)}}}function z$(n){let e,t,l,i,s,r,o;function a(f){n[21](f)}let u={id:n[31],items:n[7]};return n[0].smtp.authMethod!==void 0&&(u.keyOfSelected=n[0].smtp.authMethod),s=new Qn({props:u}),le.push(()=>me(s,"keyOfSelected",a)),{c(){e=h("label"),t=B("登录类型"),i=D(),U(s.$$.fragment),p(e,"for",l=n[31])},m(f,c){w(f,e,c),b(e,t),w(f,i,c),H(s,f,c),o=!0},p(f,c){(!o||c[1]&1&&l!==(l=f[31]))&&p(e,"for",l);const d={};c[1]&1&&(d.id=f[31]),!r&&c[0]&1&&(r=!0,d.keyOfSelected=f[0].smtp.authMethod,he(()=>r=!1)),s.$set(d)},i(f){o||(M(s.$$.fragment,f),o=!0)},o(f){I(s.$$.fragment,f),o=!1},d(f){f&&y(e),f&&y(i),V(s,f)}}}function B$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("smtp服务器用户名"),i=D(),s=h("input"),p(e,"for",l=n[31]),p(s,"type","text"),p(s,"id",r=n[31])},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].smtp.username),o||(a=Y(s,"input",n[22]),o=!0)},p(u,f){f[1]&1&&l!==(l=u[31])&&p(e,"for",l),f[1]&1&&r!==(r=u[31])&&p(s,"id",r),f[0]&1&&s.value!==u[0].smtp.username&&re(s,u[0].smtp.username)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function W$(n){let e,t,l,i,s,r,o;function a(f){n[23](f)}let u={id:n[31]};return n[0].smtp.password!==void 0&&(u.value=n[0].smtp.password),s=new mr({props:u}),le.push(()=>me(s,"value",a)),{c(){e=h("label"),t=B("smtp密码"),i=D(),U(s.$$.fragment),p(e,"for",l=n[31])},m(f,c){w(f,e,c),b(e,t),w(f,i,c),H(s,f,c),o=!0},p(f,c){(!o||c[1]&1&&l!==(l=f[31]))&&p(e,"for",l);const d={};c[1]&1&&(d.id=f[31]),!r&&c[0]&1&&(r=!0,d.value=f[0].smtp.password,he(()=>r=!1)),s.$set(d)},i(f){o||(M(s.$$.fragment,f),o=!0)},o(f){I(s.$$.fragment,f),o=!1},d(f){f&&y(e),f&&y(i),V(s,f)}}}function K$(n){let e,t,l;return{c(){e=h("button"),e.innerHTML=`<i class="ri-mail-check-line"></i> 
                            <span class="txt">发送测试邮件</span>`,p(e,"type","button"),p(e,"class","btn btn-expanded btn-outline")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[26]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function Y$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("button"),t=h("span"),t.textContent="取消",l=D(),i=h("button"),s=h("span"),s.textContent="保存",p(t,"class","txt"),p(e,"type","button"),p(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3],p(s,"class","txt"),p(i,"type","submit"),p(i,"class","btn btn-expanded"),i.disabled=r=!n[4]||n[3],X(i,"btn-loading",n[3])},m(u,f){w(u,e,f),b(e,t),w(u,l,f),w(u,i,f),b(i,s),o||(a=[Y(e,"click",n[24]),Y(i,"click",n[25])],o=!0)},p(u,f){f[0]&8&&(e.disabled=u[3]),f[0]&24&&r!==(r=!u[4]||u[3])&&(i.disabled=r),f[0]&8&&X(i,"btn-loading",u[3])},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,Te(a)}}}function J$(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g;const k=[q$,L$],$=[];function C(T,S){return T[2]?0:1}return d=C(n),m=$[d]=k[d](n),{c(){e=h("header"),t=h("nav"),l=h("div"),l.textContent="设置",i=D(),s=h("div"),r=B(n[5]),o=D(),a=h("div"),u=h("form"),f=h("div"),f.innerHTML="<p>配置通用的邮件发送模板</p>",c=D(),m.c(),p(l,"class","breadcrumb-item"),p(s,"class","breadcrumb-item"),p(t,"class","breadcrumbs"),p(e,"class","page-header"),p(f,"class","content txt-xl m-b-base"),p(u,"class","panel"),p(u,"autocomplete","off"),p(a,"class","wrapper")},m(T,S){w(T,e,S),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),w(T,o,S),w(T,a,S),b(a,u),b(u,f),b(u,c),$[d].m(u,null),v=!0,_||(g=Y(u,"submit",Ke(n[27])),_=!0)},p(T,S){(!v||S[0]&32)&&oe(r,T[5]);let E=d;d=C(T),d===E?$[d].p(T,S):(ue(),I($[E],1,1,()=>{$[E]=null}),fe(),m=$[d],m?m.p(T,S):(m=$[d]=k[d](T),m.c()),M(m,1),m.m(u,null))},i(T){v||(M(m),v=!0)},o(T){I(m),v=!1},d(T){T&&y(e),T&&y(o),T&&y(a),$[d].d(),_=!1,g()}}}function Z$(n){let e,t,l,i,s,r;e=new Vn({}),l=new dn({props:{$$slots:{default:[J$]},$$scope:{ctx:n}}});let o={};return s=new F$({props:o}),n[28](s),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment),i=D(),U(s.$$.fragment)},m(a,u){H(e,a,u),w(a,t,u),H(l,a,u),w(a,i,u),H(s,a,u),r=!0},p(a,u){const f={};u[0]&63|u[1]&2&&(f.$$scope={dirty:u,ctx:a}),l.$set(f);const c={};s.$set(c)},i(a){r||(M(e.$$.fragment,a),M(l.$$.fragment,a),M(s.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(l.$$.fragment,a),I(s.$$.fragment,a),r=!1},d(a){V(e,a),a&&y(t),V(l,a),a&&y(i),n[28](null),V(s,a)}}}function G$(n,e,t){let l,i,s;Ve(n,vt,J=>t(5,s=J));const r=[{label:"Auto (StartTLS)",value:!1},{label:"Always",value:!0}],o=[{label:"PLAIN (default)",value:"PLAIN"},{label:"LOGIN",value:"LOGIN"}];Wt(vt,s="邮箱设置",s);let a,u={},f={},c=!1,d=!1;m();async function m(){t(2,c=!0);try{const J=await ce.settings.getAll()||{};_(J)}catch(J){ce.error(J)}t(2,c=!1)}async function v(){if(!(d||!i)){t(3,d=!0);try{const J=await ce.settings.update(j.filterRedactedProps(f));_(J),jt({}),wt("成功保存邮箱设置。")}catch(J){ce.error(J)}t(3,d=!1)}}function _(J={}){t(0,f={meta:(J==null?void 0:J.meta)||{},smtp:(J==null?void 0:J.smtp)||{}}),f.smtp.authMethod||t(0,f.smtp.authMethod=o[0].value,f),t(10,u=JSON.parse(JSON.stringify(f)))}function g(){t(0,f=JSON.parse(JSON.stringify(u||{})))}function k(){f.meta.senderName=this.value,t(0,f)}function $(){f.meta.senderAddress=this.value,t(0,f)}function C(J){n.$$.not_equal(f.meta.verificationTemplate,J)&&(f.meta.verificationTemplate=J,t(0,f))}function T(J){n.$$.not_equal(f.meta.resetPasswordTemplate,J)&&(f.meta.resetPasswordTemplate=J,t(0,f))}function S(J){n.$$.not_equal(f.meta.confirmEmailChangeTemplate,J)&&(f.meta.confirmEmailChangeTemplate=J,t(0,f))}function E(){f.smtp.enabled=this.checked,t(0,f)}function O(){f.smtp.host=this.value,t(0,f)}function A(){f.smtp.port=lt(this.value),t(0,f)}function N(J){n.$$.not_equal(f.smtp.tls,J)&&(f.smtp.tls=J,t(0,f))}function F(J){n.$$.not_equal(f.smtp.authMethod,J)&&(f.smtp.authMethod=J,t(0,f))}function L(){f.smtp.username=this.value,t(0,f)}function P(J){n.$$.not_equal(f.smtp.password,J)&&(f.smtp.password=J,t(0,f))}const R=()=>g(),q=()=>v(),z=()=>a==null?void 0:a.show(),K=()=>v();function Q(J){le[J?"unshift":"push"](()=>{a=J,t(1,a)})}return n.$$.update=()=>{n.$$.dirty[0]&1024&&t(11,l=JSON.stringify(u)),n.$$.dirty[0]&2049&&t(4,i=l!=JSON.stringify(f))},[f,a,c,d,i,s,r,o,v,g,u,l,k,$,C,T,S,E,O,A,N,F,L,P,R,q,z,K,Q]}class Q$ extends ge{constructor(e){super(),be(this,e,G$,Z$,_e,{},null,[-1,-1])}}const X$=n=>({isTesting:n&4,testError:n&2,enabled:n&1}),vc=n=>({isTesting:n[2],testError:n[1],enabled:n[0].enabled});function x$(n){let e,t,l,i,s,r,o,a;return{c(){e=h("input"),l=D(),i=h("label"),s=B(n[4]),p(e,"type","checkbox"),p(e,"id",t=n[20]),e.required=!0,p(i,"for",r=n[20])},m(u,f){w(u,e,f),e.checked=n[0].enabled,w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"change",n[8]),o=!0)},p(u,f){f&1048576&&t!==(t=u[20])&&p(e,"id",t),f&1&&(e.checked=u[0].enabled),f&16&&oe(s,u[4]),f&1048576&&r!==(r=u[20])&&p(i,"for",r)},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function kc(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E;return l=new de({props:{class:"form-field required",name:n[3]+".endpoint",$$slots:{default:[e4,({uniqueId:O})=>({20:O}),({uniqueId:O})=>O?1048576:0]},$$scope:{ctx:n}}}),r=new de({props:{class:"form-field required",name:n[3]+".bucket",$$slots:{default:[t4,({uniqueId:O})=>({20:O}),({uniqueId:O})=>O?1048576:0]},$$scope:{ctx:n}}}),u=new de({props:{class:"form-field required",name:n[3]+".region",$$slots:{default:[n4,({uniqueId:O})=>({20:O}),({uniqueId:O})=>O?1048576:0]},$$scope:{ctx:n}}}),d=new de({props:{class:"form-field required",name:n[3]+".accessKey",$$slots:{default:[l4,({uniqueId:O})=>({20:O}),({uniqueId:O})=>O?1048576:0]},$$scope:{ctx:n}}}),_=new de({props:{class:"form-field required",name:n[3]+".secret",$$slots:{default:[i4,({uniqueId:O})=>({20:O}),({uniqueId:O})=>O?1048576:0]},$$scope:{ctx:n}}}),$=new de({props:{class:"form-field",name:n[3]+".forcePathStyle",$$slots:{default:[s4,({uniqueId:O})=>({20:O}),({uniqueId:O})=>O?1048576:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),U(l.$$.fragment),i=D(),s=h("div"),U(r.$$.fragment),o=D(),a=h("div"),U(u.$$.fragment),f=D(),c=h("div"),U(d.$$.fragment),m=D(),v=h("div"),U(_.$$.fragment),g=D(),k=h("div"),U($.$$.fragment),C=D(),T=h("div"),p(t,"class","col-lg-6"),p(s,"class","col-lg-3"),p(a,"class","col-lg-3"),p(c,"class","col-lg-6"),p(v,"class","col-lg-6"),p(k,"class","col-lg-12"),p(T,"class","col-lg-12"),p(e,"class","grid")},m(O,A){w(O,e,A),b(e,t),H(l,t,null),b(e,i),b(e,s),H(r,s,null),b(e,o),b(e,a),H(u,a,null),b(e,f),b(e,c),H(d,c,null),b(e,m),b(e,v),H(_,v,null),b(e,g),b(e,k),H($,k,null),b(e,C),b(e,T),E=!0},p(O,A){const N={};A&8&&(N.name=O[3]+".endpoint"),A&1081345&&(N.$$scope={dirty:A,ctx:O}),l.$set(N);const F={};A&8&&(F.name=O[3]+".bucket"),A&1081345&&(F.$$scope={dirty:A,ctx:O}),r.$set(F);const L={};A&8&&(L.name=O[3]+".region"),A&1081345&&(L.$$scope={dirty:A,ctx:O}),u.$set(L);const P={};A&8&&(P.name=O[3]+".accessKey"),A&1081345&&(P.$$scope={dirty:A,ctx:O}),d.$set(P);const R={};A&8&&(R.name=O[3]+".secret"),A&1081345&&(R.$$scope={dirty:A,ctx:O}),_.$set(R);const q={};A&8&&(q.name=O[3]+".forcePathStyle"),A&1081345&&(q.$$scope={dirty:A,ctx:O}),$.$set(q)},i(O){E||(M(l.$$.fragment,O),M(r.$$.fragment,O),M(u.$$.fragment,O),M(d.$$.fragment,O),M(_.$$.fragment,O),M($.$$.fragment,O),O&&Be(()=>{E&&(S||(S=Fe(e,Ge,{duration:150},!0)),S.run(1))}),E=!0)},o(O){I(l.$$.fragment,O),I(r.$$.fragment,O),I(u.$$.fragment,O),I(d.$$.fragment,O),I(_.$$.fragment,O),I($.$$.fragment,O),O&&(S||(S=Fe(e,Ge,{duration:150},!1)),S.run(0)),E=!1},d(O){O&&y(e),V(l),V(r),V(u),V(d),V(_),V($),O&&S&&S.end()}}}function e4(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Endpoint"),i=D(),s=h("input"),p(e,"for",l=n[20]),p(s,"type","text"),p(s,"id",r=n[20]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].endpoint),o||(a=Y(s,"input",n[9]),o=!0)},p(u,f){f&1048576&&l!==(l=u[20])&&p(e,"for",l),f&1048576&&r!==(r=u[20])&&p(s,"id",r),f&1&&s.value!==u[0].endpoint&&re(s,u[0].endpoint)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function t4(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Bucket"),i=D(),s=h("input"),p(e,"for",l=n[20]),p(s,"type","text"),p(s,"id",r=n[20]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].bucket),o||(a=Y(s,"input",n[10]),o=!0)},p(u,f){f&1048576&&l!==(l=u[20])&&p(e,"for",l),f&1048576&&r!==(r=u[20])&&p(s,"id",r),f&1&&s.value!==u[0].bucket&&re(s,u[0].bucket)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function n4(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Region"),i=D(),s=h("input"),p(e,"for",l=n[20]),p(s,"type","text"),p(s,"id",r=n[20]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].region),o||(a=Y(s,"input",n[11]),o=!0)},p(u,f){f&1048576&&l!==(l=u[20])&&p(e,"for",l),f&1048576&&r!==(r=u[20])&&p(s,"id",r),f&1&&s.value!==u[0].region&&re(s,u[0].region)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function l4(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Access key"),i=D(),s=h("input"),p(e,"for",l=n[20]),p(s,"type","text"),p(s,"id",r=n[20]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[0].accessKey),o||(a=Y(s,"input",n[12]),o=!0)},p(u,f){f&1048576&&l!==(l=u[20])&&p(e,"for",l),f&1048576&&r!==(r=u[20])&&p(s,"id",r),f&1&&s.value!==u[0].accessKey&&re(s,u[0].accessKey)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function i4(n){let e,t,l,i,s,r,o;function a(f){n[13](f)}let u={id:n[20],required:!0};return n[0].secret!==void 0&&(u.value=n[0].secret),s=new mr({props:u}),le.push(()=>me(s,"value",a)),{c(){e=h("label"),t=B("Secret"),i=D(),U(s.$$.fragment),p(e,"for",l=n[20])},m(f,c){w(f,e,c),b(e,t),w(f,i,c),H(s,f,c),o=!0},p(f,c){(!o||c&1048576&&l!==(l=f[20]))&&p(e,"for",l);const d={};c&1048576&&(d.id=f[20]),!r&&c&1&&(r=!0,d.value=f[0].secret,he(()=>r=!1)),s.$set(d)},i(f){o||(M(s.$$.fragment,f),o=!0)},o(f){I(s.$$.fragment,f),o=!1},d(f){f&&y(e),f&&y(i),V(s,f)}}}function s4(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("input"),l=D(),i=h("label"),s=h("span"),s.textContent="Force path-style addressing",r=D(),o=h("i"),p(e,"type","checkbox"),p(e,"id",t=n[20]),p(s,"class","txt"),p(o,"class","ri-information-line link-hint"),p(i,"for",a=n[20])},m(c,d){w(c,e,d),e.checked=n[0].forcePathStyle,w(c,l,d),w(c,i,d),b(i,s),b(i,r),b(i,o),u||(f=[Y(e,"change",n[14]),$e(Pe.call(null,o,{text:'Forces the request to use path-style addressing, eg. "https://s3.amazonaws.com/BUCKET/KEY" instead of the default "https://BUCKET.s3.amazonaws.com/KEY".',position:"top"}))],u=!0)},p(c,d){d&1048576&&t!==(t=c[20])&&p(e,"id",t),d&1&&(e.checked=c[0].forcePathStyle),d&1048576&&a!==(a=c[20])&&p(i,"for",a)},d(c){c&&y(e),c&&y(l),c&&y(i),u=!1,Te(f)}}}function r4(n){let e,t,l,i,s;e=new de({props:{class:"form-field form-field-toggle",$$slots:{default:[x$,({uniqueId:u})=>({20:u}),({uniqueId:u})=>u?1048576:0]},$$scope:{ctx:n}}});const r=n[7].default,o=ut(r,n,n[15],vc);let a=n[0].enabled&&kc(n);return{c(){U(e.$$.fragment),t=D(),o&&o.c(),l=D(),a&&a.c(),i=ke()},m(u,f){H(e,u,f),w(u,t,f),o&&o.m(u,f),w(u,l,f),a&&a.m(u,f),w(u,i,f),s=!0},p(u,[f]){const c={};f&1081361&&(c.$$scope={dirty:f,ctx:u}),e.$set(c),o&&o.p&&(!s||f&32775)&&ct(o,r,u,u[15],s?ft(r,u[15],f,X$):dt(u[15]),vc),u[0].enabled?a?(a.p(u,f),f&1&&M(a,1)):(a=kc(u),a.c(),M(a,1),a.m(i.parentNode,i)):a&&(ue(),I(a,1,1,()=>{a=null}),fe())},i(u){s||(M(e.$$.fragment,u),M(o,u),M(a),s=!0)},o(u){I(e.$$.fragment,u),I(o,u),I(a),s=!1},d(u){V(e,u),u&&y(t),o&&o.d(u),u&&y(l),a&&a.d(u),u&&y(i)}}}const ws="s3_test_request";function o4(n,e,t){let{$$slots:l={},$$scope:i}=e,{originalConfig:s={}}=e,{config:r={}}=e,{configKey:o="s3"}=e,{toggleLabel:a="Enable S3"}=e,{testFilesystem:u="storage"}=e,{testError:f=null}=e,{isTesting:c=!1}=e,d=null,m=null;function v(O){t(2,c=!0),clearTimeout(m),m=setTimeout(()=>{_()},O)}async function _(){if(t(1,f=null),!r.enabled)return t(2,c=!1),f;ce.cancelRequest(ws),clearTimeout(d),d=setTimeout(()=>{ce.cancelRequest(ws),t(1,f=new Error("S3 test connection timeout.")),t(2,c=!1)},3e4),t(2,c=!0);let O;try{await ce.settings.testS3(u,{$cancelKey:ws})}catch(A){O=A}return O!=null&&O.isAbort||(t(1,f=O),t(2,c=!1),clearTimeout(d)),f}Ut(()=>()=>{clearTimeout(d),clearTimeout(m)});function g(){r.enabled=this.checked,t(0,r)}function k(){r.endpoint=this.value,t(0,r)}function $(){r.bucket=this.value,t(0,r)}function C(){r.region=this.value,t(0,r)}function T(){r.accessKey=this.value,t(0,r)}function S(O){n.$$.not_equal(r.secret,O)&&(r.secret=O,t(0,r))}function E(){r.forcePathStyle=this.checked,t(0,r)}return n.$$set=O=>{"originalConfig"in O&&t(5,s=O.originalConfig),"config"in O&&t(0,r=O.config),"configKey"in O&&t(3,o=O.configKey),"toggleLabel"in O&&t(4,a=O.toggleLabel),"testFilesystem"in O&&t(6,u=O.testFilesystem),"testError"in O&&t(1,f=O.testError),"isTesting"in O&&t(2,c=O.isTesting),"$$scope"in O&&t(15,i=O.$$scope)},n.$$.update=()=>{n.$$.dirty&32&&s!=null&&s.enabled&&v(100),n.$$.dirty&9&&(r.enabled||Dn(o))},[r,f,c,o,a,s,u,l,g,k,$,C,T,S,E,i]}class um extends ge{constructor(e){super(),be(this,e,o4,r4,_e,{originalConfig:5,config:0,configKey:3,toggleLabel:4,testFilesystem:6,testError:1,isTesting:2})}}function a4(n){var O;let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g;function k(A){n[11](A)}function $(A){n[12](A)}function C(A){n[13](A)}let T={toggleLabel:"使用 S3 协议",originalConfig:n[0].s3,$$slots:{default:[f4]},$$scope:{ctx:n}};n[1].s3!==void 0&&(T.config=n[1].s3),n[4]!==void 0&&(T.isTesting=n[4]),n[5]!==void 0&&(T.testError=n[5]),e=new um({props:T}),le.push(()=>me(e,"config",k)),le.push(()=>me(e,"isTesting",$)),le.push(()=>me(e,"testError",C));let S=((O=n[1].s3)==null?void 0:O.enabled)&&!n[6]&&!n[3]&&wc(n),E=n[6]&&$c(n);return{c(){U(e.$$.fragment),s=D(),r=h("div"),o=h("div"),a=D(),S&&S.c(),u=D(),E&&E.c(),f=D(),c=h("button"),d=h("span"),d.textContent="保存",p(o,"class","flex-fill"),p(d,"class","txt"),p(c,"type","submit"),p(c,"class","btn btn-expanded"),c.disabled=m=!n[6]||n[3],X(c,"btn-loading",n[3]),p(r,"class","flex")},m(A,N){H(e,A,N),w(A,s,N),w(A,r,N),b(r,o),b(r,a),S&&S.m(r,null),b(r,u),E&&E.m(r,null),b(r,f),b(r,c),b(c,d),v=!0,_||(g=Y(c,"click",n[15]),_=!0)},p(A,N){var L;const F={};N&1&&(F.originalConfig=A[0].s3),N&524291&&(F.$$scope={dirty:N,ctx:A}),!t&&N&2&&(t=!0,F.config=A[1].s3,he(()=>t=!1)),!l&&N&16&&(l=!0,F.isTesting=A[4],he(()=>l=!1)),!i&&N&32&&(i=!0,F.testError=A[5],he(()=>i=!1)),e.$set(F),(L=A[1].s3)!=null&&L.enabled&&!A[6]&&!A[3]?S?S.p(A,N):(S=wc(A),S.c(),S.m(r,u)):S&&(S.d(1),S=null),A[6]?E?E.p(A,N):(E=$c(A),E.c(),E.m(r,f)):E&&(E.d(1),E=null),(!v||N&72&&m!==(m=!A[6]||A[3]))&&(c.disabled=m),(!v||N&8)&&X(c,"btn-loading",A[3])},i(A){v||(M(e.$$.fragment,A),v=!0)},o(A){I(e.$$.fragment,A),v=!1},d(A){V(e,A),A&&y(s),A&&y(r),S&&S.d(),E&&E.d(),_=!1,g()}}}function u4(n){let e;return{c(){e=h("div"),p(e,"class","loader")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function yc(n){var N;let e,t,l,i,s,r,o,a=(N=n[0].s3)!=null&&N.enabled?"S3 协议":"本地目录",u,f,c,d=n[1].s3.enabled?"S3 协议":"本地目录",m,v,_,g,k,$,C,T,S,E,O,A;return{c(){e=h("div"),t=h("div"),l=h("div"),l.innerHTML='<i class="ri-error-warning-line"></i>',i=D(),s=h("div"),r=B(`如果已经存在了附件 想要同步
                                    `),o=h("strong"),u=B(a),f=B(`
                                    to the
                                    `),c=h("strong"),m=B(d),v=B(`.
                                    `),_=h("br"),g=B(`
                                    可以使用以下工具:
                                    `),k=h("a"),k.textContent=`rclone
                                    `,$=B(`,
                                    `),C=h("a"),C.textContent=`s5cmd
                                    `,T=B(", etc."),S=D(),E=h("div"),p(l,"class","icon"),p(k,"href","https://github.com/rclone/rclone"),p(k,"target","_blank"),p(k,"rel","noopener noreferrer"),p(k,"class","txt-bold"),p(C,"href","https://github.com/peak/s5cmd"),p(C,"target","_blank"),p(C,"rel","noopener noreferrer"),p(C,"class","txt-bold"),p(s,"class","content"),p(t,"class","alert alert-warning m-0"),p(E,"class","clearfix m-t-base")},m(F,L){w(F,e,L),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),b(s,o),b(o,u),b(s,f),b(s,c),b(c,m),b(s,v),b(s,_),b(s,g),b(s,k),b(s,$),b(s,C),b(s,T),b(e,S),b(e,E),A=!0},p(F,L){var P;(!A||L&1)&&a!==(a=(P=F[0].s3)!=null&&P.enabled?"S3 协议":"本地目录")&&oe(u,a),(!A||L&2)&&d!==(d=F[1].s3.enabled?"S3 协议":"本地目录")&&oe(m,d)},i(F){A||(F&&Be(()=>{A&&(O||(O=Fe(e,Ge,{duration:150},!0)),O.run(1))}),A=!0)},o(F){F&&(O||(O=Fe(e,Ge,{duration:150},!1)),O.run(0)),A=!1},d(F){F&&y(e),F&&O&&O.end()}}}function f4(n){var l;let e,t=((l=n[0].s3)==null?void 0:l.enabled)!=n[1].s3.enabled&&yc(n);return{c(){t&&t.c(),e=ke()},m(i,s){t&&t.m(i,s),w(i,e,s)},p(i,s){var r;((r=i[0].s3)==null?void 0:r.enabled)!=i[1].s3.enabled?t?(t.p(i,s),s&3&&M(t,1)):(t=yc(i),t.c(),M(t,1),t.m(e.parentNode,e)):t&&(ue(),I(t,1,1,()=>{t=null}),fe())},d(i){t&&t.d(i),i&&y(e)}}}function wc(n){let e;function t(s,r){return s[4]?p4:s[5]?d4:c4}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&y(e)}}}function c4(n){let e;return{c(){e=h("div"),e.innerHTML=`<i class="ri-checkbox-circle-line txt-success"></i> 
                                <span class="txt">S3链接成功</span>`,p(e,"class","label label-sm label-success entrance-right")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function d4(n){let e,t,l,i;return{c(){e=h("div"),e.innerHTML=`<i class="ri-error-warning-line txt-warning"></i> 
                                <span class="txt">无法链接s3</span>`,p(e,"class","label label-sm label-warning entrance-right")},m(s,r){var o;w(s,e,r),l||(i=$e(t=Pe.call(null,e,(o=n[5].data)==null?void 0:o.message)),l=!0)},p(s,r){var o;t&&kt(t.update)&&r&32&&t.update.call(null,(o=s[5].data)==null?void 0:o.message)},d(s){s&&y(e),l=!1,i()}}}function p4(n){let e;return{c(){e=h("span"),p(e,"class","loader loader-sm")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function $c(n){let e,t,l,i;return{c(){e=h("button"),t=h("span"),t.textContent="重置",p(t,"class","txt"),p(e,"type","button"),p(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3]},m(s,r){w(s,e,r),b(e,t),l||(i=Y(e,"click",n[14]),l=!0)},p(s,r){r&8&&(e.disabled=s[3])},d(s){s&&y(e),l=!1,i()}}}function m4(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g;const k=[u4,a4],$=[];function C(T,S){return T[2]?0:1}return d=C(n),m=$[d]=k[d](n),{c(){e=h("header"),t=h("nav"),l=h("div"),l.textContent="设置",i=D(),s=h("div"),r=B(n[7]),o=D(),a=h("div"),u=h("form"),f=h("div"),f.innerHTML=`<p>默认情况下会直接存储到本地目录</p> 
                <p>如果想要更多功能可以使用minio或者aws s3</p>`,c=D(),m.c(),p(l,"class","breadcrumb-item"),p(s,"class","breadcrumb-item"),p(t,"class","breadcrumbs"),p(e,"class","page-header"),p(f,"class","content txt-xl m-b-base"),p(u,"class","panel"),p(u,"autocomplete","off"),p(a,"class","wrapper")},m(T,S){w(T,e,S),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),w(T,o,S),w(T,a,S),b(a,u),b(u,f),b(u,c),$[d].m(u,null),v=!0,_||(g=Y(u,"submit",Ke(n[16])),_=!0)},p(T,S){(!v||S&128)&&oe(r,T[7]);let E=d;d=C(T),d===E?$[d].p(T,S):(ue(),I($[E],1,1,()=>{$[E]=null}),fe(),m=$[d],m?m.p(T,S):(m=$[d]=k[d](T),m.c()),M(m,1),m.m(u,null))},i(T){v||(M(m),v=!0)},o(T){I(m),v=!1},d(T){T&&y(e),T&&y(o),T&&y(a),$[d].d(),_=!1,g()}}}function _4(n){let e,t,l,i;return e=new Vn({}),l=new dn({props:{$$slots:{default:[m4]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(s,r){H(e,s,r),w(s,t,r),H(l,s,r),i=!0},p(s,[r]){const o={};r&524543&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(M(e.$$.fragment,s),M(l.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),I(l.$$.fragment,s),i=!1},d(s){V(e,s),s&&y(t),V(l,s)}}}const h4="s3_test_request";function b4(n,e,t){let l,i,s;Ve(n,vt,E=>t(7,s=E)),Wt(vt,s="文件存储",s);let r={},o={},a=!1,u=!1,f=!1,c=null;d();async function d(){t(2,a=!0);try{const E=await ce.settings.getAll()||{};v(E)}catch(E){ce.error(E)}t(2,a=!1)}async function m(){if(!(u||!i)){t(3,u=!0);try{ce.cancelRequest(h4);const E=await ce.settings.update(j.filterRedactedProps(o));jt({}),await v(E),tr(),c?i1("Successfully saved but failed to establish S3 connection."):wt("Successfully saved files storage settings.")}catch(E){ce.error(E)}t(3,u=!1)}}async function v(E={}){t(1,o={s3:(E==null?void 0:E.s3)||{}}),t(0,r=JSON.parse(JSON.stringify(o)))}async function _(){t(1,o=JSON.parse(JSON.stringify(r||{})))}function g(E){n.$$.not_equal(o.s3,E)&&(o.s3=E,t(1,o))}function k(E){f=E,t(4,f)}function $(E){c=E,t(5,c)}const C=()=>_(),T=()=>m(),S=()=>m();return n.$$.update=()=>{n.$$.dirty&1&&t(10,l=JSON.stringify(r)),n.$$.dirty&1026&&t(6,i=l!=JSON.stringify(o))},[r,o,a,u,f,c,i,s,m,_,l,g,k,$,C,T,S]}class g4 extends ge{constructor(e){super(),be(this,e,b4,_4,_e,{})}}function v4(n){let e,t,l,i,s,r,o,a;return{c(){e=h("input"),l=D(),i=h("label"),s=B("启用"),p(e,"type","checkbox"),p(e,"id",t=n[20]),p(i,"for",r=n[20])},m(u,f){w(u,e,f),e.checked=n[1].enabled,w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"change",n[11]),o=!0)},p(u,f){f&1048576&&t!==(t=u[20])&&p(e,"id",t),f&2&&(e.checked=u[1].enabled),f&1048576&&r!==(r=u[20])&&p(i,"for",r)},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function k4(n){let e,t,l,i,s,r,o,a,u;return{c(){e=h("label"),t=B("Client ID"),i=D(),s=h("input"),p(e,"for",l=n[20]),p(s,"type","text"),p(s,"id",r=n[20]),s.required=o=n[1].enabled},m(f,c){w(f,e,c),b(e,t),w(f,i,c),w(f,s,c),re(s,n[1].clientId),a||(u=Y(s,"input",n[12]),a=!0)},p(f,c){c&1048576&&l!==(l=f[20])&&p(e,"for",l),c&1048576&&r!==(r=f[20])&&p(s,"id",r),c&2&&o!==(o=f[1].enabled)&&(s.required=o),c&2&&s.value!==f[1].clientId&&re(s,f[1].clientId)},d(f){f&&y(e),f&&y(i),f&&y(s),a=!1,u()}}}function y4(n){let e,t,l,i,s,r,o;function a(f){n[13](f)}let u={id:n[20],required:n[1].enabled};return n[1].clientSecret!==void 0&&(u.value=n[1].clientSecret),s=new mr({props:u}),le.push(()=>me(s,"value",a)),{c(){e=h("label"),t=B("Client secret"),i=D(),U(s.$$.fragment),p(e,"for",l=n[20])},m(f,c){w(f,e,c),b(e,t),w(f,i,c),H(s,f,c),o=!0},p(f,c){(!o||c&1048576&&l!==(l=f[20]))&&p(e,"for",l);const d={};c&1048576&&(d.id=f[20]),c&2&&(d.required=f[1].enabled),!r&&c&2&&(r=!0,d.value=f[1].clientSecret,he(()=>r=!1)),s.$set(d)},i(f){o||(M(s.$$.fragment,f),o=!0)},o(f){I(s.$$.fragment,f),o=!1},d(f){f&&y(e),f&&y(i),V(s,f)}}}function Tc(n){let e,t,l,i;function s(a){n[14](a)}var r=n[3].optionsComponent;function o(a){let u={key:a[3].key};return a[1]!==void 0&&(u.config=a[1]),{props:u}}return r&&(t=gt(r,o(n)),le.push(()=>me(t,"config",s))),{c(){e=h("div"),t&&U(t.$$.fragment),p(e,"class","col-lg-12")},m(a,u){w(a,e,u),t&&H(t,e,null),i=!0},p(a,u){const f={};if(u&8&&(f.key=a[3].key),!l&&u&2&&(l=!0,f.config=a[1],he(()=>l=!1)),u&8&&r!==(r=a[3].optionsComponent)){if(t){ue();const c=t;I(c.$$.fragment,1,0,()=>{V(c,1)}),fe()}r?(t=gt(r,o(a)),le.push(()=>me(t,"config",s)),U(t.$$.fragment),M(t.$$.fragment,1),H(t,e,null)):t=null}else r&&t.$set(f)},i(a){i||(t&&M(t.$$.fragment,a),i=!0)},o(a){t&&I(t.$$.fragment,a),i=!1},d(a){a&&y(e),t&&V(t)}}}function w4(n){let e,t,l,i,s,r,o,a,u,f,c,d,m;l=new de({props:{class:"form-field form-field-toggle m-b-0",name:n[3].key+".enabled",$$slots:{default:[v4,({uniqueId:_})=>({20:_}),({uniqueId:_})=>_?1048576:0]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field "+(n[1].enabled?"required":""),name:n[3].key+".clientId",$$slots:{default:[k4,({uniqueId:_})=>({20:_}),({uniqueId:_})=>_?1048576:0]},$$scope:{ctx:n}}}),u=new de({props:{class:"form-field "+(n[1].enabled?"required":""),name:n[3].key+".clientSecret",$$slots:{default:[y4,({uniqueId:_})=>({20:_}),({uniqueId:_})=>_?1048576:0]},$$scope:{ctx:n}}});let v=n[3].optionsComponent&&Tc(n);return{c(){e=h("form"),t=h("div"),U(l.$$.fragment),i=D(),s=h("button"),s.innerHTML='<span class="txt">清空</span>',r=D(),U(o.$$.fragment),a=D(),U(u.$$.fragment),f=D(),v&&v.c(),p(s,"type","button"),p(s,"class","btn btn-sm btn-transparent btn-hint m-l-auto"),p(t,"class","flex m-b-base"),p(e,"id",n[6]),p(e,"autocomplete","off")},m(_,g){w(_,e,g),b(e,t),H(l,t,null),b(t,i),b(t,s),b(e,r),H(o,e,null),b(e,a),H(u,e,null),b(e,f),v&&v.m(e,null),c=!0,d||(m=[Y(s,"click",n[8]),Y(e,"submit",Ke(n[15]))],d=!0)},p(_,g){const k={};g&8&&(k.name=_[3].key+".enabled"),g&3145730&&(k.$$scope={dirty:g,ctx:_}),l.$set(k);const $={};g&2&&($.class="form-field "+(_[1].enabled?"required":"")),g&8&&($.name=_[3].key+".clientId"),g&3145730&&($.$$scope={dirty:g,ctx:_}),o.$set($);const C={};g&2&&(C.class="form-field "+(_[1].enabled?"required":"")),g&8&&(C.name=_[3].key+".clientSecret"),g&3145730&&(C.$$scope={dirty:g,ctx:_}),u.$set(C),_[3].optionsComponent?v?(v.p(_,g),g&8&&M(v,1)):(v=Tc(_),v.c(),M(v,1),v.m(e,null)):v&&(ue(),I(v,1,1,()=>{v=null}),fe())},i(_){c||(M(l.$$.fragment,_),M(o.$$.fragment,_),M(u.$$.fragment,_),M(v),c=!0)},o(_){I(l.$$.fragment,_),I(o.$$.fragment,_),I(u.$$.fragment,_),I(v),c=!1},d(_){_&&y(e),V(l),V(o),V(u),v&&v.d(),d=!1,Te(m)}}}function $4(n){let e,t=(n[3].title||n[3].key)+"",l,i;return{c(){e=h("h4"),l=B(t),i=B(" provider"),p(e,"class","center txt-break")},m(s,r){w(s,e,r),b(e,l),b(e,i)},p(s,r){r&8&&t!==(t=(s[3].title||s[3].key)+"")&&oe(l,t)},d(s){s&&y(e)}}}function T4(n){let e,t,l,i,s,r,o,a;return{c(){e=h("button"),t=B("取消"),l=D(),i=h("button"),s=h("span"),s.textContent="应用",p(e,"type","button"),p(e,"class","btn btn-transparent"),e.disabled=n[4],p(s,"class","txt"),p(i,"type","submit"),p(i,"form",n[6]),p(i,"class","btn btn-expanded"),i.disabled=r=!n[5]||n[4],X(i,"btn-loading",n[4])},m(u,f){w(u,e,f),b(e,t),w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"click",n[0]),o=!0)},p(u,f){f&16&&(e.disabled=u[4]),f&48&&r!==(r=!u[5]||u[4])&&(i.disabled=r),f&16&&X(i,"btn-loading",u[4])},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function S4(n){let e,t,l={overlayClose:!n[4],escClose:!n[4],$$slots:{footer:[T4],header:[$4],default:[w4]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[16](e),e.$on("show",n[17]),e.$on("hide",n[18]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&16&&(r.overlayClose=!i[4]),s&16&&(r.escClose=!i[4]),s&2097210&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[16](null),V(e,i)}}}function C4(n,e,t){let l;const i=pt(),s="provider_popup_"+j.randomString(5);let r,o={},a={},u=!1,f="";function c(O,A){jt({}),t(3,o=Object.assign({},O)),t(1,a=Object.assign({enabled:!0},A)),t(10,f=JSON.stringify(a)),r==null||r.show()}function d(){return r==null?void 0:r.hide()}async function m(){t(4,u=!0);try{const O={};O[o.key]=j.filterRedactedProps(a);const A=await ce.settings.update(O);jt({}),wt("Successfully updated provider settings."),i("submit",A),d()}catch(O){ce.error(O)}t(4,u=!1)}function v(){for(let O in a)t(1,a[O]="",a);t(1,a.enabled=!1,a)}function _(){a.enabled=this.checked,t(1,a)}function g(){a.clientId=this.value,t(1,a)}function k(O){n.$$.not_equal(a.clientSecret,O)&&(a.clientSecret=O,t(1,a))}function $(O){a=O,t(1,a)}const C=()=>m();function T(O){le[O?"unshift":"push"](()=>{r=O,t(2,r)})}function S(O){De.call(this,n,O)}function E(O){De.call(this,n,O)}return n.$$.update=()=>{n.$$.dirty&1026&&t(5,l=JSON.stringify(a)!=f)},[d,a,r,o,u,l,s,m,v,c,f,_,g,k,$,C,T,S,E]}class E4 extends ge{constructor(e){super(),be(this,e,C4,S4,_e,{show:9,hide:0})}get show(){return this.$$.ctx[9]}get hide(){return this.$$.ctx[0]}}function Sc(n){let e,t,l;return{c(){e=h("img"),Xt(e.src,t="./images/oauth2/"+n[1].logo)||p(e,"src",t),p(e,"alt",l=n[1].title+" logo")},m(i,s){w(i,e,s)},p(i,s){s&2&&!Xt(e.src,t="./images/oauth2/"+i[1].logo)&&p(e,"src",t),s&2&&l!==(l=i[1].title+" logo")&&p(e,"alt",l)},d(i){i&&y(e)}}}function Cc(n){let e;return{c(){e=h("div"),e.textContent="启用",p(e,"class","label label-success")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function O4(n){let e,t,l,i,s=n[1].title+"",r,o,a,u,f=n[1].key.slice(0,-4)+"",c,d,m,v,_,g,k,$,C,T,S=n[1].logo&&Sc(n),E=n[0].enabled&&Cc(),O={};return k=new E4({props:O}),n[4](k),k.$on("submit",n[5]),{c(){e=h("div"),t=h("figure"),S&&S.c(),l=D(),i=h("div"),r=B(s),o=D(),a=h("em"),u=B("("),c=B(f),d=B(")"),m=D(),E&&E.c(),v=D(),_=h("button"),_.innerHTML='<i class="ri-settings-4-line"></i>',g=D(),U(k.$$.fragment),p(t,"class","provider-logo"),p(i,"class","title"),p(a,"class","txt-hint txt-sm m-r-auto"),p(_,"type","button"),p(_,"class","btn btn-circle btn-hint btn-transparent"),p(_,"aria-label","Provider settings"),p(e,"class","provider-card")},m(A,N){w(A,e,N),b(e,t),S&&S.m(t,null),b(e,l),b(e,i),b(i,r),b(e,o),b(e,a),b(a,u),b(a,c),b(a,d),b(e,m),E&&E.m(e,null),b(e,v),b(e,_),w(A,g,N),H(k,A,N),$=!0,C||(T=Y(_,"click",n[3]),C=!0)},p(A,[N]){A[1].logo?S?S.p(A,N):(S=Sc(A),S.c(),S.m(t,null)):S&&(S.d(1),S=null),(!$||N&2)&&s!==(s=A[1].title+"")&&oe(r,s),(!$||N&2)&&f!==(f=A[1].key.slice(0,-4)+"")&&oe(c,f),A[0].enabled?E||(E=Cc(),E.c(),E.m(e,v)):E&&(E.d(1),E=null);const F={};k.$set(F)},i(A){$||(M(k.$$.fragment,A),$=!0)},o(A){I(k.$$.fragment,A),$=!1},d(A){A&&y(e),S&&S.d(),E&&E.d(),A&&y(g),n[4](null),V(k,A),C=!1,T()}}}function D4(n,e,t){let{provider:l={}}=e,{config:i={}}=e,s;const r=()=>{s==null||s.show(l,Object.assign({},i,{enabled:i.clientId?i.enabled:!0}))};function o(u){le[u?"unshift":"push"](()=>{s=u,t(2,s)})}const a=u=>{u.detail[l.key]&&t(0,i=u.detail[l.key])};return n.$$set=u=>{"provider"in u&&t(1,l=u.provider),"config"in u&&t(0,i=u.config)},[i,l,s,r,o,a]}class fm extends ge{constructor(e){super(),be(this,e,D4,O4,_e,{provider:1,config:0})}}function Ec(n,e,t){const l=n.slice();return l[9]=e[t],l[10]=e,l[11]=t,l}function Oc(n,e,t){const l=n.slice();return l[9]=e[t],l[12]=e,l[13]=t,l}function A4(n){let e,t=[],l=new Map,i,s,r,o=[],a=new Map,u,f=n[3];const c=_=>_[9].key;for(let _=0;_<f.length;_+=1){let g=Oc(n,f,_),k=c(g);l.set(k,t[_]=Dc(k,g))}let d=n[3].length>0&&n[2].length>0&&Ac(),m=n[2];const v=_=>_[9].key;for(let _=0;_<m.length;_+=1){let g=Ec(n,m,_),k=v(g);a.set(k,o[_]=Mc(k,g))}return{c(){e=h("div");for(let _=0;_<t.length;_+=1)t[_].c();i=D(),d&&d.c(),s=D(),r=h("div");for(let _=0;_<o.length;_+=1)o[_].c();p(e,"class","grid grid-sm"),p(r,"class","grid grid-sm")},m(_,g){w(_,e,g);for(let k=0;k<t.length;k+=1)t[k]&&t[k].m(e,null);w(_,i,g),d&&d.m(_,g),w(_,s,g),w(_,r,g);for(let k=0;k<o.length;k+=1)o[k]&&o[k].m(r,null);u=!0},p(_,g){g&9&&(f=_[3],ue(),t=rt(t,g,c,1,_,f,l,e,Ot,Dc,null,Oc),fe()),_[3].length>0&&_[2].length>0?d||(d=Ac(),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null),g&5&&(m=_[2],ue(),o=rt(o,g,v,1,_,m,a,r,Ot,Mc,null,Ec),fe())},i(_){if(!u){for(let g=0;g<f.length;g+=1)M(t[g]);for(let g=0;g<m.length;g+=1)M(o[g]);u=!0}},o(_){for(let g=0;g<t.length;g+=1)I(t[g]);for(let g=0;g<o.length;g+=1)I(o[g]);u=!1},d(_){_&&y(e);for(let g=0;g<t.length;g+=1)t[g].d();_&&y(i),d&&d.d(_),_&&y(s),_&&y(r);for(let g=0;g<o.length;g+=1)o[g].d()}}}function M4(n){let e;return{c(){e=h("div"),p(e,"class","loader")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function Dc(n,e){let t,l,i,s,r;function o(u){e[5](u,e[9])}let a={provider:e[9]};return e[0][e[9].key]!==void 0&&(a.config=e[0][e[9].key]),l=new fm({props:a}),le.push(()=>me(l,"config",o)),{key:n,first:null,c(){t=h("div"),U(l.$$.fragment),s=D(),p(t,"class","col-lg-6"),this.first=t},m(u,f){w(u,t,f),H(l,t,null),b(t,s),r=!0},p(u,f){e=u;const c={};f&8&&(c.provider=e[9]),!i&&f&9&&(i=!0,c.config=e[0][e[9].key],he(()=>i=!1)),l.$set(c)},i(u){r||(M(l.$$.fragment,u),r=!0)},o(u){I(l.$$.fragment,u),r=!1},d(u){u&&y(t),V(l)}}}function Ac(n){let e;return{c(){e=h("hr")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Mc(n,e){let t,l,i,s,r;function o(u){e[6](u,e[9])}let a={provider:e[9]};return e[0][e[9].key]!==void 0&&(a.config=e[0][e[9].key]),l=new fm({props:a}),le.push(()=>me(l,"config",o)),{key:n,first:null,c(){t=h("div"),U(l.$$.fragment),s=D(),p(t,"class","col-lg-6"),this.first=t},m(u,f){w(u,t,f),H(l,t,null),b(t,s),r=!0},p(u,f){e=u;const c={};f&4&&(c.provider=e[9]),!i&&f&5&&(i=!0,c.config=e[0][e[9].key],he(()=>i=!1)),l.$set(c)},i(u){r||(M(l.$$.fragment,u),r=!0)},o(u){I(l.$$.fragment,u),r=!1},d(u){u&&y(t),V(l)}}}function I4(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v;const _=[M4,A4],g=[];function k($,C){return $[1]?0:1}return d=k(n),m=g[d]=_[d](n),{c(){e=h("header"),t=h("nav"),l=h("div"),l.textContent="设置",i=D(),s=h("div"),r=B(n[4]),o=D(),a=h("div"),u=h("div"),f=h("h6"),f.textContent="Manage the allowed users OAuth2 sign-in/sign-up methods.",c=D(),m.c(),p(l,"class","breadcrumb-item"),p(s,"class","breadcrumb-item"),p(t,"class","breadcrumbs"),p(e,"class","page-header"),p(f,"class","m-b-base"),p(u,"class","panel"),p(a,"class","wrapper")},m($,C){w($,e,C),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),w($,o,C),w($,a,C),b(a,u),b(u,f),b(u,c),g[d].m(u,null),v=!0},p($,C){(!v||C&16)&&oe(r,$[4]);let T=d;d=k($),d===T?g[d].p($,C):(ue(),I(g[T],1,1,()=>{g[T]=null}),fe(),m=g[d],m?m.p($,C):(m=g[d]=_[d]($),m.c()),M(m,1),m.m(u,null))},i($){v||(M(m),v=!0)},o($){I(m),v=!1},d($){$&&y(e),$&&y(o),$&&y(a),g[d].d()}}}function N4(n){let e,t,l,i;return e=new Vn({}),l=new dn({props:{$$slots:{default:[I4]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(s,r){H(e,s,r),w(s,t,r),H(l,s,r),i=!0},p(s,[r]){const o={};r&16415&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(M(e.$$.fragment,s),M(l.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),I(l.$$.fragment,s),i=!1},d(s){V(e,s),s&&y(t),V(l,s)}}}function F4(n,e,t){let l,i,s;Ve(n,vt,d=>t(4,s=d)),Wt(vt,s="第三方登录",s);let r=!1,o={};a();async function a(){t(1,r=!0);try{const d=await ce.settings.getAll()||{};u(d)}catch(d){ce.error(d)}t(1,r=!1)}function u(d){d=d||{},t(0,o={});for(const m of Ei)t(0,o[m.key]=Object.assign({enabled:!1},d[m.key]),o)}function f(d,m){n.$$.not_equal(o[m.key],d)&&(o[m.key]=d,t(0,o))}function c(d,m){n.$$.not_equal(o[m.key],d)&&(o[m.key]=d,t(0,o))}return n.$$.update=()=>{n.$$.dirty&1&&t(3,l=Ei.filter(d=>{var m;return(m=o[d.key])==null?void 0:m.enabled})),n.$$.dirty&1&&t(2,i=Ei.filter(d=>{var m;return!((m=o[d.key])!=null&&m.enabled)}))},[o,r,i,l,s,f,c]}class L4 extends ge{constructor(e){super(),be(this,e,F4,N4,_e,{})}}function q4(n){let e,t,l,i,s,r,o,a,u,f,c,d;return{c(){e=h("label"),t=B(n[3]),l=B(" duration (in seconds)"),s=D(),r=h("input"),a=D(),u=h("div"),f=h("span"),f.textContent="Invalidate all previously issued tokens",p(e,"for",i=n[6]),p(r,"type","number"),p(r,"id",o=n[6]),r.required=!0,p(f,"class","link-primary"),X(f,"txt-success",!!n[1]),p(u,"class","help-block")},m(m,v){w(m,e,v),b(e,t),b(e,l),w(m,s,v),w(m,r,v),re(r,n[0]),w(m,a,v),w(m,u,v),b(u,f),c||(d=[Y(r,"input",n[4]),Y(f,"click",n[5])],c=!0)},p(m,v){v&8&&oe(t,m[3]),v&64&&i!==(i=m[6])&&p(e,"for",i),v&64&&o!==(o=m[6])&&p(r,"id",o),v&1&&lt(r.value)!==m[0]&&re(r,m[0]),v&2&&X(f,"txt-success",!!m[1])},d(m){m&&y(e),m&&y(s),m&&y(r),m&&y(a),m&&y(u),c=!1,Te(d)}}}function P4(n){let e,t;return e=new de({props:{class:"form-field required",name:n[2]+".duration",$$slots:{default:[q4,({uniqueId:l})=>({6:l}),({uniqueId:l})=>l?64:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,[i]){const s={};i&4&&(s.name=l[2]+".duration"),i&203&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function R4(n,e,t){let{key:l}=e,{label:i}=e,{duration:s}=e,{secret:r}=e;function o(){s=lt(this.value),t(0,s)}const a=()=>{r?t(1,r=void 0):t(1,r=j.randomString(50))};return n.$$set=u=>{"key"in u&&t(2,l=u.key),"label"in u&&t(3,i=u.label),"duration"in u&&t(0,s=u.duration),"secret"in u&&t(1,r=u.secret)},[s,r,l,i,o,a]}class cm extends ge{constructor(e){super(),be(this,e,R4,P4,_e,{key:2,label:3,duration:0,secret:1})}}function Ic(n,e,t){const l=n.slice();return l[19]=e[t],l[20]=e,l[21]=t,l}function Nc(n,e,t){const l=n.slice();return l[19]=e[t],l[22]=e,l[23]=t,l}function j4(n){let e,t,l=[],i=new Map,s,r,o,a,u,f=[],c=new Map,d,m,v,_,g,k,$,C,T,S,E,O=n[5];const A=P=>P[19].key;for(let P=0;P<O.length;P+=1){let R=Nc(n,O,P),q=A(R);i.set(q,l[P]=Fc(q,R))}let N=n[6];const F=P=>P[19].key;for(let P=0;P<N.length;P+=1){let R=Ic(n,N,P),q=F(R);c.set(q,f[P]=Lc(q,R))}let L=n[3]&&qc(n);return{c(){e=h("h3"),e.textContent="Record tokens",t=D();for(let P=0;P<l.length;P+=1)l[P].c();s=D(),r=h("hr"),o=D(),a=h("h3"),a.textContent="Admin tokens",u=D();for(let P=0;P<f.length;P+=1)f[P].c();d=D(),m=h("div"),v=h("div"),_=D(),L&&L.c(),g=D(),k=h("button"),$=h("span"),$.textContent="Save changes",p(e,"class","section-title"),p(a,"class","section-title"),p(v,"class","flex-fill"),p($,"class","txt"),p(k,"type","submit"),p(k,"class","btn btn-expanded"),k.disabled=C=!n[3]||n[2],X(k,"btn-loading",n[2]),p(m,"class","flex")},m(P,R){w(P,e,R),w(P,t,R);for(let q=0;q<l.length;q+=1)l[q]&&l[q].m(P,R);w(P,s,R),w(P,r,R),w(P,o,R),w(P,a,R),w(P,u,R);for(let q=0;q<f.length;q+=1)f[q]&&f[q].m(P,R);w(P,d,R),w(P,m,R),b(m,v),b(m,_),L&&L.m(m,null),b(m,g),b(m,k),b(k,$),T=!0,S||(E=Y(k,"click",n[16]),S=!0)},p(P,R){R&33&&(O=P[5],ue(),l=rt(l,R,A,1,P,O,i,s.parentNode,Ot,Fc,s,Nc),fe()),R&65&&(N=P[6],ue(),f=rt(f,R,F,1,P,N,c,d.parentNode,Ot,Lc,d,Ic),fe()),P[3]?L?L.p(P,R):(L=qc(P),L.c(),L.m(m,g)):L&&(L.d(1),L=null),(!T||R&12&&C!==(C=!P[3]||P[2]))&&(k.disabled=C),(!T||R&4)&&X(k,"btn-loading",P[2])},i(P){if(!T){for(let R=0;R<O.length;R+=1)M(l[R]);for(let R=0;R<N.length;R+=1)M(f[R]);T=!0}},o(P){for(let R=0;R<l.length;R+=1)I(l[R]);for(let R=0;R<f.length;R+=1)I(f[R]);T=!1},d(P){P&&y(e),P&&y(t);for(let R=0;R<l.length;R+=1)l[R].d(P);P&&y(s),P&&y(r),P&&y(o),P&&y(a),P&&y(u);for(let R=0;R<f.length;R+=1)f[R].d(P);P&&y(d),P&&y(m),L&&L.d(),S=!1,E()}}}function H4(n){let e;return{c(){e=h("div"),p(e,"class","loader")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function Fc(n,e){let t,l,i,s,r;function o(f){e[11](f,e[19])}function a(f){e[12](f,e[19])}let u={key:e[19].key,label:e[19].label};return e[0][e[19].key].duration!==void 0&&(u.duration=e[0][e[19].key].duration),e[0][e[19].key].secret!==void 0&&(u.secret=e[0][e[19].key].secret),l=new cm({props:u}),le.push(()=>me(l,"duration",o)),le.push(()=>me(l,"secret",a)),{key:n,first:null,c(){t=ke(),U(l.$$.fragment),this.first=t},m(f,c){w(f,t,c),H(l,f,c),r=!0},p(f,c){e=f;const d={};!i&&c&33&&(i=!0,d.duration=e[0][e[19].key].duration,he(()=>i=!1)),!s&&c&33&&(s=!0,d.secret=e[0][e[19].key].secret,he(()=>s=!1)),l.$set(d)},i(f){r||(M(l.$$.fragment,f),r=!0)},o(f){I(l.$$.fragment,f),r=!1},d(f){f&&y(t),V(l,f)}}}function Lc(n,e){let t,l,i,s,r;function o(f){e[13](f,e[19])}function a(f){e[14](f,e[19])}let u={key:e[19].key,label:e[19].label};return e[0][e[19].key].duration!==void 0&&(u.duration=e[0][e[19].key].duration),e[0][e[19].key].secret!==void 0&&(u.secret=e[0][e[19].key].secret),l=new cm({props:u}),le.push(()=>me(l,"duration",o)),le.push(()=>me(l,"secret",a)),{key:n,first:null,c(){t=ke(),U(l.$$.fragment),this.first=t},m(f,c){w(f,t,c),H(l,f,c),r=!0},p(f,c){e=f;const d={};!i&&c&65&&(i=!0,d.duration=e[0][e[19].key].duration,he(()=>i=!1)),!s&&c&65&&(s=!0,d.secret=e[0][e[19].key].secret,he(()=>s=!1)),l.$set(d)},i(f){r||(M(l.$$.fragment,f),r=!0)},o(f){I(l.$$.fragment,f),r=!1},d(f){f&&y(t),V(l,f)}}}function qc(n){let e,t,l,i;return{c(){e=h("button"),t=h("span"),t.textContent="Cancel",p(t,"class","txt"),p(e,"type","button"),p(e,"class","btn btn-transparent btn-hint"),e.disabled=n[2]},m(s,r){w(s,e,r),b(e,t),l||(i=Y(e,"click",n[15]),l=!0)},p(s,r){r&4&&(e.disabled=s[2])},d(s){s&&y(e),l=!1,i()}}}function V4(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g;const k=[H4,j4],$=[];function C(T,S){return T[1]?0:1}return d=C(n),m=$[d]=k[d](n),{c(){e=h("header"),t=h("nav"),l=h("div"),l.textContent="设置",i=D(),s=h("div"),r=B(n[4]),o=D(),a=h("div"),u=h("form"),f=h("div"),f.innerHTML="<p>Adjust common token options.</p>",c=D(),m.c(),p(l,"class","breadcrumb-item"),p(s,"class","breadcrumb-item"),p(t,"class","breadcrumbs"),p(e,"class","page-header"),p(f,"class","content m-b-sm txt-xl"),p(u,"class","panel"),p(u,"autocomplete","off"),p(a,"class","wrapper")},m(T,S){w(T,e,S),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),w(T,o,S),w(T,a,S),b(a,u),b(u,f),b(u,c),$[d].m(u,null),v=!0,_||(g=Y(u,"submit",Ke(n[7])),_=!0)},p(T,S){(!v||S&16)&&oe(r,T[4]);let E=d;d=C(T),d===E?$[d].p(T,S):(ue(),I($[E],1,1,()=>{$[E]=null}),fe(),m=$[d],m?m.p(T,S):(m=$[d]=k[d](T),m.c()),M(m,1),m.m(u,null))},i(T){v||(M(m),v=!0)},o(T){I(m),v=!1},d(T){T&&y(e),T&&y(o),T&&y(a),$[d].d(),_=!1,g()}}}function U4(n){let e,t,l,i;return e=new Vn({}),l=new dn({props:{$$slots:{default:[V4]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(s,r){H(e,s,r),w(s,t,r),H(l,s,r),i=!0},p(s,[r]){const o={};r&16777247&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(M(e.$$.fragment,s),M(l.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),I(l.$$.fragment,s),i=!1},d(s){V(e,s),s&&y(t),V(l,s)}}}function z4(n,e,t){let l,i,s;Ve(n,vt,E=>t(4,s=E));const r=[{key:"recordAuthToken",label:"Auth record authentication token"},{key:"recordVerificationToken",label:"Auth record email verification token"},{key:"recordPasswordResetToken",label:"Auth record password reset token"},{key:"recordEmailChangeToken",label:"Auth record email change token"},{key:"recordFileToken",label:"Records protected file access token"}],o=[{key:"adminAuthToken",label:"Admins auth token"},{key:"adminPasswordResetToken",label:"Admins password reset token"},{key:"adminFileToken",label:"Admins protected file access token"}];Wt(vt,s="Token 设置",s);let a={},u={},f=!1,c=!1;d();async function d(){t(1,f=!0);try{const E=await ce.settings.getAll()||{};v(E)}catch(E){ce.error(E)}t(1,f=!1)}async function m(){if(!(c||!i)){t(2,c=!0);try{const E=await ce.settings.update(j.filterRedactedProps(u));v(E),wt("Successfully saved tokens options.")}catch(E){ce.error(E)}t(2,c=!1)}}function v(E){var A;E=E||{},t(0,u={});const O=r.concat(o);for(const N of O)t(0,u[N.key]={duration:((A=E[N.key])==null?void 0:A.duration)||0},u);t(9,a=JSON.parse(JSON.stringify(u)))}function _(){t(0,u=JSON.parse(JSON.stringify(a||{})))}function g(E,O){n.$$.not_equal(u[O.key].duration,E)&&(u[O.key].duration=E,t(0,u))}function k(E,O){n.$$.not_equal(u[O.key].secret,E)&&(u[O.key].secret=E,t(0,u))}function $(E,O){n.$$.not_equal(u[O.key].duration,E)&&(u[O.key].duration=E,t(0,u))}function C(E,O){n.$$.not_equal(u[O.key].secret,E)&&(u[O.key].secret=E,t(0,u))}const T=()=>_(),S=()=>m();return n.$$.update=()=>{n.$$.dirty&512&&t(10,l=JSON.stringify(a)),n.$$.dirty&1025&&t(3,i=l!=JSON.stringify(u))},[u,f,c,i,s,r,o,m,_,a,l,g,k,$,C,T,S]}class B4 extends ge{constructor(e){super(),be(this,e,z4,U4,_e,{})}}var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dm={exports:{}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(l){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,r={},o={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function $(C){return C instanceof a?new a(C.type,$(C.content),C.alias):Array.isArray(C)?C.map($):C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function($){return Object.prototype.toString.call($).slice(8,-1)},objId:function($){return $.__id||Object.defineProperty($,"__id",{value:++s}),$.__id},clone:function $(C,T){T=T||{};var S,E;switch(o.util.type(C)){case"Object":if(E=o.util.objId(C),T[E])return T[E];S={},T[E]=S;for(var O in C)C.hasOwnProperty(O)&&(S[O]=$(C[O],T));return S;case"Array":return E=o.util.objId(C),T[E]?T[E]:(S=[],T[E]=S,C.forEach(function(A,N){S[N]=$(A,T)}),S);default:return C}},getLanguage:function($){for(;$;){var C=i.exec($.className);if(C)return C[1].toLowerCase();$=$.parentElement}return"none"},setLanguage:function($,C){$.className=$.className.replace(RegExp(i,"gi"),""),$.classList.add("language-"+C)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(S){var $=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(S.stack)||[])[1];if($){var C=document.getElementsByTagName("script");for(var T in C)if(C[T].src==$)return C[T]}return null}},isActive:function($,C,T){for(var S="no-"+C;$;){var E=$.classList;if(E.contains(C))return!0;if(E.contains(S))return!1;$=$.parentElement}return!!T}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function($,C){var T=o.util.clone(o.languages[$]);for(var S in C)T[S]=C[S];return T},insertBefore:function($,C,T,S){S=S||o.languages;var E=S[$],O={};for(var A in E)if(E.hasOwnProperty(A)){if(A==C)for(var N in T)T.hasOwnProperty(N)&&(O[N]=T[N]);T.hasOwnProperty(A)||(O[A]=E[A])}var F=S[$];return S[$]=O,o.languages.DFS(o.languages,function(L,P){P===F&&L!=$&&(this[L]=O)}),O},DFS:function $(C,T,S,E){E=E||{};var O=o.util.objId;for(var A in C)if(C.hasOwnProperty(A)){T.call(C,A,C[A],S||A);var N=C[A],F=o.util.type(N);F==="Object"&&!E[O(N)]?(E[O(N)]=!0,$(N,T,null,E)):F==="Array"&&!E[O(N)]&&(E[O(N)]=!0,$(N,T,A,E))}}},plugins:{},highlightAll:function($,C){o.highlightAllUnder(document,$,C)},highlightAllUnder:function($,C,T){var S={callback:T,container:$,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",S),S.elements=Array.prototype.slice.apply(S.container.querySelectorAll(S.selector)),o.hooks.run("before-all-elements-highlight",S);for(var E=0,O;O=S.elements[E++];)o.highlightElement(O,C===!0,S.callback)},highlightElement:function($,C,T){var S=o.util.getLanguage($),E=o.languages[S];o.util.setLanguage($,S);var O=$.parentElement;O&&O.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(O,S);var A=$.textContent,N={element:$,language:S,grammar:E,code:A};function F(P){N.highlightedCode=P,o.hooks.run("before-insert",N),N.element.innerHTML=N.highlightedCode,o.hooks.run("after-highlight",N),o.hooks.run("complete",N),T&&T.call(N.element)}if(o.hooks.run("before-sanity-check",N),O=N.element.parentElement,O&&O.nodeName.toLowerCase()==="pre"&&!O.hasAttribute("tabindex")&&O.setAttribute("tabindex","0"),!N.code){o.hooks.run("complete",N),T&&T.call(N.element);return}if(o.hooks.run("before-highlight",N),!N.grammar){F(o.util.encode(N.code));return}if(C&&l.Worker){var L=new Worker(o.filename);L.onmessage=function(P){F(P.data)},L.postMessage(JSON.stringify({language:N.language,code:N.code,immediateClose:!0}))}else F(o.highlight(N.code,N.grammar,N.language))},highlight:function($,C,T){var S={code:$,grammar:C,language:T};if(o.hooks.run("before-tokenize",S),!S.grammar)throw new Error('The language "'+S.language+'" has no grammar.');return S.tokens=o.tokenize(S.code,S.grammar),o.hooks.run("after-tokenize",S),a.stringify(o.util.encode(S.tokens),S.language)},tokenize:function($,C){var T=C.rest;if(T){for(var S in T)C[S]=T[S];delete C.rest}var E=new c;return d(E,E.head,$),f($,E,C,E.head,0),v(E)},hooks:{all:{},add:function($,C){var T=o.hooks.all;T[$]=T[$]||[],T[$].push(C)},run:function($,C){var T=o.hooks.all[$];if(!(!T||!T.length))for(var S=0,E;E=T[S++];)E(C)}},Token:a};l.Prism=o;function a($,C,T,S){this.type=$,this.content=C,this.alias=T,this.length=(S||"").length|0}a.stringify=function $(C,T){if(typeof C=="string")return C;if(Array.isArray(C)){var S="";return C.forEach(function(F){S+=$(F,T)}),S}var E={type:C.type,content:$(C.content,T),tag:"span",classes:["token",C.type],attributes:{},language:T},O=C.alias;O&&(Array.isArray(O)?Array.prototype.push.apply(E.classes,O):E.classes.push(O)),o.hooks.run("wrap",E);var A="";for(var N in E.attributes)A+=" "+N+'="'+(E.attributes[N]||"").replace(/"/g,"&quot;")+'"';return"<"+E.tag+' class="'+E.classes.join(" ")+'"'+A+">"+E.content+"</"+E.tag+">"};function u($,C,T,S){$.lastIndex=C;var E=$.exec(T);if(E&&S&&E[1]){var O=E[1].length;E.index+=O,E[0]=E[0].slice(O)}return E}function f($,C,T,S,E,O){for(var A in T)if(!(!T.hasOwnProperty(A)||!T[A])){var N=T[A];N=Array.isArray(N)?N:[N];for(var F=0;F<N.length;++F){if(O&&O.cause==A+","+F)return;var L=N[F],P=L.inside,R=!!L.lookbehind,q=!!L.greedy,z=L.alias;if(q&&!L.pattern.global){var K=L.pattern.toString().match(/[imsuy]*$/)[0];L.pattern=RegExp(L.pattern.source,K+"g")}for(var Q=L.pattern||L,J=S.next,Z=E;J!==C.tail&&!(O&&Z>=O.reach);Z+=J.value.length,J=J.next){var se=J.value;if(C.length>$.length)return;if(!(se instanceof a)){var ee=1,te;if(q){if(te=u(Q,Z,$,R),!te||te.index>=$.length)break;var ot=te.index,pe=te.index+te[0].length,Ee=Z;for(Ee+=J.value.length;ot>=Ee;)J=J.next,Ee+=J.value.length;if(Ee-=J.value.length,Z=Ee,J.value instanceof a)continue;for(var We=J;We!==C.tail&&(Ee<pe||typeof We.value=="string");We=We.next)ee++,Ee+=We.value.length;ee--,se=$.slice(Z,Ee),te.index-=Z}else if(te=u(Q,0,se,R),!te)continue;var ot=te.index,xe=te[0],Je=se.slice(0,ot),$t=se.slice(ot+xe.length),Ft=Z+se.length;O&&Ft>O.reach&&(O.reach=Ft);var Tt=J.prev;Je&&(Tt=d(C,Tt,Je),Z+=Je.length),m(C,Tt,ee);var Dt=new a(A,P?o.tokenize(xe,P):xe,z,xe);if(J=d(C,Tt,Dt),$t&&d(C,J,$t),ee>1){var Lt={cause:A+","+F,reach:Ft};f($,C,T,J.prev,Z,Lt),O&&Lt.reach>O.reach&&(O.reach=Lt.reach)}}}}}}function c(){var $={value:null,prev:null,next:null},C={value:null,prev:$,next:null};$.next=C,this.head=$,this.tail=C,this.length=0}function d($,C,T){var S=C.next,E={value:T,prev:C,next:S};return C.next=E,S.prev=E,$.length++,E}function m($,C,T){for(var S=C.next,E=0;E<T&&S!==$.tail;E++)S=S.next;C.next=S,S.prev=C,$.length-=E}function v($){for(var C=[],T=$.head.next;T!==$.tail;)C.push(T.value),T=T.next;return C}if(!l.document)return l.addEventListener&&(o.disableWorkerMessageHandler||l.addEventListener("message",function($){var C=JSON.parse($.data),T=C.language,S=C.code,E=C.immediateClose;l.postMessage(o.highlight(S,o.languages[T],T)),E&&l.close()},!1)),o;var _=o.util.currentScript();_&&(o.filename=_.src,_.hasAttribute("data-manual")&&(o.manual=!0));function g(){o.manual||o.highlightAll()}if(!o.manual){var k=document.readyState;k==="loading"||k==="interactive"&&_&&_.defer?document.addEventListener("DOMContentLoaded",g):window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,16)}return o}(e);n.exports&&(n.exports=t),typeof Pc<"u"&&(Pc.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(l){l.type==="entity"&&(l.attributes.title=l.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(i,s){var r={};r["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[s]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+s]={pattern:/[\s\S]+/,inside:t.languages[s]};var a={};a[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(l,i){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+l+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:t.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(l){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;l.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},l.languages.css.atrule.inside.rest=l.languages.css;var s=l.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var l="Loading…",i=function(_,g){return"✖ Error "+_+" while fetching file: "+g},s="✖ Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",a="loading",u="loaded",f="failed",c="pre[data-src]:not(["+o+'="'+u+'"]):not(['+o+'="'+a+'"])';function d(_,g,k){var $=new XMLHttpRequest;$.open("GET",_,!0),$.onreadystatechange=function(){$.readyState==4&&($.status<400&&$.responseText?g($.responseText):$.status>=400?k(i($.status,$.statusText)):k(s))},$.send(null)}function m(_){var g=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(_||"");if(g){var k=Number(g[1]),$=g[2],C=g[3];return $?C?[k,Number(C)]:[k,void 0]:[k,k]}}t.hooks.add("before-highlightall",function(_){_.selector+=", "+c}),t.hooks.add("before-sanity-check",function(_){var g=_.element;if(g.matches(c)){_.code="",g.setAttribute(o,a);var k=g.appendChild(document.createElement("CODE"));k.textContent=l;var $=g.getAttribute("data-src"),C=_.language;if(C==="none"){var T=(/\.(\w+)$/.exec($)||[,"none"])[1];C=r[T]||T}t.util.setLanguage(k,C),t.util.setLanguage(g,C);var S=t.plugins.autoloader;S&&S.loadLanguages(C),d($,function(E){g.setAttribute(o,u);var O=m(g.getAttribute("data-range"));if(O){var A=E.split(/\r\n?|\n/g),N=O[0],F=O[1]==null?A.length:O[1];N<0&&(N+=A.length),N=Math.max(0,Math.min(N-1,A.length)),F<0&&(F+=A.length),F=Math.max(0,Math.min(F,A.length)),E=A.slice(N,F).join(`
`),g.hasAttribute("data-start")||g.setAttribute("data-start",String(N+1))}k.textContent=E,t.highlightElement(k)},function(E){g.setAttribute(o,f),k.textContent=E})}}),t.plugins.fileHighlight={highlight:function(g){for(var k=(g||document).querySelectorAll(c),$=0,C;C=k[$++];)t.highlightElement(C)}};var v=!1;t.fileHighlight=function(){v||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),v=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(dm);var K4=dm.exports;const Ul=W4(K4);var Y4={exports:{}};(function(n){(function(){if(typeof Prism>"u")return;var e=Object.assign||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);return r};function t(r){this.defaults=e({},r)}function l(r){return r.replace(/-(\w)/g,function(o,a){return a.toUpperCase()})}function i(r){for(var o=0,a=0;a<r.length;++a)r.charCodeAt(a)=="	".charCodeAt(0)&&(o+=3);return r.length+o}var s={"remove-trailing":"boolean","remove-indent":"boolean","left-trim":"boolean","right-trim":"boolean","break-lines":"number",indent:"number","remove-initial-line-feed":"boolean","tabs-to-spaces":"number","spaces-to-tabs":"number"};t.prototype={setDefaults:function(r){this.defaults=e(this.defaults,r)},normalize:function(r,o){o=e(this.defaults,o);for(var a in o){var u=l(a);a!=="normalize"&&u!=="setDefaults"&&o[a]&&this[u]&&(r=this[u].call(this,r,o[a]))}return r},leftTrim:function(r){return r.replace(/^\s+/,"")},rightTrim:function(r){return r.replace(/\s+$/,"")},tabsToSpaces:function(r,o){return o=o|0||4,r.replace(/\t/g,new Array(++o).join(" "))},spacesToTabs:function(r,o){return o=o|0||4,r.replace(RegExp(" {"+o+"}","g"),"	")},removeTrailing:function(r){return r.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(r){return r.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(r){var o=r.match(/^[^\S\n\r]*(?=\S)/gm);return!o||!o[0].length||(o.sort(function(a,u){return a.length-u.length}),!o[0].length)?r:r.replace(RegExp("^"+o[0],"gm"),"")},indent:function(r,o){return r.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++o).join("	")+"$&")},breakLines:function(r,o){o=o===!0?80:o|0||80;for(var a=r.split(`
`),u=0;u<a.length;++u)if(!(i(a[u])<=o)){for(var f=a[u].split(/(\s+)/g),c=0,d=0;d<f.length;++d){var m=i(f[d]);c+=m,c>o&&(f[d]=`
`+f[d],c=m)}a[u]=f.join("")}return a.join(`
`)}},n.exports&&(n.exports=t),Prism.plugins.NormalizeWhitespace=new t({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",function(r){var o=Prism.plugins.NormalizeWhitespace;if(!(r.settings&&r.settings["whitespace-normalization"]===!1)&&Prism.util.isActive(r.element,"whitespace-normalization",!0)){if((!r.element||!r.element.parentNode)&&r.code){r.code=o.normalize(r.code,r.settings);return}var a=r.element.parentNode;if(!(!r.code||!a||a.nodeName.toLowerCase()!=="pre")){r.settings==null&&(r.settings={});for(var u in s)if(Object.hasOwnProperty.call(s,u)){var f=s[u];if(a.hasAttribute("data-"+u))try{var c=JSON.parse(a.getAttribute("data-"+u)||"true");typeof c===f&&(r.settings[u]=c)}catch{}}for(var d=a.childNodes,m="",v="",_=!1,g=0;g<d.length;++g){var k=d[g];k==r.element?_=!0:k.nodeName==="#text"&&(_?v+=k.nodeValue:m+=k.nodeValue,a.removeChild(k),--g)}if(!r.element.children.length||!Prism.plugins.KeepMarkup)r.code=m+r.code+v,r.code=o.normalize(r.code,r.settings);else{var $=m+r.element.innerHTML+v;r.element.innerHTML=o.normalize($,r.settings),r.code=r.element.textContent}}}})})()})(Y4);(function(n){var e=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],t=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};n.languages.dart=n.languages.extend("clike",{"class-name":[l,{pattern:RegExp(t+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:l.inside}],keyword:e,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),n.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.dart}}},string:/[\s\S]+/}},string:void 0}),n.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),n.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":l,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(Prism);function J4(n){let e,t,l;return{c(){e=h("div"),t=h("code"),p(t,"class","svelte-10s5tkd"),p(e,"class",l="code-wrapper prism-light "+n[0]+" svelte-10s5tkd")},m(i,s){w(i,e,s),b(e,t),t.innerHTML=n[1]},p(i,[s]){s&2&&(t.innerHTML=i[1]),s&1&&l!==(l="code-wrapper prism-light "+i[0]+" svelte-10s5tkd")&&p(e,"class",l)},i:x,o:x,d(i){i&&y(e)}}}function Z4(n,e,t){let{class:l=""}=e,{content:i=""}=e,{language:s="javascript"}=e,r="";function o(a){return a=typeof a=="string"?a:"",a=Ul.plugins.NormalizeWhitespace.normalize(a,{"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Ul.highlight(a,Ul.languages[s]||Ul.languages.javascript,s)}return n.$$set=a=>{"class"in a&&t(0,l=a.class),"content"in a&&t(2,i=a.content),"language"in a&&t(3,s=a.language)},n.$$.update=()=>{n.$$.dirty&4&&typeof Ul<"u"&&i&&t(1,r=o(i))},[l,r,i,s]}class G4 extends ge{constructor(e){super(),be(this,e,Z4,J4,_e,{class:0,content:2,language:3})}}function Q4(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v;return r=new G4({props:{content:n[2]}}),{c(){e=h("div"),e.innerHTML="<p>导出所有表结构，可以在另一个实例中导入</p>",t=D(),l=h("div"),i=h("button"),i.innerHTML='<span class="txt">Copy</span>',s=D(),U(r.$$.fragment),o=D(),a=h("div"),u=h("div"),f=D(),c=h("button"),c.innerHTML=`<i class="ri-download-line"></i> 
                        <span class="txt">下载</span>`,p(e,"class","content txt-xl m-b-base"),p(i,"type","button"),p(i,"class","btn btn-sm btn-transparent fade copy-schema svelte-jm5c4z"),p(l,"tabindex","0"),p(l,"class","export-preview svelte-jm5c4z"),p(u,"class","flex-fill"),p(c,"type","button"),p(c,"class","btn btn-expanded"),p(a,"class","flex m-t-base")},m(_,g){w(_,e,g),w(_,t,g),w(_,l,g),b(l,i),b(l,s),H(r,l,null),n[8](l),w(_,o,g),w(_,a,g),b(a,u),b(a,f),b(a,c),d=!0,m||(v=[Y(i,"click",n[7]),Y(l,"keydown",n[9]),Y(c,"click",n[10])],m=!0)},p(_,g){const k={};g&4&&(k.content=_[2]),r.$set(k)},i(_){d||(M(r.$$.fragment,_),d=!0)},o(_){I(r.$$.fragment,_),d=!1},d(_){_&&y(e),_&&y(t),_&&y(l),V(r),n[8](null),_&&y(o),_&&y(a),m=!1,Te(v)}}}function X4(n){let e;return{c(){e=h("div"),p(e,"class","loader")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function x4(n){let e,t,l,i,s,r,o,a,u,f,c,d;const m=[X4,Q4],v=[];function _(g,k){return g[1]?0:1}return f=_(n),c=v[f]=m[f](n),{c(){e=h("header"),t=h("nav"),l=h("div"),l.textContent="设置",i=D(),s=h("div"),r=B(n[3]),o=D(),a=h("div"),u=h("div"),c.c(),p(l,"class","breadcrumb-item"),p(s,"class","breadcrumb-item"),p(t,"class","breadcrumbs"),p(e,"class","page-header"),p(u,"class","panel"),p(a,"class","wrapper")},m(g,k){w(g,e,k),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),w(g,o,k),w(g,a,k),b(a,u),v[f].m(u,null),d=!0},p(g,k){(!d||k&8)&&oe(r,g[3]);let $=f;f=_(g),f===$?v[f].p(g,k):(ue(),I(v[$],1,1,()=>{v[$]=null}),fe(),c=v[f],c?c.p(g,k):(c=v[f]=m[f](g),c.c()),M(c,1),c.m(u,null))},i(g){d||(M(c),d=!0)},o(g){I(c),d=!1},d(g){g&&y(e),g&&y(o),g&&y(a),v[f].d()}}}function e6(n){let e,t,l,i;return e=new Vn({}),l=new dn({props:{$$slots:{default:[x4]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(s,r){H(e,s,r),w(s,t,r),H(l,s,r),i=!0},p(s,[r]){const o={};r&8207&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(M(e.$$.fragment,s),M(l.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),I(l.$$.fragment,s),i=!1},d(s){V(e,s),s&&y(t),V(l,s)}}}function t6(n,e,t){let l,i;Ve(n,vt,g=>t(3,i=g)),Wt(vt,i="导出表结构",i);const s="export_"+j.randomString(5);let r,o=[],a=!1;u();async function u(){t(1,a=!0);try{t(6,o=await ce.collections.getFullList(100,{$cancelKey:s,sort:"updated"}));for(let g of o)delete g.created,delete g.updated}catch(g){ce.error(g)}t(1,a=!1)}function f(){j.downloadJson(o,"pb_schema")}function c(){j.copyToClipboard(l),Ni("The configuration was copied to your clipboard!",3e3)}const d=()=>c();function m(g){le[g?"unshift":"push"](()=>{r=g,t(0,r)})}const v=g=>{if(g.ctrlKey&&g.code==="KeyA"){g.preventDefault();const k=window.getSelection(),$=document.createRange();$.selectNodeContents(r),k.removeAllRanges(),k.addRange($)}},_=()=>f();return n.$$.update=()=>{n.$$.dirty&64&&t(2,l=JSON.stringify(o,null,4))},[r,a,l,i,f,c,o,d,m,v,_]}class n6 extends ge{constructor(e){super(),be(this,e,t6,e6,_e,{})}}function Rc(n,e,t){const l=n.slice();return l[14]=e[t],l}function jc(n,e,t){const l=n.slice();return l[17]=e[t][0],l[18]=e[t][1],l}function Hc(n,e,t){const l=n.slice();return l[14]=e[t],l}function Vc(n,e,t){const l=n.slice();return l[17]=e[t][0],l[23]=e[t][1],l}function Uc(n,e,t){const l=n.slice();return l[14]=e[t],l}function zc(n,e,t){const l=n.slice();return l[17]=e[t][0],l[18]=e[t][1],l}function Bc(n,e,t){const l=n.slice();return l[30]=e[t],l}function l6(n){let e,t,l,i,s=n[1].name+"",r,o=n[9]&&Wc(),a=n[0].name!==n[1].name&&Kc(n);return{c(){e=h("div"),o&&o.c(),t=D(),a&&a.c(),l=D(),i=h("strong"),r=B(s),p(i,"class","txt"),p(e,"class","inline-flex fleg-gap-5")},m(u,f){w(u,e,f),o&&o.m(e,null),b(e,t),a&&a.m(e,null),b(e,l),b(e,i),b(i,r)},p(u,f){u[9]?o||(o=Wc(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u[0].name!==u[1].name?a?a.p(u,f):(a=Kc(u),a.c(),a.m(e,l)):a&&(a.d(1),a=null),f[0]&2&&s!==(s=u[1].name+"")&&oe(r,s)},d(u){u&&y(e),o&&o.d(),a&&a.d()}}}function i6(n){var r;let e,t,l,i=((r=n[0])==null?void 0:r.name)+"",s;return{c(){e=h("span"),e.textContent="Deleted",t=D(),l=h("strong"),s=B(i),p(e,"class","label label-danger")},m(o,a){w(o,e,a),w(o,t,a),w(o,l,a),b(l,s)},p(o,a){var u;a[0]&1&&i!==(i=((u=o[0])==null?void 0:u.name)+"")&&oe(s,i)},d(o){o&&y(e),o&&y(t),o&&y(l)}}}function s6(n){var r;let e,t,l,i=((r=n[1])==null?void 0:r.name)+"",s;return{c(){e=h("span"),e.textContent="Added",t=D(),l=h("strong"),s=B(i),p(e,"class","label label-success")},m(o,a){w(o,e,a),w(o,t,a),w(o,l,a),b(l,s)},p(o,a){var u;a[0]&2&&i!==(i=((u=o[1])==null?void 0:u.name)+"")&&oe(s,i)},d(o){o&&y(e),o&&y(t),o&&y(l)}}}function Wc(n){let e;return{c(){e=h("span"),e.textContent="Changed",p(e,"class","label label-warning")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Kc(n){let e,t=n[0].name+"",l,i,s;return{c(){e=h("strong"),l=B(t),i=D(),s=h("i"),p(e,"class","txt-strikethrough txt-hint"),p(s,"class","ri-arrow-right-line txt-sm")},m(r,o){w(r,e,o),b(e,l),w(r,i,o),w(r,s,o)},p(r,o){o[0]&1&&t!==(t=r[0].name+"")&&oe(l,t)},d(r){r&&y(e),r&&y(i),r&&y(s)}}}function Yc(n){var g,k;let e,t,l,i=n[30]+"",s,r,o,a,u=n[12]((g=n[0])==null?void 0:g[n[30]])+"",f,c,d,m,v=n[12]((k=n[1])==null?void 0:k[n[30]])+"",_;return{c(){var $,C,T,S,E,O;e=h("tr"),t=h("td"),l=h("span"),s=B(i),r=D(),o=h("td"),a=h("pre"),f=B(u),c=D(),d=h("td"),m=h("pre"),_=B(v),p(t,"class","min-width svelte-lmkr38"),p(a,"class","txt"),p(o,"class","svelte-lmkr38"),X(o,"changed-old-col",!n[10]&&tn(($=n[0])==null?void 0:$[n[30]],(C=n[1])==null?void 0:C[n[30]])),X(o,"changed-none-col",n[10]),p(m,"class","txt"),p(d,"class","svelte-lmkr38"),X(d,"changed-new-col",!n[5]&&tn((T=n[0])==null?void 0:T[n[30]],(S=n[1])==null?void 0:S[n[30]])),X(d,"changed-none-col",n[5]),p(e,"class","svelte-lmkr38"),X(e,"txt-primary",tn((E=n[0])==null?void 0:E[n[30]],(O=n[1])==null?void 0:O[n[30]]))},m($,C){w($,e,C),b(e,t),b(t,l),b(l,s),b(e,r),b(e,o),b(o,a),b(a,f),b(e,c),b(e,d),b(d,m),b(m,_)},p($,C){var T,S,E,O,A,N,F,L;C[0]&1&&u!==(u=$[12]((T=$[0])==null?void 0:T[$[30]])+"")&&oe(f,u),C[0]&3075&&X(o,"changed-old-col",!$[10]&&tn((S=$[0])==null?void 0:S[$[30]],(E=$[1])==null?void 0:E[$[30]])),C[0]&1024&&X(o,"changed-none-col",$[10]),C[0]&2&&v!==(v=$[12]((O=$[1])==null?void 0:O[$[30]])+"")&&oe(_,v),C[0]&2083&&X(d,"changed-new-col",!$[5]&&tn((A=$[0])==null?void 0:A[$[30]],(N=$[1])==null?void 0:N[$[30]])),C[0]&32&&X(d,"changed-none-col",$[5]),C[0]&2051&&X(e,"txt-primary",tn((F=$[0])==null?void 0:F[$[30]],(L=$[1])==null?void 0:L[$[30]]))},d($){$&&y(e)}}}function Jc(n){let e,t=n[6],l=[];for(let i=0;i<t.length;i+=1)l[i]=Gc(Uc(n,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ke()},m(i,s){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(i,s);w(i,e,s)},p(i,s){if(s[0]&4160){t=i[6];let r;for(r=0;r<t.length;r+=1){const o=Uc(i,t,r);l[r]?l[r].p(o,s):(l[r]=Gc(o),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(i){it(l,i),i&&y(e)}}}function Zc(n){let e,t,l=n[17]+"",i,s,r,o,a=n[12](n[18])+"",u,f,c,d;return{c(){e=h("tr"),t=h("td"),i=B(l),s=D(),r=h("td"),o=h("pre"),u=B(a),f=D(),c=h("td"),d=D(),p(t,"class","min-width field-key-col svelte-lmkr38"),p(o,"class","txt"),p(r,"class","changed-old-col svelte-lmkr38"),p(c,"class","changed-none-col svelte-lmkr38"),p(e,"class","txt-primary svelte-lmkr38")},m(m,v){w(m,e,v),b(e,t),b(t,i),b(e,s),b(e,r),b(r,o),b(o,u),b(e,f),b(e,c),b(e,d)},p(m,v){v[0]&64&&l!==(l=m[17]+"")&&oe(i,l),v[0]&64&&a!==(a=m[12](m[18])+"")&&oe(u,a)},d(m){m&&y(e)}}}function Gc(n){let e,t,l,i,s=n[14].name+"",r,o,a,u,f,c,d,m=n[14].name+"",v,_,g,k,$=Object.entries(n[14]),C=[];for(let T=0;T<$.length;T+=1)C[T]=Zc(zc(n,$,T));return{c(){e=h("tr"),t=h("th"),l=h("span"),i=B("field: "),r=B(s),o=D(),a=h("span"),u=B("Deleted - "),f=h("small"),c=B("All stored data related to "),d=h("strong"),v=B(m),_=B(" will be deleted!"),g=D();for(let T=0;T<C.length;T+=1)C[T].c();k=ke(),p(l,"class","txt"),p(a,"class","label label-danger m-l-5 svelte-lmkr38"),p(t,"class","min-width svelte-lmkr38"),p(t,"colspan","3"),p(e,"class","svelte-lmkr38")},m(T,S){w(T,e,S),b(e,t),b(t,l),b(l,i),b(l,r),b(t,o),b(t,a),b(a,u),b(a,f),b(f,c),b(f,d),b(d,v),b(f,_),w(T,g,S);for(let E=0;E<C.length;E+=1)C[E]&&C[E].m(T,S);w(T,k,S)},p(T,S){if(S[0]&64&&s!==(s=T[14].name+"")&&oe(r,s),S[0]&64&&m!==(m=T[14].name+"")&&oe(v,m),S[0]&4160){$=Object.entries(T[14]);let E;for(E=0;E<$.length;E+=1){const O=zc(T,$,E);C[E]?C[E].p(O,S):(C[E]=Zc(O),C[E].c(),C[E].m(k.parentNode,k))}for(;E<C.length;E+=1)C[E].d(1);C.length=$.length}},d(T){T&&y(e),T&&y(g),it(C,T),T&&y(k)}}}function Qc(n){let e;return{c(){e=h("span"),e.textContent="Changed",p(e,"class","label label-warning m-l-5 svelte-lmkr38")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Xc(n){var _;let e,t,l=n[17]+"",i,s,r,o,a=n[12]((_=_n(n[3],n[14].id))==null?void 0:_[n[17]])+"",u,f,c,d,m=n[12](n[23])+"",v;return{c(){var g,k,$;e=h("tr"),t=h("td"),i=B(l),s=D(),r=h("td"),o=h("pre"),u=B(a),f=D(),c=h("td"),d=h("pre"),v=B(m),p(t,"class","min-width field-key-col svelte-lmkr38"),p(o,"class","txt"),p(r,"class","svelte-lmkr38"),X(r,"changed-old-col",tn((g=_n(n[3],n[14].id))==null?void 0:g[n[17]],n[23])),p(d,"class","txt"),p(c,"class","svelte-lmkr38"),X(c,"changed-new-col",tn((k=_n(n[3],n[14].id))==null?void 0:k[n[17]],n[23])),p(e,"class","svelte-lmkr38"),X(e,"txt-primary",tn(($=_n(n[3],n[14].id))==null?void 0:$[n[17]],n[23]))},m(g,k){w(g,e,k),b(e,t),b(t,i),b(e,s),b(e,r),b(r,o),b(o,u),b(e,f),b(e,c),b(c,d),b(d,v)},p(g,k){var $,C,T,S;k[0]&128&&l!==(l=g[17]+"")&&oe(i,l),k[0]&136&&a!==(a=g[12](($=_n(g[3],g[14].id))==null?void 0:$[g[17]])+"")&&oe(u,a),k[0]&136&&X(r,"changed-old-col",tn((C=_n(g[3],g[14].id))==null?void 0:C[g[17]],g[23])),k[0]&128&&m!==(m=g[12](g[23])+"")&&oe(v,m),k[0]&136&&X(c,"changed-new-col",tn((T=_n(g[3],g[14].id))==null?void 0:T[g[17]],g[23])),k[0]&136&&X(e,"txt-primary",tn((S=_n(g[3],g[14].id))==null?void 0:S[g[17]],g[23]))},d(g){g&&y(e)}}}function xc(n){let e,t,l,i,s=n[14].name+"",r,o,a=tn(_n(n[3],n[14].id),_n(n[4],n[14].id)),u,f,c=a&&Qc(),d=Object.entries(n[14]),m=[];for(let v=0;v<d.length;v+=1)m[v]=Xc(Vc(n,d,v));return{c(){e=h("tr"),t=h("th"),l=h("span"),i=B("field: "),r=B(s),o=D(),c&&c.c(),u=D();for(let v=0;v<m.length;v+=1)m[v].c();f=ke(),p(l,"class","txt"),p(t,"class","min-width svelte-lmkr38"),p(t,"colspan","3"),p(e,"class","svelte-lmkr38")},m(v,_){w(v,e,_),b(e,t),b(t,l),b(l,i),b(l,r),b(t,o),c&&c.m(t,null),w(v,u,_);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(v,_);w(v,f,_)},p(v,_){if(_[0]&128&&s!==(s=v[14].name+"")&&oe(r,s),_[0]&152&&(a=tn(_n(v[3],v[14].id),_n(v[4],v[14].id))),a?c||(c=Qc(),c.c(),c.m(t,null)):c&&(c.d(1),c=null),_[0]&4232){d=Object.entries(v[14]);let g;for(g=0;g<d.length;g+=1){const k=Vc(v,d,g);m[g]?m[g].p(k,_):(m[g]=Xc(k),m[g].c(),m[g].m(f.parentNode,f))}for(;g<m.length;g+=1)m[g].d(1);m.length=d.length}},d(v){v&&y(e),c&&c.d(),v&&y(u),it(m,v),v&&y(f)}}}function ed(n){let e,t,l=n[17]+"",i,s,r,o,a,u,f=n[12](n[18])+"",c,d;return{c(){e=h("tr"),t=h("td"),i=B(l),s=D(),r=h("td"),o=D(),a=h("td"),u=h("pre"),c=B(f),d=D(),p(t,"class","min-width field-key-col svelte-lmkr38"),p(r,"class","changed-none-col svelte-lmkr38"),p(u,"class","txt"),p(a,"class","changed-new-col svelte-lmkr38"),p(e,"class","txt-primary svelte-lmkr38")},m(m,v){w(m,e,v),b(e,t),b(t,i),b(e,s),b(e,r),b(e,o),b(e,a),b(a,u),b(u,c),b(e,d)},p(m,v){v[0]&256&&l!==(l=m[17]+"")&&oe(i,l),v[0]&256&&f!==(f=m[12](m[18])+"")&&oe(c,f)},d(m){m&&y(e)}}}function td(n){let e,t,l,i,s=n[14].name+"",r,o,a,u,f,c=Object.entries(n[14]),d=[];for(let m=0;m<c.length;m+=1)d[m]=ed(jc(n,c,m));return{c(){e=h("tr"),t=h("th"),l=h("span"),i=B("field: "),r=B(s),o=D(),a=h("span"),a.textContent="Added",u=D();for(let m=0;m<d.length;m+=1)d[m].c();f=ke(),p(l,"class","txt"),p(a,"class","label label-success m-l-5 svelte-lmkr38"),p(t,"class","min-width svelte-lmkr38"),p(t,"colspan","3"),p(e,"class","svelte-lmkr38")},m(m,v){w(m,e,v),b(e,t),b(t,l),b(l,i),b(l,r),b(t,o),b(t,a),w(m,u,v);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(m,v);w(m,f,v)},p(m,v){if(v[0]&256&&s!==(s=m[14].name+"")&&oe(r,s),v[0]&4352){c=Object.entries(m[14]);let _;for(_=0;_<c.length;_+=1){const g=jc(m,c,_);d[_]?d[_].p(g,v):(d[_]=ed(g),d[_].c(),d[_].m(f.parentNode,f))}for(;_<d.length;_+=1)d[_].d(1);d.length=c.length}},d(m){m&&y(e),m&&y(u),it(d,m),m&&y(f)}}}function r6(n){let e,t,l,i,s,r,o,a,u;function f(T,S){var E,O;return(E=T[0])!=null&&E.id?(O=T[1])!=null&&O.id?l6:i6:s6}let c=f(n),d=c(n),m=n[11],v=[];for(let T=0;T<m.length;T+=1)v[T]=Yc(Bc(n,m,T));let _=(n[2]||n[5])&&Jc(n),g=n[7],k=[];for(let T=0;T<g.length;T+=1)k[T]=xc(Hc(n,g,T));let $=n[8],C=[];for(let T=0;T<$.length;T+=1)C[T]=td(Rc(n,$,T));return{c(){e=h("div"),d.c(),t=D(),l=h("table"),i=h("thead"),i.innerHTML=`<tr class="svelte-lmkr38"><th class="svelte-lmkr38">Props</th> 
            <th width="10%" class="svelte-lmkr38">Old</th> 
            <th width="10%" class="svelte-lmkr38">New</th></tr>`,s=D(),r=h("tbody");for(let T=0;T<v.length;T+=1)v[T].c();o=D(),_&&_.c(),a=D();for(let T=0;T<k.length;T+=1)k[T].c();u=D();for(let T=0;T<C.length;T+=1)C[T].c();p(e,"class","section-title"),p(l,"class","table collections-diff-table m-b-base svelte-lmkr38")},m(T,S){w(T,e,S),d.m(e,null),w(T,t,S),w(T,l,S),b(l,i),b(l,s),b(l,r);for(let E=0;E<v.length;E+=1)v[E]&&v[E].m(r,null);b(r,o),_&&_.m(r,null),b(r,a);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(r,null);b(r,u);for(let E=0;E<C.length;E+=1)C[E]&&C[E].m(r,null)},p(T,S){if(c===(c=f(T))&&d?d.p(T,S):(d.d(1),d=c(T),d&&(d.c(),d.m(e,null))),S[0]&7203){m=T[11];let E;for(E=0;E<m.length;E+=1){const O=Bc(T,m,E);v[E]?v[E].p(O,S):(v[E]=Yc(O),v[E].c(),v[E].m(r,o))}for(;E<v.length;E+=1)v[E].d(1);v.length=m.length}if(T[2]||T[5]?_?_.p(T,S):(_=Jc(T),_.c(),_.m(r,a)):_&&(_.d(1),_=null),S[0]&4248){g=T[7];let E;for(E=0;E<g.length;E+=1){const O=Hc(T,g,E);k[E]?k[E].p(O,S):(k[E]=xc(O),k[E].c(),k[E].m(r,u))}for(;E<k.length;E+=1)k[E].d(1);k.length=g.length}if(S[0]&4352){$=T[8];let E;for(E=0;E<$.length;E+=1){const O=Rc(T,$,E);C[E]?C[E].p(O,S):(C[E]=td(O),C[E].c(),C[E].m(r,null))}for(;E<C.length;E+=1)C[E].d(1);C.length=$.length}},i:x,o:x,d(T){T&&y(e),d.d(),T&&y(t),T&&y(l),it(v,T),_&&_.d(),it(k,T),it(C,T)}}}function _n(n,e){n=n||[];for(let t of n)if(t.id==e)return t;return null}function tn(n,e){return n===e?!1:JSON.stringify(n)!==JSON.stringify(e)}function o6(n,e,t){let l,i,s,{collectionA:r=new ln}=e,{collectionB:o=new ln}=e,{deleteMissing:a=!1}=e,u=[],f=[],c=[],d=[],m=[];const v=Object.keys(new ln().$export()).filter(k=>!["schema","created","updated"].includes(k));function _(){t(4,f=Array.isArray(o==null?void 0:o.schema)?o==null?void 0:o.schema.concat():[]),a||t(4,f=f.concat(u.filter(k=>!f.find($=>k.id==$.id))))}function g(k){return typeof k>"u"?"":j.isObject(k)?JSON.stringify(k,null,4):k}return n.$$set=k=>{"collectionA"in k&&t(0,r=k.collectionA),"collectionB"in k&&t(1,o=k.collectionB),"deleteMissing"in k&&t(2,a=k.deleteMissing)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(5,l=!(o!=null&&o.id)&&!(o!=null&&o.name)),n.$$.dirty[0]&33&&t(10,i=!l&&!(r!=null&&r.id)),n.$$.dirty[0]&1&&t(3,u=Array.isArray(r==null?void 0:r.schema)?r==null?void 0:r.schema.concat():[]),n.$$.dirty[0]&7&&(typeof(r==null?void 0:r.schema)<"u"||typeof(o==null?void 0:o.schema)<"u"||typeof a<"u")&&_(),n.$$.dirty[0]&24&&t(6,c=u.filter(k=>!f.find($=>k.id==$.id))),n.$$.dirty[0]&24&&t(7,d=f.filter(k=>u.find($=>$.id==k.id))),n.$$.dirty[0]&24&&t(8,m=f.filter(k=>!u.find($=>$.id==k.id))),n.$$.dirty[0]&7&&t(9,s=j.hasCollectionChanges(r,o,a))},[r,o,a,u,f,l,c,d,m,s,i,v,g]}class a6 extends ge{constructor(e){super(),be(this,e,o6,r6,_e,{collectionA:0,collectionB:1,deleteMissing:2},null,[-1,-1])}}function nd(n,e,t){const l=n.slice();return l[17]=e[t],l}function ld(n){let e,t;return e=new a6({props:{collectionA:n[17].old,collectionB:n[17].new,deleteMissing:n[3]}}),{c(){U(e.$$.fragment)},m(l,i){H(e,l,i),t=!0},p(l,i){const s={};i&4&&(s.collectionA=l[17].old),i&4&&(s.collectionB=l[17].new),i&8&&(s.deleteMissing=l[3]),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function u6(n){let e,t,l=n[2],i=[];for(let r=0;r<l.length;r+=1)i[r]=ld(nd(n,l,r));const s=r=>I(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ke()},m(r,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,o);w(r,e,o),t=!0},p(r,o){if(o&12){l=r[2];let a;for(a=0;a<l.length;a+=1){const u=nd(r,l,a);i[a]?(i[a].p(u,o),M(i[a],1)):(i[a]=ld(u),i[a].c(),M(i[a],1),i[a].m(e.parentNode,e))}for(ue(),a=l.length;a<i.length;a+=1)s(a);fe()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)M(i[o]);t=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)I(i[o]);t=!1},d(r){it(i,r),r&&y(e)}}}function f6(n){let e;return{c(){e=h("h4"),e.textContent="变更详情",p(e,"class","center txt-break")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function c6(n){let e,t,l,i,s,r,o;return{c(){e=h("button"),t=B("取消"),l=D(),i=h("button"),s=h("span"),s.textContent="最终确认",p(e,"type","button"),p(e,"class","btn btn-transparent"),e.disabled=n[4],p(s,"class","txt"),p(i,"type","button"),p(i,"class","btn btn-expanded"),i.disabled=n[4],X(i,"btn-loading",n[4])},m(a,u){w(a,e,u),b(e,t),w(a,l,u),w(a,i,u),b(i,s),r||(o=[Y(e,"click",n[0]),Y(i,"click",n[9])],r=!0)},p(a,u){u&16&&(e.disabled=a[4]),u&16&&(i.disabled=a[4]),u&16&&X(i,"btn-loading",a[4])},d(a){a&&y(e),a&&y(l),a&&y(i),r=!1,Te(o)}}}function d6(n){let e,t,l={class:"full-width-popup import-popup",overlayClose:!1,escClose:!n[4],beforeHide:n[10],popup:!0,$$slots:{footer:[c6],header:[f6],default:[u6]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&16&&(r.escClose=!i[4]),s&16&&(r.beforeHide=i[10]),s&1048604&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[11](null),V(e,i)}}}function p6(n,e,t){const l=pt();let i,s=[],r=[],o=[],a=!1,u=!1;function f(T,S,E=!1){t(7,s=T),t(8,r=S),t(3,a=E),i==null||i.show()}function c(){return i==null?void 0:i.hide()}function d(){t(2,o=[]);for(const T of s){const S=j.findByKey(r,"id",T.id)||null;(a&&!(S!=null&&S.id)||S!=null&&S.id&&j.hasCollectionChanges(T,S,a))&&o.push({old:T,new:S})}for(const T of r){const S=j.findByKey(s,"id",T.id)||null;S!=null&&S.id||o.push({old:S,new:T})}}function m(){const T=[];if(a)for(const S of s){const E=j.findByKey(r,"id",S.id);if(!E)T.push(S.name+".*");else{const O=Array.isArray(S.schema)?S.schema:[];for(const A of O)j.findByKey(E.schema,"id",A.id)||T.push(`${S.name}.${A.name} (${A.id})`)}}T.length?Gt(`Do you really want to delete the following collection fields and their related records data:
- ${T.join(`
- `)}`,()=>{v()}):v()}async function v(){if(!u){t(4,u=!0);try{await ce.collections.import(r,a),wt("Successfully imported collections configuration."),l("submit")}catch(T){ce.error(T)}t(4,u=!1),c()}}const _=()=>m(),g=()=>!u;function k(T){le[T?"unshift":"push"](()=>{i=T,t(1,i)})}function $(T){De.call(this,n,T)}function C(T){De.call(this,n,T)}return n.$$.update=()=>{n.$$.dirty&384&&Array.isArray(s)&&Array.isArray(r)&&d()},[c,i,o,a,u,m,f,s,r,_,g,k,$,C]}class m6 extends ge{constructor(e){super(),be(this,e,p6,d6,_e,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function id(n,e,t){const l=n.slice();return l[32]=e[t],l}function sd(n,e,t){const l=n.slice();return l[35]=e[t],l}function rd(n,e,t){const l=n.slice();return l[32]=e[t],l}function _6(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O;a=new de({props:{class:"form-field "+(n[6]?"":"field-error"),name:"collections",$$slots:{default:[b6,({uniqueId:R})=>({40:R}),({uniqueId:R})=>[0,R?512:0]]},$$scope:{ctx:n}}});let A=!1,N=n[6]&&n[1].length&&!n[7]&&ad(),F=n[6]&&n[1].length&&n[7]&&ud(n),L=n[13].length&&kd(n),P=!!n[0]&&yd(n);return{c(){e=h("input"),t=D(),l=h("div"),i=h("p"),s=B(`直接粘贴json或者导入文件：
                        `),r=h("button"),r.innerHTML='<span class="txt">点击上传</span>',o=D(),U(a.$$.fragment),u=D(),f=D(),N&&N.c(),c=D(),F&&F.c(),d=D(),L&&L.c(),m=D(),v=h("div"),P&&P.c(),_=D(),g=h("div"),k=D(),$=h("button"),C=h("span"),C.textContent="确定",p(e,"type","file"),p(e,"class","hidden"),p(e,"accept",".json"),p(r,"class","btn btn-outline btn-sm m-l-5"),X(r,"btn-loading",n[12]),p(l,"class","content txt-xl m-b-base"),p(g,"class","flex-fill"),p(C,"class","txt"),p($,"type","button"),p($,"class","btn btn-expanded btn-warning m-l-auto"),$.disabled=T=!n[14],p(v,"class","flex m-t-base")},m(R,q){w(R,e,q),n[19](e),w(R,t,q),w(R,l,q),b(l,i),b(i,s),b(i,r),w(R,o,q),H(a,R,q),w(R,u,q),w(R,f,q),N&&N.m(R,q),w(R,c,q),F&&F.m(R,q),w(R,d,q),L&&L.m(R,q),w(R,m,q),w(R,v,q),P&&P.m(v,null),b(v,_),b(v,g),b(v,k),b(v,$),b($,C),S=!0,E||(O=[Y(e,"change",n[20]),Y(r,"click",n[21]),Y($,"click",n[26])],E=!0)},p(R,q){(!S||q[0]&4096)&&X(r,"btn-loading",R[12]);const z={};q[0]&64&&(z.class="form-field "+(R[6]?"":"field-error")),q[0]&65|q[1]&1536&&(z.$$scope={dirty:q,ctx:R}),a.$set(z),R[6]&&R[1].length&&!R[7]?N||(N=ad(),N.c(),N.m(c.parentNode,c)):N&&(N.d(1),N=null),R[6]&&R[1].length&&R[7]?F?F.p(R,q):(F=ud(R),F.c(),F.m(d.parentNode,d)):F&&(F.d(1),F=null),R[13].length?L?L.p(R,q):(L=kd(R),L.c(),L.m(m.parentNode,m)):L&&(L.d(1),L=null),R[0]?P?P.p(R,q):(P=yd(R),P.c(),P.m(v,_)):P&&(P.d(1),P=null),(!S||q[0]&16384&&T!==(T=!R[14]))&&($.disabled=T)},i(R){S||(M(a.$$.fragment,R),M(A),S=!0)},o(R){I(a.$$.fragment,R),I(A),S=!1},d(R){R&&y(e),n[19](null),R&&y(t),R&&y(l),R&&y(o),V(a,R),R&&y(u),R&&y(f),N&&N.d(R),R&&y(c),F&&F.d(R),R&&y(d),L&&L.d(R),R&&y(m),R&&y(v),P&&P.d(),E=!1,Te(O)}}}function h6(n){let e;return{c(){e=h("div"),p(e,"class","loader")},m(t,l){w(t,e,l)},p:x,i:x,o:x,d(t){t&&y(e)}}}function od(n){let e;return{c(){e=h("div"),e.textContent="Invalid collections configuration.",p(e,"class","help-block help-block-error")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function b6(n){let e,t,l,i,s,r,o,a,u,f,c=!!n[0]&&!n[6]&&od();return{c(){e=h("label"),t=B("Collections"),i=D(),s=h("textarea"),o=D(),c&&c.c(),a=ke(),p(e,"for",l=n[40]),p(e,"class","p-b-10"),p(s,"id",r=n[40]),p(s,"class","code"),p(s,"spellcheck","false"),p(s,"rows","15"),s.required=!0},m(d,m){w(d,e,m),b(e,t),w(d,i,m),w(d,s,m),re(s,n[0]),w(d,o,m),c&&c.m(d,m),w(d,a,m),u||(f=Y(s,"input",n[22]),u=!0)},p(d,m){m[1]&512&&l!==(l=d[40])&&p(e,"for",l),m[1]&512&&r!==(r=d[40])&&p(s,"id",r),m[0]&1&&re(s,d[0]),d[0]&&!d[6]?c||(c=od(),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(d){d&&y(e),d&&y(i),d&&y(s),d&&y(o),c&&c.d(d),d&&y(a),u=!1,f()}}}function ad(n){let e;return{c(){e=h("div"),e.innerHTML=`<div class="icon"><i class="ri-information-line"></i></div> 
                        <div class="content"><string>Your collections configuration is already up-to-date!</string></div>`,p(e,"class","alert alert-info")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function ud(n){let e,t,l,i,s,r=n[9].length&&fd(n),o=n[4].length&&pd(n),a=n[8].length&&bd(n);return{c(){e=h("h5"),e.textContent="变更预览",t=D(),l=h("div"),r&&r.c(),i=D(),o&&o.c(),s=D(),a&&a.c(),p(e,"class","section-title"),p(l,"class","list")},m(u,f){w(u,e,f),w(u,t,f),w(u,l,f),r&&r.m(l,null),b(l,i),o&&o.m(l,null),b(l,s),a&&a.m(l,null)},p(u,f){u[9].length?r?r.p(u,f):(r=fd(u),r.c(),r.m(l,i)):r&&(r.d(1),r=null),u[4].length?o?o.p(u,f):(o=pd(u),o.c(),o.m(l,s)):o&&(o.d(1),o=null),u[8].length?a?a.p(u,f):(a=bd(u),a.c(),a.m(l,null)):a&&(a.d(1),a=null)},d(u){u&&y(e),u&&y(t),u&&y(l),r&&r.d(),o&&o.d(),a&&a.d()}}}function fd(n){let e=[],t=new Map,l,i=n[9];const s=r=>r[32].id;for(let r=0;r<i.length;r+=1){let o=rd(n,i,r),a=s(o);t.set(a,e[r]=dd(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=ke()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);w(r,l,o)},p(r,o){o[0]&512&&(i=r[9],e=rt(e,o,s,1,r,i,t,l.parentNode,dl,dd,l,rd))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&y(l)}}}function cd(n){let e,t,l=n[32].id+"",i,s;return{c(){e=h("small"),t=B("("),i=B(l),s=B(")"),p(e,"class","txt-hint")},m(r,o){w(r,e,o),b(e,t),b(e,i),b(e,s)},p(r,o){o[0]&512&&l!==(l=r[32].id+"")&&oe(i,l)},d(r){r&&y(e)}}}function dd(n,e){let t,l,i,s,r=e[32].name+"",o,a,u,f=e[32].id&&cd(e);return{key:n,first:null,c(){t=h("div"),l=h("span"),l.textContent="删除",i=D(),s=h("strong"),o=B(r),a=D(),f&&f.c(),u=D(),p(l,"class","label label-danger list-label svelte-1jx20fl"),p(t,"class","list-item"),this.first=t},m(c,d){w(c,t,d),b(t,l),b(t,i),b(t,s),b(s,o),b(t,a),f&&f.m(t,null),b(t,u)},p(c,d){e=c,d[0]&512&&r!==(r=e[32].name+"")&&oe(o,r),e[32].id?f?f.p(e,d):(f=cd(e),f.c(),f.m(t,u)):f&&(f.d(1),f=null)},d(c){c&&y(t),f&&f.d()}}}function pd(n){let e=[],t=new Map,l,i=n[4];const s=r=>r[35].old.id+r[35].new.id;for(let r=0;r<i.length;r+=1){let o=sd(n,i,r),a=s(o);t.set(a,e[r]=hd(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=ke()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);w(r,l,o)},p(r,o){o[0]&16&&(i=r[4],e=rt(e,o,s,1,r,i,t,l.parentNode,dl,hd,l,sd))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&y(l)}}}function md(n){let e,t=n[35].old.name+"",l,i,s;return{c(){e=h("strong"),l=B(t),i=D(),s=h("i"),p(e,"class","txt-strikethrough txt-hint"),p(s,"class","ri-arrow-right-line txt-sm")},m(r,o){w(r,e,o),b(e,l),w(r,i,o),w(r,s,o)},p(r,o){o[0]&16&&t!==(t=r[35].old.name+"")&&oe(l,t)},d(r){r&&y(e),r&&y(i),r&&y(s)}}}function _d(n){let e,t,l=n[35].new.id+"",i,s;return{c(){e=h("small"),t=B("("),i=B(l),s=B(")"),p(e,"class","txt-hint")},m(r,o){w(r,e,o),b(e,t),b(e,i),b(e,s)},p(r,o){o[0]&16&&l!==(l=r[35].new.id+"")&&oe(i,l)},d(r){r&&y(e)}}}function hd(n,e){let t,l,i,s,r,o,a=e[35].new.name+"",u,f,c,d=e[35].old.name!==e[35].new.name&&md(e),m=e[35].new.id&&_d(e);return{key:n,first:null,c(){t=h("div"),l=h("span"),l.textContent="修改",i=D(),s=h("div"),d&&d.c(),r=D(),o=h("strong"),u=B(a),f=D(),m&&m.c(),c=D(),p(l,"class","label label-warning list-label svelte-1jx20fl"),p(s,"class","inline-flex flex-gap-5"),p(t,"class","list-item"),this.first=t},m(v,_){w(v,t,_),b(t,l),b(t,i),b(t,s),d&&d.m(s,null),b(s,r),b(s,o),b(o,u),b(s,f),m&&m.m(s,null),b(t,c)},p(v,_){e=v,e[35].old.name!==e[35].new.name?d?d.p(e,_):(d=md(e),d.c(),d.m(s,r)):d&&(d.d(1),d=null),_[0]&16&&a!==(a=e[35].new.name+"")&&oe(u,a),e[35].new.id?m?m.p(e,_):(m=_d(e),m.c(),m.m(s,null)):m&&(m.d(1),m=null)},d(v){v&&y(t),d&&d.d(),m&&m.d()}}}function bd(n){let e=[],t=new Map,l,i=n[8];const s=r=>r[32].id;for(let r=0;r<i.length;r+=1){let o=id(n,i,r),a=s(o);t.set(a,e[r]=vd(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=ke()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);w(r,l,o)},p(r,o){o[0]&256&&(i=r[8],e=rt(e,o,s,1,r,i,t,l.parentNode,dl,vd,l,id))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&y(l)}}}function gd(n){let e,t,l=n[32].id+"",i,s;return{c(){e=h("small"),t=B("("),i=B(l),s=B(")"),p(e,"class","txt-hint")},m(r,o){w(r,e,o),b(e,t),b(e,i),b(e,s)},p(r,o){o[0]&256&&l!==(l=r[32].id+"")&&oe(i,l)},d(r){r&&y(e)}}}function vd(n,e){let t,l,i,s,r=e[32].name+"",o,a,u,f=e[32].id&&gd(e);return{key:n,first:null,c(){t=h("div"),l=h("span"),l.textContent="添加",i=D(),s=h("strong"),o=B(r),a=D(),f&&f.c(),u=D(),p(l,"class","label label-success list-label svelte-1jx20fl"),p(t,"class","list-item"),this.first=t},m(c,d){w(c,t,d),b(t,l),b(t,i),b(t,s),b(s,o),b(t,a),f&&f.m(t,null),b(t,u)},p(c,d){e=c,d[0]&256&&r!==(r=e[32].name+"")&&oe(o,r),e[32].id?f?f.p(e,d):(f=gd(e),f.c(),f.m(t,u)):f&&(f.d(1),f=null)},d(c){c&&y(t),f&&f.d()}}}function kd(n){let e,t,l,i,s,r,o,a;return{c(){e=h("div"),t=h("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',l=D(),i=h("div"),i.innerHTML="<string>重名可能导致被替换</string>",s=D(),r=h("button"),r.innerHTML='<span class="txt">通过ids 替换</span>',p(t,"class","icon"),p(i,"class","content"),p(r,"type","button"),p(r,"class","btn btn-warning btn-sm btn-outline"),p(e,"class","alert alert-warning m-t-base")},m(u,f){w(u,e,f),b(e,t),b(e,l),b(e,i),b(e,s),b(e,r),o||(a=Y(r,"click",n[24]),o=!0)},p:x,d(u){u&&y(e),o=!1,a()}}}function yd(n){let e,t,l;return{c(){e=h("button"),e.innerHTML='<span class="txt">清空</span>',p(e,"type","button"),p(e,"class","btn btn-transparent link-hint")},m(i,s){w(i,e,s),t||(l=Y(e,"click",n[25]),t=!0)},p:x,d(i){i&&y(e),t=!1,l()}}}function g6(n){let e,t,l,i,s,r,o,a,u,f,c,d;const m=[h6,_6],v=[];function _(g,k){return g[5]?0:1}return f=_(n),c=v[f]=m[f](n),{c(){e=h("header"),t=h("nav"),l=h("div"),l.textContent="设置",i=D(),s=h("div"),r=B(n[15]),o=D(),a=h("div"),u=h("div"),c.c(),p(l,"class","breadcrumb-item"),p(s,"class","breadcrumb-item"),p(t,"class","breadcrumbs"),p(e,"class","page-header"),p(u,"class","panel"),p(a,"class","wrapper")},m(g,k){w(g,e,k),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),w(g,o,k),w(g,a,k),b(a,u),v[f].m(u,null),d=!0},p(g,k){(!d||k[0]&32768)&&oe(r,g[15]);let $=f;f=_(g),f===$?v[f].p(g,k):(ue(),I(v[$],1,1,()=>{v[$]=null}),fe(),c=v[f],c?c.p(g,k):(c=v[f]=m[f](g),c.c()),M(c,1),c.m(u,null))},i(g){d||(M(c),d=!0)},o(g){I(c),d=!1},d(g){g&&y(e),g&&y(o),g&&y(a),v[f].d()}}}function v6(n){let e,t,l,i,s,r;e=new Vn({}),l=new dn({props:{$$slots:{default:[g6]},$$scope:{ctx:n}}});let o={};return s=new m6({props:o}),n[27](s),s.$on("submit",n[28]),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment),i=D(),U(s.$$.fragment)},m(a,u){H(e,a,u),w(a,t,u),H(l,a,u),w(a,i,u),H(s,a,u),r=!0},p(a,u){const f={};u[0]&65535|u[1]&1024&&(f.$$scope={dirty:u,ctx:a}),l.$set(f);const c={};s.$set(c)},i(a){r||(M(e.$$.fragment,a),M(l.$$.fragment,a),M(s.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(l.$$.fragment,a),I(s.$$.fragment,a),r=!1},d(a){V(e,a),a&&y(t),V(l,a),a&&y(i),n[27](null),V(s,a)}}}function k6(n,e,t){let l,i,s,r,o,a,u;Ve(n,vt,Z=>t(15,u=Z)),Wt(vt,u="导入表结构",u);let f,c,d="",m=!1,v=[],_=[],g=!0,k=[],$=!1;C();async function C(){t(5,$=!0);try{t(2,_=await ce.collections.getFullList(200));for(let Z of _)delete Z.created,delete Z.updated}catch(Z){ce.error(Z)}t(5,$=!1)}function T(){if(t(4,k=[]),!!l)for(let Z of v){const se=j.findByKey(_,"id",Z.id);!(se!=null&&se.id)||!j.hasCollectionChanges(se,Z,g)||k.push({new:Z,old:se})}}function S(){t(1,v=[]);try{t(1,v=JSON.parse(d))}catch{}Array.isArray(v)?t(1,v=j.filterDuplicatesByKey(v)):t(1,v=[]);for(let Z of v)delete Z.created,delete Z.updated,Z.schema=j.filterDuplicatesByKey(Z.schema)}function E(){var Z,se;for(let ee of v){const te=j.findByKey(_,"name",ee.name)||j.findByKey(_,"id",ee.id);if(!te)continue;const pe=ee.id,Ee=te.id;ee.id=Ee;const We=Array.isArray(te.schema)?te.schema:[],ot=Array.isArray(ee.schema)?ee.schema:[];for(const xe of ot){const Je=j.findByKey(We,"name",xe.name);Je&&Je.id&&(xe.id=Je.id)}for(let xe of v)if(Array.isArray(xe.schema))for(let Je of xe.schema)(Z=Je.options)!=null&&Z.collectionId&&((se=Je.options)==null?void 0:se.collectionId)===pe&&(Je.options.collectionId=Ee)}t(0,d=JSON.stringify(v,null,4))}function O(Z){t(12,m=!0);const se=new FileReader;se.onload=async ee=>{t(12,m=!1),t(10,f.value="",f),t(0,d=ee.target.result),await Kt(),v.length||(Ol("Invalid collections configuration."),A())},se.onerror=ee=>{console.warn(ee),Ol("Failed to load the imported JSON."),t(12,m=!1),t(10,f.value="",f)},se.readAsText(Z)}function A(){t(0,d=""),t(10,f.value="",f),jt({})}function N(Z){le[Z?"unshift":"push"](()=>{f=Z,t(10,f)})}const F=()=>{f.files.length&&O(f.files[0])},L=()=>{f.click()};function P(){d=this.value,t(0,d)}function R(){g=this.checked,t(3,g)}const q=()=>E(),z=()=>A(),K=()=>c==null?void 0:c.show(_,v,g);function Q(Z){le[Z?"unshift":"push"](()=>{c=Z,t(11,c)})}const J=()=>A();return n.$$.update=()=>{n.$$.dirty[0]&1&&typeof d<"u"&&S(),n.$$.dirty[0]&3&&t(6,l=!!d&&v.length&&v.length===v.filter(Z=>!!Z.id&&!!Z.name).length),n.$$.dirty[0]&78&&t(9,i=_.filter(Z=>l&&g&&!j.findByKey(v,"id",Z.id))),n.$$.dirty[0]&70&&t(8,s=v.filter(Z=>l&&!j.findByKey(_,"id",Z.id))),n.$$.dirty[0]&10&&(typeof v<"u"||typeof g<"u")&&T(),n.$$.dirty[0]&785&&t(7,r=!!d&&(i.length||s.length||k.length)),n.$$.dirty[0]&224&&t(14,o=!$&&l&&r),n.$$.dirty[0]&6&&t(13,a=v.filter(Z=>{let se=j.findByKey(_,"name",Z.name)||j.findByKey(_,"id",Z.id);if(!se)return!1;if(se.id!=Z.id)return!0;const ee=Array.isArray(se.schema)?se.schema:[],te=Array.isArray(Z.schema)?Z.schema:[];for(const pe of te){if(j.findByKey(ee,"id",pe.id))continue;const We=j.findByKey(ee,"name",pe.name);if(We&&pe.id!=We.id)return!0}return!1}))},[d,v,_,g,k,$,l,r,s,i,f,c,m,a,o,u,E,O,A,N,F,L,P,R,q,z,K,Q,J]}class y6 extends ge{constructor(e){super(),be(this,e,k6,v6,_e,{},null,[-1,-1])}}function w6(n){let e,t,l,i,s,r,o,a,u,f;return{c(){e=h("label"),t=B("备份名"),i=D(),s=h("input"),o=D(),a=h("em"),a.textContent="格式需要如此 [a-z0-9_-].zip",p(e,"for",l=n[15]),p(s,"type","text"),p(s,"id",r=n[15]),p(s,"placeholder","Leave empty to autogenerate"),p(s,"pattern","^[a-z0-9_-]+\\.zip$"),p(a,"class","help-block")},m(c,d){w(c,e,d),b(e,t),w(c,i,d),w(c,s,d),re(s,n[2]),w(c,o,d),w(c,a,d),u||(f=Y(s,"input",n[7]),u=!0)},p(c,d){d&32768&&l!==(l=c[15])&&p(e,"for",l),d&32768&&r!==(r=c[15])&&p(s,"id",r),d&4&&s.value!==c[2]&&re(s,c[2])},d(c){c&&y(e),c&&y(i),c&&y(s),c&&y(o),c&&y(a),u=!1,f()}}}function $6(n){let e,t,l,i,s,r,o;return i=new de({props:{class:"form-field m-0",name:"name",$$slots:{default:[w6,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),e.innerHTML=`<div class="icon"><i class="ri-information-line"></i></div> 
        <div class="content"><p>备份会导致性能收到影响。</p> 
            <p class="txt-bold">云端的备份不会被备份到zip中</p></div>`,t=D(),l=h("form"),U(i.$$.fragment),p(e,"class","alert alert-info"),p(l,"id",n[4]),p(l,"autocomplete","off")},m(a,u){w(a,e,u),w(a,t,u),w(a,l,u),H(i,l,null),s=!0,r||(o=Y(l,"submit",Ke(n[5])),r=!0)},p(a,u){const f={};u&98308&&(f.$$scope={dirty:u,ctx:a}),i.$set(f)},i(a){s||(M(i.$$.fragment,a),s=!0)},o(a){I(i.$$.fragment,a),s=!1},d(a){a&&y(e),a&&y(t),a&&y(l),V(i),r=!1,o()}}}function T6(n){let e;return{c(){e=h("h4"),e.textContent="初始化一个新备份",p(e,"class","center txt-break")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function S6(n){let e,t,l,i,s,r,o;return{c(){e=h("button"),t=h("span"),t.textContent="取消",l=D(),i=h("button"),s=h("span"),s.textContent="立即开始",p(t,"class","txt"),p(e,"type","button"),p(e,"class","btn btn-transparent"),e.disabled=n[3],p(s,"class","txt"),p(i,"type","submit"),p(i,"form",n[4]),p(i,"class","btn btn-expanded"),i.disabled=n[3],X(i,"btn-loading",n[3])},m(a,u){w(a,e,u),b(e,t),w(a,l,u),w(a,i,u),b(i,s),r||(o=Y(e,"click",n[0]),r=!0)},p(a,u){u&8&&(e.disabled=a[3]),u&8&&(i.disabled=a[3]),u&8&&X(i,"btn-loading",a[3])},d(a){a&&y(e),a&&y(l),a&&y(i),r=!1,o()}}}function C6(n){let e,t,l={class:"backup-create-panel",beforeOpen:n[8],beforeHide:n[9],popup:!0,$$slots:{footer:[S6],header:[T6],default:[$6]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[10](e),e.$on("show",n[11]),e.$on("hide",n[12]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&8&&(r.beforeOpen=i[8]),s&8&&(r.beforeHide=i[9]),s&65548&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[10](null),V(e,i)}}}function E6(n,e,t){const l=pt(),i="backup_create_"+j.randomString(5);let s,r="",o=!1,a;function u($){jt({}),t(3,o=!1),t(2,r=$||""),s==null||s.show()}function f(){return s==null?void 0:s.hide()}async function c(){if(!o){t(3,o=!0),clearTimeout(a),a=setTimeout(()=>{f()},1500);try{await ce.backups.create(r,{$cancelKey:i}),t(3,o=!1),f(),l("submit"),wt("Successfully generated new backup.")}catch($){$.isAbort||ce.error($)}clearTimeout(a),t(3,o=!1)}}Hi(()=>{clearTimeout(a)});function d(){r=this.value,t(2,r)}const m=()=>o?(Ni("请稍等，正在进行备份"),!1):!0,v=()=>(o&&Ni("备份的定时任务已启动 。",4500),!0);function _($){le[$?"unshift":"push"](()=>{s=$,t(1,s)})}function g($){De.call(this,n,$)}function k($){De.call(this,n,$)}return[f,s,r,o,i,c,u,d,m,v,_,g,k]}class O6 extends ge{constructor(e){super(),be(this,e,E6,C6,_e,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function D6(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("备份名"),i=D(),s=h("input"),p(e,"for",l=n[14]),p(s,"type","text"),p(s,"id",r=n[14]),s.required=!0},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[2]),o||(a=Y(s,"input",n[9]),o=!0)},p(u,f){f&16384&&l!==(l=u[14])&&p(e,"for",l),f&16384&&r!==(r=u[14])&&p(s,"id",r),f&4&&s.value!==u[2]&&re(s,u[2])},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function A6(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g;return u=new ai({props:{value:n[1]}}),m=new de({props:{class:"form-field required m-0",name:"name",$$slots:{default:[D6,({uniqueId:k})=>({14:k}),({uniqueId:k})=>k?16384:0]},$$scope:{ctx:n}}}),{c(){e=h("div"),e.innerHTML=`<div class="icon"><i class="ri-alert-line"></i></div> 
        <div class="content"><p>请谨慎操作</p> 
            <p>备份会导致pb_data目录被替换。有可能会损失文件。</p> 
            <p class="txt-bold">备份系统还不稳定，更推荐在服务器直接备份。</p></div>`,t=D(),l=h("div"),i=B(`请输入
        `),s=h("div"),r=h("span"),o=B(n[1]),a=D(),U(u.$$.fragment),f=B(`
        备份的全名:`),c=D(),d=h("form"),U(m.$$.fragment),p(e,"class","alert alert-danger"),p(r,"class","txt"),p(s,"class","label"),p(l,"class","content m-b-sm"),p(d,"id",n[6]),p(d,"autocomplete","off")},m(k,$){w(k,e,$),w(k,t,$),w(k,l,$),b(l,i),b(l,s),b(s,r),b(r,o),b(s,a),H(u,s,null),b(l,f),w(k,c,$),w(k,d,$),H(m,d,null),v=!0,_||(g=Y(d,"submit",Ke(n[7])),_=!0)},p(k,$){(!v||$&2)&&oe(o,k[1]);const C={};$&2&&(C.value=k[1]),u.$set(C);const T={};$&49156&&(T.$$scope={dirty:$,ctx:k}),m.$set(T)},i(k){v||(M(u.$$.fragment,k),M(m.$$.fragment,k),v=!0)},o(k){I(u.$$.fragment,k),I(m.$$.fragment,k),v=!1},d(k){k&&y(e),k&&y(t),k&&y(l),V(u),k&&y(c),k&&y(d),V(m),_=!1,g()}}}function M6(n){let e,t,l,i,s;return{c(){e=h("h4"),t=B("恢复 "),l=h("strong"),i=B(n[1]),s=B("的备份"),p(e,"class","center txt-break")},m(r,o){w(r,e,o),b(e,t),b(e,l),b(l,i),b(e,s)},p(r,o){o&2&&oe(i,r[1])},d(r){r&&y(e)}}}function I6(n){let e,t,l,i,s,r,o,a;return{c(){e=h("button"),t=B("取消"),l=D(),i=h("button"),s=h("span"),s.textContent="开始恢复",p(e,"type","button"),p(e,"class","btn btn-transparent"),e.disabled=n[4],p(s,"class","txt"),p(i,"type","submit"),p(i,"form",n[6]),p(i,"class","btn btn-expanded"),i.disabled=r=!n[5]||n[4],X(i,"btn-loading",n[4])},m(u,f){w(u,e,f),b(e,t),w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"click",n[0]),o=!0)},p(u,f){f&16&&(e.disabled=u[4]),f&48&&r!==(r=!u[5]||u[4])&&(i.disabled=r),f&16&&X(i,"btn-loading",u[4])},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function N6(n){let e,t,l={class:"backup-restore-panel",overlayClose:!n[4],escClose:!n[4],beforeHide:n[10],popup:!0,$$slots:{footer:[I6],header:[M6],default:[A6]},$$scope:{ctx:n}};return e=new Yt({props:l}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){U(e.$$.fragment)},m(i,s){H(e,i,s),t=!0},p(i,[s]){const r={};s&16&&(r.overlayClose=!i[4]),s&16&&(r.escClose=!i[4]),s&16&&(r.beforeHide=i[10]),s&32822&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){n[11](null),V(e,i)}}}function F6(n,e,t){let l;const i="backup_restore_"+j.randomString(5);let s,r="",o="",a=!1;function u(k){jt({}),t(2,o=""),t(1,r=k),t(4,a=!1),s==null||s.show()}function f(){return s==null?void 0:s.hide()}async function c(){var k;if(!(!l||a)){t(4,a=!0);try{await ce.backups.restore(r),setTimeout(()=>{window.location.reload()},1e3)}catch($){$!=null&&$.isAbort||(t(4,a=!1),Ol(((k=$.response)==null?void 0:k.message)||$.message))}}}function d(){o=this.value,t(2,o)}const m=()=>!a;function v(k){le[k?"unshift":"push"](()=>{s=k,t(3,s)})}function _(k){De.call(this,n,k)}function g(k){De.call(this,n,k)}return n.$$.update=()=>{n.$$.dirty&6&&t(5,l=o!=""&&r==o)},[f,r,o,s,a,l,i,c,u,d,m,v,_,g]}class L6 extends ge{constructor(e){super(),be(this,e,F6,N6,_e,{show:8,hide:0})}get show(){return this.$$.ctx[8]}get hide(){return this.$$.ctx[0]}}function wd(n,e,t){const l=n.slice();return l[22]=e[t],l}function $d(n,e,t){const l=n.slice();return l[19]=e[t],l}function q6(n){let e=[],t=new Map,l,i,s=n[3];const r=a=>a[22].key;for(let a=0;a<s.length;a+=1){let u=wd(n,s,a),f=r(u);t.set(f,e[a]=Sd(f,u))}let o=null;return s.length||(o=Td()),{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ke(),o&&o.c()},m(a,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,u);w(a,l,u),o&&o.m(a,u),i=!0},p(a,u){u&876&&(s=a[3],ue(),e=rt(e,u,r,1,a,s,t,l.parentNode,Ot,Sd,l,wd),fe(),!s.length&&o?o.p(a,u):s.length?o&&(o.d(1),o=null):(o=Td(),o.c(),o.m(l.parentNode,l)))},i(a){if(!i){for(let u=0;u<s.length;u+=1)M(e[u]);i=!0}},o(a){for(let u=0;u<e.length;u+=1)I(e[u]);i=!1},d(a){for(let u=0;u<e.length;u+=1)e[u].d(a);a&&y(l),o&&o.d(a)}}}function P6(n){let e,t=Array(n[3].length||1),l=[];for(let i=0;i<t.length;i+=1)l[i]=Cd($d(n,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ke()},m(i,s){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(i,s);w(i,e,s)},p(i,s){if(s&8){t=Array(i[3].length||1);let r;for(r=0;r<t.length;r+=1){const o=$d(i,t,r);l[r]?l[r].p(o,s):(l[r]=Cd(),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},i:x,o:x,d(i){it(l,i),i&&y(e)}}}function Td(n){let e;return{c(){e=h("div"),e.innerHTML=`<span class="txt">暂无备份.</span> 
                `,p(e,"class","list-item list-item-placeholder svelte-1ulbkf5")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function Sd(n,e){let t,l,i,s,r,o=e[22].key+"",a,u,f,c,d=j.formattedFileSize(e[22].size)+"",m,v,_,g,k,$,C,T,S,E,O,A,N,F,L,P,R,q,z,K;function Q(){return e[10](e[22])}function J(){return e[11](e[22])}function Z(){return e[12](e[22])}return{key:n,first:null,c(){t=h("div"),l=h("i"),i=D(),s=h("div"),r=h("span"),a=B(o),u=D(),f=h("span"),c=B("("),m=B(d),v=B(")"),_=D(),g=h("div"),k=h("button"),$=h("i"),T=D(),S=h("button"),E=h("i"),A=D(),N=h("button"),F=h("i"),P=D(),p(l,"class","ri-folder-zip-line"),p(r,"class","name backup-name svelte-1ulbkf5"),p(f,"class","size txt-hint txt-nowrap"),p(s,"class","content"),p($,"class","ri-download-line"),p(k,"type","button"),p(k,"class","btn btn-sm btn-circle btn-hint btn-transparent"),k.disabled=C=e[6][e[22].key]||e[5][e[22].key],p(k,"aria-label","Download"),X(k,"btn-loading",e[5][e[22].key]),p(E,"class","ri-restart-line"),p(S,"type","button"),p(S,"class","btn btn-sm btn-circle btn-hint btn-transparent"),S.disabled=O=e[6][e[22].key],p(S,"aria-label","Restore"),p(F,"class","ri-delete-bin-7-line"),p(N,"type","button"),p(N,"class","btn btn-sm btn-circle btn-hint btn-transparent"),N.disabled=L=e[6][e[22].key],p(N,"aria-label","Delete"),X(N,"btn-loading",e[6][e[22].key]),p(g,"class","actions nonintrusive"),p(t,"class","list-item svelte-1ulbkf5"),this.first=t},m(se,ee){w(se,t,ee),b(t,l),b(t,i),b(t,s),b(s,r),b(r,a),b(s,u),b(s,f),b(f,c),b(f,m),b(f,v),b(t,_),b(t,g),b(g,k),b(k,$),b(g,T),b(g,S),b(S,E),b(g,A),b(g,N),b(N,F),b(t,P),q=!0,z||(K=[$e(Pe.call(null,k,"下载")),Y(k,"click",Ke(Q)),$e(Pe.call(null,S,"恢复")),Y(S,"click",Ke(J)),$e(Pe.call(null,N,"删除")),Y(N,"click",Ke(Z))],z=!0)},p(se,ee){e=se,(!q||ee&8)&&o!==(o=e[22].key+"")&&oe(a,o),(!q||ee&8)&&d!==(d=j.formattedFileSize(e[22].size)+"")&&oe(m,d),(!q||ee&104&&C!==(C=e[6][e[22].key]||e[5][e[22].key]))&&(k.disabled=C),(!q||ee&40)&&X(k,"btn-loading",e[5][e[22].key]),(!q||ee&72&&O!==(O=e[6][e[22].key]))&&(S.disabled=O),(!q||ee&72&&L!==(L=e[6][e[22].key]))&&(N.disabled=L),(!q||ee&72)&&X(N,"btn-loading",e[6][e[22].key])},i(se){q||(se&&Be(()=>{q&&(R||(R=Fe(t,Ge,{duration:150},!0)),R.run(1))}),q=!0)},o(se){se&&(R||(R=Fe(t,Ge,{duration:150},!1)),R.run(0)),q=!1},d(se){se&&y(t),se&&R&&R.end(),z=!1,Te(K)}}}function Cd(n){let e;return{c(){e=h("div"),e.innerHTML=`<span class="skeleton-loader"></span> 
                `,p(e,"class","list-item list-item-loader svelte-1ulbkf5")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function R6(n){let e,t,l;return{c(){e=h("span"),t=D(),l=h("span"),l.textContent="正在备份、恢复中，请稍后",p(e,"class","loader loader-sm"),p(l,"class","txt")},m(i,s){w(i,e,s),w(i,t,s),w(i,l,s)},d(i){i&&y(e),i&&y(t),i&&y(l)}}}function j6(n){let e,t,l;return{c(){e=h("i"),t=D(),l=h("span"),l.textContent="初始化一个新备份",p(e,"class","ri-play-circle-line"),p(l,"class","txt")},m(i,s){w(i,e,s),w(i,t,s),w(i,l,s)},d(i){i&&y(e),i&&y(t),i&&y(l)}}}function H6(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_;const g=[P6,q6],k=[];function $(A,N){return A[4]?0:1}l=$(n),i=k[l]=g[l](n);function C(A,N){return A[7]?j6:R6}let T=C(n),S=T(n),E={};f=new O6({props:E}),n[14](f),f.$on("submit",n[15]);let O={};return d=new L6({props:O}),n[16](d),{c(){e=h("div"),t=h("div"),i.c(),s=D(),r=h("div"),o=h("button"),S.c(),u=D(),U(f.$$.fragment),c=D(),U(d.$$.fragment),p(t,"class","list-content svelte-1ulbkf5"),p(o,"type","button"),p(o,"class","btn btn-block btn-transparent"),o.disabled=a=n[4]||!n[7],p(r,"class","list-item list-item-btn"),p(e,"class","list list-compact")},m(A,N){w(A,e,N),b(e,t),k[l].m(t,null),b(e,s),b(e,r),b(r,o),S.m(o,null),w(A,u,N),H(f,A,N),w(A,c,N),H(d,A,N),m=!0,v||(_=Y(o,"click",n[13]),v=!0)},p(A,[N]){let F=l;l=$(A),l===F?k[l].p(A,N):(ue(),I(k[F],1,1,()=>{k[F]=null}),fe(),i=k[l],i?i.p(A,N):(i=k[l]=g[l](A),i.c()),M(i,1),i.m(t,null)),T!==(T=C(A))&&(S.d(1),S=T(A),S&&(S.c(),S.m(o,null))),(!m||N&144&&a!==(a=A[4]||!A[7]))&&(o.disabled=a);const L={};f.$set(L);const P={};d.$set(P)},i(A){m||(M(i),M(f.$$.fragment,A),M(d.$$.fragment,A),m=!0)},o(A){I(i),I(f.$$.fragment,A),I(d.$$.fragment,A),m=!1},d(A){A&&y(e),k[l].d(),S.d(),A&&y(u),n[14](null),V(f,A),A&&y(c),n[16](null),V(d,A),v=!1,_()}}}function V6(n,e,t){let l,i,s=[],r=!1,o={},a={},u=!0;f(),v();async function f(){t(4,r=!0);try{t(3,s=await ce.backups.getFullList()),s.sort((E,O)=>E.modified<O.modified?1:E.modified>O.modified?-1:0),t(4,r=!1)}catch(E){E.isAbort||(ce.error(E),t(4,r=!1))}}async function c(E){if(!o[E]){t(5,o[E]=!0,o);try{const O=await ce.getAdminFileToken(),A=ce.backups.getDownloadUrl(O,E);j.download(A)}catch(O){O.isAbort||ce.error(O)}delete o[E],t(5,o)}}function d(E){Gt(`Do you really want to delete ${E}?`,()=>m(E))}async function m(E){if(!a[E]){t(6,a[E]=!0,a);try{await ce.backups.delete(E),j.removeByKey(s,"name",E),f(),wt(`Successfully deleted ${E}.`)}catch(O){O.isAbort||ce.error(O)}delete a[E],t(6,a)}}async function v(){var E;try{const O=await ce.health.check({$autoCancel:!1}),A=u;t(7,u=((E=O==null?void 0:O.data)==null?void 0:E.canBackup)||!1),A!=u&&u&&f()}catch{}}Ut(()=>{let E=setInterval(()=>{v()},3e3);return()=>{clearInterval(E)}});const _=E=>c(E.key),g=E=>i.show(E.key),k=E=>d(E.key),$=()=>l==null?void 0:l.show();function C(E){le[E?"unshift":"push"](()=>{l=E,t(1,l)})}const T=()=>{f()};function S(E){le[E?"unshift":"push"](()=>{i=E,t(2,i)})}return[f,l,i,s,r,o,a,u,c,d,_,g,k,$,C,T,S]}class U6 extends ge{constructor(e){super(),be(this,e,V6,H6,_e,{loadBackups:0})}get loadBackups(){return this.$$.ctx[0]}}function z6(n){let e;return{c(){e=h("i"),p(e,"class","ri-arrow-down-s-line")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function B6(n){let e;return{c(){e=h("i"),p(e,"class","ri-arrow-up-s-line")},m(t,l){w(t,e,l)},d(t){t&&y(e)}}}function Ed(n){var z,K,Q;let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O;t=new de({props:{class:"form-field form-field-toggle m-t-base m-b-0",$$slots:{default:[W6,({uniqueId:J})=>({32:J}),({uniqueId:J})=>[0,J?2:0]]},$$scope:{ctx:n}}});let A=n[2]&&Od(n);function N(J){n[25](J)}function F(J){n[26](J)}function L(J){n[27](J)}let P={toggleLabel:"使用s3协议存储备份",testFilesystem:"backups",configKey:"backups.s3",originalConfig:(z=n[0].backups)==null?void 0:z.s3};n[1].backups.s3!==void 0&&(P.config=n[1].backups.s3),n[7]!==void 0&&(P.isTesting=n[7]),n[8]!==void 0&&(P.testError=n[8]),o=new um({props:P}),le.push(()=>me(o,"config",N)),le.push(()=>me(o,"isTesting",F)),le.push(()=>me(o,"testError",L));let R=((Q=(K=n[1].backups)==null?void 0:K.s3)==null?void 0:Q.enabled)&&!n[9]&&!n[5]&&Dd(n),q=n[9]&&Ad(n);return{c(){e=h("form"),U(t.$$.fragment),l=D(),A&&A.c(),i=D(),s=h("div"),r=D(),U(o.$$.fragment),c=D(),d=h("div"),m=h("div"),v=D(),R&&R.c(),_=D(),q&&q.c(),g=D(),k=h("button"),$=h("span"),$.textContent="保存",p(s,"class","clearfix m-b-base"),p(m,"class","flex-fill"),p($,"class","txt"),p(k,"type","submit"),p(k,"class","btn btn-expanded"),k.disabled=C=!n[9]||n[5],X(k,"btn-loading",n[5]),p(d,"class","flex"),p(e,"class","block"),p(e,"autocomplete","off")},m(J,Z){w(J,e,Z),H(t,e,null),b(e,l),A&&A.m(e,null),b(e,i),b(e,s),b(e,r),H(o,e,null),b(e,c),b(e,d),b(d,m),b(d,v),R&&R.m(d,null),b(d,_),q&&q.m(d,null),b(d,g),b(d,k),b(k,$),S=!0,E||(O=[Y(k,"click",n[29]),Y(e,"submit",Ke(n[11]))],E=!0)},p(J,Z){var te,pe,Ee;const se={};Z[0]&4|Z[1]&6&&(se.$$scope={dirty:Z,ctx:J}),t.$set(se),J[2]?A?(A.p(J,Z),Z[0]&4&&M(A,1)):(A=Od(J),A.c(),M(A,1),A.m(e,i)):A&&(ue(),I(A,1,1,()=>{A=null}),fe());const ee={};Z[0]&1&&(ee.originalConfig=(te=J[0].backups)==null?void 0:te.s3),!a&&Z[0]&2&&(a=!0,ee.config=J[1].backups.s3,he(()=>a=!1)),!u&&Z[0]&128&&(u=!0,ee.isTesting=J[7],he(()=>u=!1)),!f&&Z[0]&256&&(f=!0,ee.testError=J[8],he(()=>f=!1)),o.$set(ee),(Ee=(pe=J[1].backups)==null?void 0:pe.s3)!=null&&Ee.enabled&&!J[9]&&!J[5]?R?R.p(J,Z):(R=Dd(J),R.c(),R.m(d,_)):R&&(R.d(1),R=null),J[9]?q?q.p(J,Z):(q=Ad(J),q.c(),q.m(d,g)):q&&(q.d(1),q=null),(!S||Z[0]&544&&C!==(C=!J[9]||J[5]))&&(k.disabled=C),(!S||Z[0]&32)&&X(k,"btn-loading",J[5])},i(J){S||(M(t.$$.fragment,J),M(A),M(o.$$.fragment,J),J&&Be(()=>{S&&(T||(T=Fe(e,Ge,{duration:150},!0)),T.run(1))}),S=!0)},o(J){I(t.$$.fragment,J),I(A),I(o.$$.fragment,J),J&&(T||(T=Fe(e,Ge,{duration:150},!1)),T.run(0)),S=!1},d(J){J&&y(e),V(t),A&&A.d(),V(o),R&&R.d(),q&&q.d(),J&&T&&T.end(),E=!1,Te(O)}}}function W6(n){let e,t,l,i,s,r,o,a;return{c(){e=h("input"),l=D(),i=h("label"),s=B("开启定时备份"),p(e,"type","checkbox"),p(e,"id",t=n[32]),e.required=!0,p(i,"for",r=n[32])},m(u,f){w(u,e,f),e.checked=n[2],w(u,l,f),w(u,i,f),b(i,s),o||(a=Y(e,"change",n[18]),o=!0)},p(u,f){f[1]&2&&t!==(t=u[32])&&p(e,"id",t),f[0]&4&&(e.checked=u[2]),f[1]&2&&r!==(r=u[32])&&p(i,"for",r)},d(u){u&&y(e),u&&y(l),u&&y(i),o=!1,a()}}}function Od(n){let e,t,l,i,s,r,o,a,u;return i=new de({props:{class:"form-field required",name:"backups.cron",$$slots:{default:[Y6,({uniqueId:f})=>({32:f}),({uniqueId:f})=>[0,f?2:0]]},$$scope:{ctx:n}}}),o=new de({props:{class:"form-field required",name:"backups.cronMaxKeep",$$slots:{default:[J6,({uniqueId:f})=>({32:f}),({uniqueId:f})=>[0,f?2:0]]},$$scope:{ctx:n}}}),{c(){e=h("div"),t=h("div"),l=h("div"),U(i.$$.fragment),s=D(),r=h("div"),U(o.$$.fragment),p(l,"class","col-lg-6"),p(r,"class","col-lg-6"),p(t,"class","grid p-t-base p-b-sm"),p(e,"class","block")},m(f,c){w(f,e,c),b(e,t),b(t,l),H(i,l,null),b(t,s),b(t,r),H(o,r,null),u=!0},p(f,c){const d={};c[0]&3|c[1]&6&&(d.$$scope={dirty:c,ctx:f}),i.$set(d);const m={};c[0]&2|c[1]&6&&(m.$$scope={dirty:c,ctx:f}),o.$set(m)},i(f){u||(M(i.$$.fragment,f),M(o.$$.fragment,f),f&&Be(()=>{u&&(a||(a=Fe(e,Ge,{duration:150},!0)),a.run(1))}),u=!0)},o(f){I(i.$$.fragment,f),I(o.$$.fragment,f),f&&(a||(a=Fe(e,Ge,{duration:150},!1)),a.run(0)),u=!1},d(f){f&&y(e),V(i),V(o),f&&a&&a.end()}}}function K6(n){let e,t,l,i,s,r,o,a,u;return{c(){e=h("button"),e.innerHTML='<span class="txt">Every day at 00:00h</span>',t=D(),l=h("button"),l.innerHTML='<span class="txt">Every sunday at 00:00h</span>',i=D(),s=h("button"),s.innerHTML='<span class="txt">Every Mon and Wed at 00:00h</span>',r=D(),o=h("button"),o.innerHTML='<span class="txt">Every first day of the month at 00:00h</span>',p(e,"type","button"),p(e,"class","dropdown-item closable"),p(l,"type","button"),p(l,"class","dropdown-item closable"),p(s,"type","button"),p(s,"class","dropdown-item closable"),p(o,"type","button"),p(o,"class","dropdown-item closable")},m(f,c){w(f,e,c),w(f,t,c),w(f,l,c),w(f,i,c),w(f,s,c),w(f,r,c),w(f,o,c),a||(u=[Y(e,"click",n[20]),Y(l,"click",n[21]),Y(s,"click",n[22]),Y(o,"click",n[23])],a=!0)},p:x,d(f){f&&y(e),f&&y(t),f&&y(l),f&&y(i),f&&y(s),f&&y(r),f&&y(o),a=!1,Te(u)}}}function Y6(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T;return _=new gn({props:{class:"dropdown dropdown-nowrap dropdown-right",$$slots:{default:[K6]},$$scope:{ctx:n}}}),{c(){var S,E;e=h("label"),t=B("Cron expression"),i=D(),s=h("input"),a=D(),u=h("div"),f=h("button"),c=h("span"),c.textContent="Presets",d=D(),m=h("i"),v=D(),U(_.$$.fragment),g=D(),k=h("div"),k.innerHTML=`<p>Supports numeric list, steps and ranges. The timezone is in
                                                UTC.</p>`,p(e,"for",l=n[32]),s.required=!0,p(s,"type","text"),p(s,"id",r=n[32]),p(s,"class","txt-lg txt-mono"),p(s,"placeholder","* * * * *"),s.autofocus=o=!((E=(S=n[0])==null?void 0:S.backups)!=null&&E.cron),p(c,"class","txt"),p(m,"class","ri-arrow-drop-down-fill"),p(f,"type","button"),p(f,"class","btn btn-sm btn-outline p-r-0"),p(u,"class","form-field-addon"),p(k,"class","help-block")},m(S,E){var O,A;w(S,e,E),b(e,t),w(S,i,E),w(S,s,E),re(s,n[1].backups.cron),w(S,a,E),w(S,u,E),b(u,f),b(f,c),b(f,d),b(f,m),b(f,v),H(_,f,null),w(S,g,E),w(S,k,E),$=!0,(A=(O=n[0])==null?void 0:O.backups)!=null&&A.cron||s.focus(),C||(T=Y(s,"input",n[19]),C=!0)},p(S,E){var A,N;(!$||E[1]&2&&l!==(l=S[32]))&&p(e,"for",l),(!$||E[1]&2&&r!==(r=S[32]))&&p(s,"id",r),(!$||E[0]&1&&o!==(o=!((N=(A=S[0])==null?void 0:A.backups)!=null&&N.cron)))&&(s.autofocus=o),E[0]&2&&s.value!==S[1].backups.cron&&re(s,S[1].backups.cron);const O={};E[0]&2|E[1]&4&&(O.$$scope={dirty:E,ctx:S}),_.$set(O)},i(S){$||(M(_.$$.fragment,S),$=!0)},o(S){I(_.$$.fragment,S),$=!1},d(S){S&&y(e),S&&y(i),S&&y(s),S&&y(a),S&&y(u),V(_),S&&y(g),S&&y(k),C=!1,T()}}}function J6(n){let e,t,l,i,s,r,o,a;return{c(){e=h("label"),t=B("Max @auto backups to keep"),i=D(),s=h("input"),p(e,"for",l=n[32]),p(s,"type","number"),p(s,"id",r=n[32]),p(s,"min","1")},m(u,f){w(u,e,f),b(e,t),w(u,i,f),w(u,s,f),re(s,n[1].backups.cronMaxKeep),o||(a=Y(s,"input",n[24]),o=!0)},p(u,f){f[1]&2&&l!==(l=u[32])&&p(e,"for",l),f[1]&2&&r!==(r=u[32])&&p(s,"id",r),f[0]&2&&lt(s.value)!==u[1].backups.cronMaxKeep&&re(s,u[1].backups.cronMaxKeep)},d(u){u&&y(e),u&&y(i),u&&y(s),o=!1,a()}}}function Dd(n){let e;function t(s,r){return s[7]?Q6:s[8]?G6:Z6}let l=t(n),i=l(n);return{c(){i.c(),e=ke()},m(s,r){i.m(s,r),w(s,e,r)},p(s,r){l===(l=t(s))&&i?i.p(s,r):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&y(e)}}}function Z6(n){let e;return{c(){e=h("div"),e.innerHTML=`<i class="ri-checkbox-circle-line txt-success"></i> 
                                    <span class="txt">S3 connected successfully</span>`,p(e,"class","label label-sm label-success entrance-right")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function G6(n){let e,t,l,i;return{c(){e=h("div"),e.innerHTML=`<i class="ri-error-warning-line txt-warning"></i> 
                                    <span class="txt">Failed to establish S3 connection</span>`,p(e,"class","label label-sm label-warning entrance-right")},m(s,r){var o;w(s,e,r),l||(i=$e(t=Pe.call(null,e,(o=n[8].data)==null?void 0:o.message)),l=!0)},p(s,r){var o;t&&kt(t.update)&&r[0]&256&&t.update.call(null,(o=s[8].data)==null?void 0:o.message)},d(s){s&&y(e),l=!1,i()}}}function Q6(n){let e;return{c(){e=h("span"),p(e,"class","loader loader-sm")},m(t,l){w(t,e,l)},p:x,d(t){t&&y(e)}}}function Ad(n){let e,t,l,i,s;return{c(){e=h("button"),t=h("span"),t.textContent="重置",p(t,"class","txt"),p(e,"type","submit"),p(e,"class","btn btn-hint btn-transparent"),e.disabled=l=!n[9]||n[5]},m(r,o){w(r,e,o),b(e,t),i||(s=Y(e,"click",n[28]),i=!0)},p(r,o){o[0]&544&&l!==(l=!r[9]||r[5])&&(e.disabled=l)},d(r){r&&y(e),i=!1,s()}}}function X6(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g,k,$,C,T,S,E,O,A,N;m=new ur({props:{class:"btn-sm",tooltip:"刷新"}}),m.$on("refresh",n[15]);let F={};_=new U6({props:F}),n[16](_);function L(z,K){return z[6]?B6:z6}let P=L(n),R=P(n),q=n[6]&&!n[4]&&Ed(n);return{c(){e=h("header"),t=h("nav"),l=h("div"),l.textContent="设置",i=D(),s=h("div"),r=B(n[10]),o=D(),a=h("div"),u=h("div"),f=h("div"),c=h("span"),c.textContent="备份或者恢复你的附件",d=D(),U(m.$$.fragment),v=D(),U(_.$$.fragment),g=D(),k=h("hr"),$=D(),C=h("button"),T=h("span"),T.textContent="更多设置",S=D(),R.c(),E=D(),q&&q.c(),p(l,"class","breadcrumb-item"),p(s,"class","breadcrumb-item"),p(t,"class","breadcrumbs"),p(e,"class","page-header"),p(c,"class","txt-xl"),p(f,"class","flex m-b-sm flex-gap-5"),p(T,"class","txt"),p(C,"type","button"),p(C,"class","btn btn-secondary"),C.disabled=n[4],X(C,"btn-loading",n[4]),p(u,"class","panel"),p(u,"autocomplete","off"),p(a,"class","wrapper")},m(z,K){w(z,e,K),b(e,t),b(t,l),b(t,i),b(t,s),b(s,r),w(z,o,K),w(z,a,K),b(a,u),b(u,f),b(f,c),b(f,d),H(m,f,null),b(u,v),H(_,u,null),b(u,g),b(u,k),b(u,$),b(u,C),b(C,T),b(C,S),R.m(C,null),b(u,E),q&&q.m(u,null),O=!0,A||(N=[Y(C,"click",n[17]),Y(u,"submit",Ke(n[11]))],A=!0)},p(z,K){(!O||K[0]&1024)&&oe(r,z[10]);const Q={};_.$set(Q),P!==(P=L(z))&&(R.d(1),R=P(z),R&&(R.c(),R.m(C,null))),(!O||K[0]&16)&&(C.disabled=z[4]),(!O||K[0]&16)&&X(C,"btn-loading",z[4]),z[6]&&!z[4]?q?(q.p(z,K),K[0]&80&&M(q,1)):(q=Ed(z),q.c(),M(q,1),q.m(u,null)):q&&(ue(),I(q,1,1,()=>{q=null}),fe())},i(z){O||(M(m.$$.fragment,z),M(_.$$.fragment,z),M(q),O=!0)},o(z){I(m.$$.fragment,z),I(_.$$.fragment,z),I(q),O=!1},d(z){z&&y(e),z&&y(o),z&&y(a),V(m),n[16](null),V(_),R.d(),q&&q.d(),A=!1,Te(N)}}}function x6(n){let e,t,l,i;return e=new Vn({}),l=new dn({props:{$$slots:{default:[X6]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(l.$$.fragment)},m(s,r){H(e,s,r),w(s,t,r),H(l,s,r),i=!0},p(s,r){const o={};r[0]&2047|r[1]&4&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(M(e.$$.fragment,s),M(l.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),I(l.$$.fragment,s),i=!1},d(s){V(e,s),s&&y(t),V(l,s)}}}function eT(n,e,t){let l,i;Ve(n,vt,Z=>t(10,i=Z)),Wt(vt,i="附件备份",i);let s,r={},o={},a=!1,u=!1,f="",c=!1,d=!1,m=!1,v=null;_();async function _(){t(4,a=!0);try{const Z=await ce.settings.getAll()||{};k(Z)}catch(Z){ce.error(Z)}t(4,a=!1)}async function g(){if(!(u||!l)){t(5,u=!0);try{const Z=await ce.settings.update(j.filterRedactedProps(o));await C(),k(Z),wt("Successfully saved application settings.")}catch(Z){ce.error(Z)}t(5,u=!1)}}function k(Z={}){t(1,o={backups:(Z==null?void 0:Z.backups)||{}}),t(2,c=o.backups.cron!=""),t(0,r=JSON.parse(JSON.stringify(o)))}function $(){t(1,o=JSON.parse(JSON.stringify(r||{backups:{}}))),t(2,c=o.backups.cron!="")}async function C(){await(s==null?void 0:s.loadBackups())}const T=()=>C();function S(Z){le[Z?"unshift":"push"](()=>{s=Z,t(3,s)})}const E=()=>t(6,d=!d);function O(){c=this.checked,t(2,c)}function A(){o.backups.cron=this.value,t(1,o),t(2,c)}const N=()=>{t(1,o.backups.cron="0 0 * * *",o)},F=()=>{t(1,o.backups.cron="0 0 * * 0",o)},L=()=>{t(1,o.backups.cron="0 0 * * 1,3",o)},P=()=>{t(1,o.backups.cron="0 0 1 * *",o)};function R(){o.backups.cronMaxKeep=lt(this.value),t(1,o),t(2,c)}function q(Z){n.$$.not_equal(o.backups.s3,Z)&&(o.backups.s3=Z,t(1,o),t(2,c))}function z(Z){m=Z,t(7,m)}function K(Z){v=Z,t(8,v)}const Q=()=>$(),J=()=>g();return n.$$.update=()=>{var Z;n.$$.dirty[0]&1&&t(14,f=JSON.stringify(r)),n.$$.dirty[0]&6&&!c&&(Z=o==null?void 0:o.backups)!=null&&Z.cron&&(Dn("backups.cron"),t(1,o.backups.cron="",o)),n.$$.dirty[0]&16386&&t(9,l=f!=JSON.stringify(o))},[r,o,c,s,a,u,d,m,v,l,i,g,$,C,f,T,S,E,O,A,N,F,L,P,R,q,z,K,Q,J]}class tT extends ge{constructor(e){super(),be(this,e,eT,x6,_e,{},null,[-1,-1])}}const St=[async n=>{const e=new URLSearchParams(window.location.search);return n.location!=="/"&&e.has("installer")?Gn("/"):!0}],nT={"/login":yt({component:l$,conditions:St.concat([n=>!ce.authStore.isValid]),userData:{showAppSidebar:!1}}),"/request-password-reset":yt({asyncComponent:()=>Xe(()=>import("./PageAdminRequestPasswordReset-56c7c9ca.js"),[],import.meta.url),conditions:St.concat([n=>!ce.authStore.isValid]),userData:{showAppSidebar:!1}}),"/confirm-password-reset/:token":yt({asyncComponent:()=>Xe(()=>import("./PageAdminConfirmPasswordReset-d3cee816.js"),[],import.meta.url),conditions:St.concat([n=>!ce.authStore.isValid]),userData:{showAppSidebar:!1}}),"/collections":yt({component:E3,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings":yt({component:p$,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/admins":yt({component:Q3,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/mail":yt({component:Q$,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/storage":yt({component:g4,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/auth-providers":yt({component:L4,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/tokens":yt({component:B4,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/export-collections":yt({component:n6,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/import-collections":yt({component:y6,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/backups":yt({component:tT,conditions:St.concat([n=>ce.authStore.isValid]),userData:{showAppSidebar:!0}}),"/users/confirm-password-reset/:token":yt({asyncComponent:()=>Xe(()=>import("./PageRecordConfirmPasswordReset-a49f9fdf.js"),[],import.meta.url),conditions:St,userData:{showAppSidebar:!1}}),"/auth/confirm-password-reset/:token":yt({asyncComponent:()=>Xe(()=>import("./PageRecordConfirmPasswordReset-a49f9fdf.js"),[],import.meta.url),conditions:St,userData:{showAppSidebar:!1}}),"/users/confirm-verification/:token":yt({asyncComponent:()=>Xe(()=>import("./PageRecordConfirmVerification-e6fac9e3.js"),[],import.meta.url),conditions:St,userData:{showAppSidebar:!1}}),"/auth/confirm-verification/:token":yt({asyncComponent:()=>Xe(()=>import("./PageRecordConfirmVerification-e6fac9e3.js"),[],import.meta.url),conditions:St,userData:{showAppSidebar:!1}}),"/users/confirm-email-change/:token":yt({asyncComponent:()=>Xe(()=>import("./PageRecordConfirmEmailChange-591ea555.js"),[],import.meta.url),conditions:St,userData:{showAppSidebar:!1}}),"/auth/confirm-email-change/:token":yt({asyncComponent:()=>Xe(()=>import("./PageRecordConfirmEmailChange-591ea555.js"),[],import.meta.url),conditions:St,userData:{showAppSidebar:!1}}),"/auth/oauth2-redirect":yt({asyncComponent:()=>Xe(()=>import("./PageOAuth2Redirect-25c06139.js"),[],import.meta.url),conditions:St,userData:{showAppSidebar:!1}}),"*":yt({component:m0,userData:{showAppSidebar:!1}})};function Md(n){let e,t,l,i,s,r,o,a,u,f,c,d,m,v,_,g;return m=new gn({props:{class:"dropdown dropdown-nowrap dropdown-upside dropdown-left",$$slots:{default:[lT]},$$scope:{ctx:n}}}),{c(){var k;e=h("aside"),t=h("a"),t.innerHTML='<img src="./images/logo.png" alt="PostgresBase logo" width="40" height="40"/>',l=D(),i=h("nav"),s=h("a"),s.innerHTML=`<div><div><i class="ri-database-2-line"></i></div> 
                        <p>表结构</p></div>`,r=D(),o=h("a"),o.innerHTML=`<div><div><i class="ri-tools-line"></i></div> 
                        <p>设置</p></div>`,a=D(),u=h("figure"),f=h("img"),d=D(),U(m.$$.fragment),p(t,"href","/"),p(t,"class","logo logo-sm"),p(s,"href","/collections"),p(s,"class","menu-item"),p(s,"aria-label","Collections"),p(o,"href","/settings"),p(o,"class","menu-item"),p(o,"aria-label","Settings"),p(i,"class","main-menu"),Xt(f.src,c="./images/avatars/avatar"+(((k=n[0])==null?void 0:k.avatar)||0)+".svg")||p(f,"src",c),p(f,"alt","Avatar"),p(u,"class","thumb thumb-circle link-hint closable"),p(e,"class","app-sidebar")},m(k,$){w(k,e,$),b(e,t),b(e,l),b(e,i),b(i,s),b(i,r),b(i,o),b(e,a),b(e,u),b(u,f),b(u,d),H(m,u,null),v=!0,_||(g=[$e(Zt.call(null,t)),$e(Zt.call(null,s)),$e(yn.call(null,s,{path:"/collections/?.*",className:"current-route"})),$e(Pe.call(null,s,{text:"表结构",position:"right"})),$e(Zt.call(null,o)),$e(yn.call(null,o,{path:"/settings/?.*",className:"current-route"})),$e(Pe.call(null,o,{text:"设置",position:"right"}))],_=!0)},p(k,$){var T;(!v||$&1&&!Xt(f.src,c="./images/avatars/avatar"+(((T=k[0])==null?void 0:T.avatar)||0)+".svg"))&&p(f,"src",c);const C={};$&4096&&(C.$$scope={dirty:$,ctx:k}),m.$set(C)},i(k){v||(M(m.$$.fragment,k),v=!0)},o(k){I(m.$$.fragment,k),v=!1},d(k){k&&y(e),V(m),_=!1,Te(g)}}}function lT(n){let e,t,l,i,s,r,o;return{c(){e=h("a"),e.innerHTML=`<i class="ri-shield-user-line"></i> 
                        <span class="txt">管理用户</span>`,t=D(),l=h("hr"),i=D(),s=h("button"),s.innerHTML=`<i class="ri-logout-circle-line"></i> 
                        <span class="txt">退出登录</span>`,p(e,"href","/settings/admins"),p(e,"class","dropdown-item closable"),p(s,"type","button"),p(s,"class","dropdown-item closable")},m(a,u){w(a,e,u),w(a,t,u),w(a,l,u),w(a,i,u),w(a,s,u),r||(o=[$e(Zt.call(null,e)),Y(s,"click",n[7])],r=!0)},p:x,d(a){a&&y(e),a&&y(t),a&&y(l),a&&y(i),a&&y(s),r=!1,Te(o)}}}function Id(n){let e,t,l;return t=new or({props:{scriptSrc:"./libs/tinymce/tinymce.min.js",conf:j.defaultEditorOptions()}}),t.$on("init",n[8]),{c(){e=h("div"),U(t.$$.fragment),p(e,"class","tinymce-preloader hidden")},m(i,s){w(i,e,s),H(t,e,null),l=!0},p:x,i(i){l||(M(t.$$.fragment,i),l=!0)},o(i){I(t.$$.fragment,i),l=!1},d(i){i&&y(e),V(t)}}}function iT(n){var g;let e,t,l,i,s,r,o,a,u,f,c,d,m;document.title=e=j.joinNonEmpty([n[4],n[3],"PostgresBase"]," - ");let v=((g=n[0])==null?void 0:g.id)&&n[1]&&Md(n);r=new N1({props:{routes:nT}}),r.$on("routeLoading",n[5]),r.$on("conditionsFailed",n[6]),a=new c1({}),f=new n1({});let _=n[1]&&!n[2]&&Id(n);return{c(){t=D(),l=h("div"),v&&v.c(),i=D(),s=h("div"),U(r.$$.fragment),o=D(),U(a.$$.fragment),u=D(),U(f.$$.fragment),c=D(),_&&_.c(),d=ke(),p(s,"class","app-body"),p(l,"class","app-layout")},m(k,$){w(k,t,$),w(k,l,$),v&&v.m(l,null),b(l,i),b(l,s),H(r,s,null),b(s,o),H(a,s,null),w(k,u,$),H(f,k,$),w(k,c,$),_&&_.m(k,$),w(k,d,$),m=!0},p(k,[$]){var C;(!m||$&24)&&e!==(e=j.joinNonEmpty([k[4],k[3],"PostgresBase"]," - "))&&(document.title=e),(C=k[0])!=null&&C.id&&k[1]?v?(v.p(k,$),$&3&&M(v,1)):(v=Md(k),v.c(),M(v,1),v.m(l,i)):v&&(ue(),I(v,1,1,()=>{v=null}),fe()),k[1]&&!k[2]?_?(_.p(k,$),$&6&&M(_,1)):(_=Id(k),_.c(),M(_,1),_.m(d.parentNode,d)):_&&(ue(),I(_,1,1,()=>{_=null}),fe())},i(k){m||(M(v),M(r.$$.fragment,k),M(a.$$.fragment,k),M(f.$$.fragment,k),M(_),m=!0)},o(k){I(v),I(r.$$.fragment,k),I(a.$$.fragment,k),I(f.$$.fragment,k),I(_),m=!1},d(k){k&&y(t),k&&y(l),v&&v.d(),V(r),V(a),k&&y(u),V(f,k),k&&y(c),_&&_.d(k),k&&y(d)}}}function sT(n,e,t){let l,i,s,r;Ve(n,Dl,_=>t(10,l=_)),Ve(n,Fi,_=>t(3,i=_)),Ve(n,lr,_=>t(0,s=_)),Ve(n,vt,_=>t(4,r=_));let o,a=!1,u=!1;function f(_){var g,k,$,C;((g=_==null?void 0:_.detail)==null?void 0:g.location)!==o&&(t(1,a=!!(($=(k=_==null?void 0:_.detail)==null?void 0:k.userData)!=null&&$.showAppSidebar)),o=(C=_==null?void 0:_.detail)==null?void 0:C.location,Wt(vt,r="",r),jt({}),Bp())}function c(){Gn("/")}async function d(){var _,g;if(s!=null&&s.id)try{const k=await ce.settings.getAll({$cancelKey:"initialAppSettings"});Wt(Fi,i=((_=k==null?void 0:k.meta)==null?void 0:_.appName)||"",i),Wt(Dl,l=!!((g=k==null?void 0:k.meta)!=null&&g.hideControls),l)}catch(k){k!=null&&k.isAbort||console.warn("Failed to load app settings.",k)}}function m(){ce.logout()}const v=()=>{t(2,u=!0)};return n.$$.update=()=>{n.$$.dirty&1&&s!=null&&s.id&&d()},[s,a,u,i,r,f,c,m,v]}class rT extends ge{constructor(e){super(),be(this,e,sT,iT,_e,{})}}new rT({target:document.getElementById("app")});export{Te as A,wt as B,j as C,Gn as D,ke as E,nm as F,Yp as G,Ut as H,Ve as I,An as J,pt as K,le as L,G4 as M,rt as N,Yi as O,dl as P,Ot as Q,it as R,ge as S,ln as T,Im as U,I as a,D as b,U as c,V as d,h as e,p as f,w as g,b as h,be as i,$e as j,ue as k,Zt as l,H as m,fe as n,y as o,ce as p,de as q,X as r,_e as s,M as t,Y as u,Ke as v,B as w,oe as x,x as y,re as z};
